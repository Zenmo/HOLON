<?xml version="1.0" encoding="UTF-8"?>
<!--
*************************************************
	         AnyLogic Project File 
*************************************************	         
-->
<AnyLogicWorkspace WorkspaceVersion="1.9" AnyLogicVersion="8.8.0.202208091057" AlpVersion="8.7.5">
<Model>
	<Id>1658477103134</Id>
	<Name><![CDATA[Base]]></Name>
	<EngineVersion>6</EngineVersion>
	<JavaPackageName><![CDATA[base]]></JavaPackageName>
	<ModelTimeUnit><![CDATA[Hour]]></ModelTimeUnit>
	<OptionLists>
		<OptionList>
			<Id>1658478100573</Id>
			<Name><![CDATA[OL_GridNodeType]]></Name>
			<Option>
				<Id>1658478100574</Id>
				<Name><![CDATA[HSMS]]></Name>
			</Option>
			<Option>
				<Id>1658478100575</Id>
				<Name><![CDATA[MSLS]]></Name>
			</Option>
			<Option>
				<Id>1659705289295</Id>
				<Name><![CDATA[HT]]></Name>
			</Option>
			<Option>
				<Id>1659705303447</Id>
				<Name><![CDATA[MT]]></Name>
			</Option>
			<Option>
				<Id>1659705308600</Id>
				<Name><![CDATA[LT]]></Name>
			</Option>
			<Option>
				<Id>1659705310310</Id>
				<Name><![CDATA[LT5thgen]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659117289326</Id>
			<Name><![CDATA[OL_EnergyCarrierType]]></Name>
			<Option>
				<Id>1659117289850</Id>
				<Name><![CDATA[ELECTRICITY]]></Name>
			</Option>
			<Option>
				<Id>1659117296810</Id>
				<Name><![CDATA[METHANE]]></Name>
			</Option>
			<Option>
				<Id>1659117299915</Id>
				<Name><![CDATA[HEAT]]></Name>
			</Option>
			<Option>
				<Id>1659117304956</Id>
				<Name><![CDATA[HYDROGEN]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659118262286</Id>
			<Name><![CDATA[OL_GridConnectionCategory]]></Name>
			<Option>
				<Id>1659118262287</Id>
				<Name><![CDATA[HOUSE]]></Name>
			</Option>
			<Option>
				<Id>1659118262288</Id>
				<Name><![CDATA[BUILDING]]></Name>
			</Option>
			<Option>
				<Id>1659118262289</Id>
				<Name><![CDATA[WINDFARM]]></Name>
			</Option>
			<Option>
				<Id>1659118262290</Id>
				<Name><![CDATA[SOLARFARM]]></Name>
			</Option>
			<Option>
				<Id>1660052337329</Id>
				<Name><![CDATA[DISTRICTHEATING]]></Name>
			</Option>
			<Option>
				<Id>1665480199198</Id>
				<Name><![CDATA[INDUSTRY]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659118272924</Id>
			<Name><![CDATA[OL_GridConnectionType]]></Name>
			<Option>
				<Id>1659118284642</Id>
				<Name><![CDATA[DETACHED]]></Name>
			</Option>
			<Option>
				<Id>1659118298339</Id>
				<Name><![CDATA[SEMIDETACHED]]></Name>
			</Option>
			<Option>
				<Id>1659118307632</Id>
				<Name><![CDATA[CORNER]]></Name>
			</Option>
			<Option>
				<Id>1659118321493</Id>
				<Name><![CDATA[TERRACED]]></Name>
			</Option>
			<Option>
				<Id>1659118323157</Id>
				<Name><![CDATA[APPARTMENT]]></Name>
			</Option>
			<Option>
				<Id>1659118328423</Id>
				<Name><![CDATA[HIGHRISE]]></Name>
			</Option>
			<Option>
				<Id>1659118330290</Id>
				<Name><![CDATA[STORE]]></Name>
			</Option>
			<Option>
				<Id>1659118342822</Id>
				<Name><![CDATA[OFFICE]]></Name>
			</Option>
			<Option>
				<Id>1659118344195</Id>
				<Name><![CDATA[SCHOOL]]></Name>
			</Option>
			<Option>
				<Id>1661512420149</Id>
				<Name><![CDATA[MT]]></Name>
			</Option>
			<Option>
				<Id>1664543832529</Id>
				<Name><![CDATA[HT]]></Name>
			</Option>
			<Option>
				<Id>1664543845215</Id>
				<Name><![CDATA[NONE]]></Name>
			</Option>
			<Option>
				<Id>1665480208045</Id>
				<Name><![CDATA[STEEL]]></Name>
			</Option>
			<Option>
				<Id>1665480220730</Id>
				<Name><![CDATA[INDUSTRY_OTHER]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659118426374</Id>
			<Name><![CDATA[OL_EnergyAssetType]]></Name>
			<Option>
				<Id>1659118426728</Id>
				<Name><![CDATA[WINDMILL]]></Name>
			</Option>
			<Option>
				<Id>1659118437009</Id>
				<Name><![CDATA[PHOTOVOLTAIC]]></Name>
			</Option>
			<Option>
				<Id>1659118482977</Id>
				<Name><![CDATA[PHOTOTHERMAL]]></Name>
			</Option>
			<Option>
				<Id>1659118495126</Id>
				<Name><![CDATA[OTHER_ELECTRICITY_CONSUMPTION]]></Name>
			</Option>
			<Option>
				<Id>1659118532364</Id>
				<Name><![CDATA[GAS_BURNER]]></Name>
			</Option>
			<Option>
				<Id>1659454936646</Id>
				<Name><![CDATA[HEAT_PUMP_AIR]]></Name>
			</Option>
			<Option>
				<Id>1659454948025</Id>
				<Name><![CDATA[HEAT_PUMP_GROUND]]></Name>
			</Option>
			<Option>
				<Id>1659454952726</Id>
				<Name><![CDATA[STORAGE_HEAT]]></Name>
			</Option>
			<Option>
				<Id>1659703216848</Id>
				<Name><![CDATA[STORAGE_ELECTRIC]]></Name>
			</Option>
			<Option>
				<Id>1659954815659</Id>
				<Name><![CDATA[HOT_WATER_CONSUMPTION]]></Name>
			</Option>
			<Option>
				<Id>1660134509899</Id>
				<Name><![CDATA[HEAT_DELIVERY_SET]]></Name>
			</Option>
			<Option>
				<Id>1660202624229</Id>
				<Name><![CDATA[ELECTRIC_VEHICLE]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659525715752</Id>
			<Name><![CDATA[OL_EAConversionTypes]]></Name>
			<Option>
				<Id>1659535854305</Id>
				<Name><![CDATA[HEATPUMP]]></Name>
			</Option>
			<Option>
				<Id>1659535860604</Id>
				<Name><![CDATA[GASBURNER]]></Name>
			</Option>
			<Option>
				<Id>1659535864564</Id>
				<Name><![CDATA[ELECTROLYSER]]></Name>
			</Option>
			<Option>
				<Id>1659535868209</Id>
				<Name><![CDATA[EBOILER]]></Name>
			</Option>
			<Option>
				<Id>1660131462165</Id>
				<Name><![CDATA[HEATDELIVERYSET]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659525726440</Id>
			<Name><![CDATA[OL_EAProductionTypes]]></Name>
			<Option>
				<Id>1659535893345</Id>
				<Name><![CDATA[PHOTOVOLTAIC]]></Name>
			</Option>
			<Option>
				<Id>1659535901330</Id>
				<Name><![CDATA[PHOTOTHERMAL]]></Name>
			</Option>
			<Option>
				<Id>1659950311558</Id>
				<Name><![CDATA[WINDMILL]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659525736586</Id>
			<Name><![CDATA[OL_EAConsumptionTypes]]></Name>
			<Option>
				<Id>1659535824593</Id>
				<Name><![CDATA[ELECTRICITY]]></Name>
			</Option>
			<Option>
				<Id>1659535830792</Id>
				<Name><![CDATA[HEAT]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659525748543</Id>
			<Name><![CDATA[OL_EAStorageTypes]]></Name>
			<Option>
				<Id>1659535943908</Id>
				<Name><![CDATA[ELECTRIC_BATTERY]]></Name>
			</Option>
			<Option>
				<Id>1659535950717</Id>
				<Name><![CDATA[ELECTRIC_VEHICLE]]></Name>
			</Option>
			<Option>
				<Id>1659535949187</Id>
				<Name><![CDATA[HEAT]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659535485693</Id>
			<Name><![CDATA[OL_EACategories]]></Name>
			<Option>
				<Id>1659535486263</Id>
				<Name><![CDATA[CONSUMPTION]]></Name>
			</Option>
			<Option>
				<Id>1659535492572</Id>
				<Name><![CDATA[CONVERSION]]></Name>
			</Option>
			<Option>
				<Id>1659535495564</Id>
				<Name><![CDATA[PRODUCTION]]></Name>
			</Option>
			<Option>
				<Id>1659535498309</Id>
				<Name><![CDATA[STORAGE]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659701773383</Id>
			<Name><![CDATA[OL_EAPresetConsumptionAssets]]></Name>
			<Option>
				<Id>1659701782496</Id>
				<Name><![CDATA[House_hot_water]]></Name>
			</Option>
			<Option>
				<Id>1659701773953</Id>
				<Name><![CDATA[House_other_electricity]]></Name>
			</Option>
			<Option>
				<Id>1659701788868</Id>
				<Name><![CDATA[Office_other_electricity]]></Name>
			</Option>
			<Option>
				<Id>1659701795639</Id>
				<Name><![CDATA[Store_other_electricity]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659711659517</Id>
			<Name><![CDATA[OL_EAPresetConversionAssets]]></Name>
			<Option>
				<Id>1659711661606</Id>
				<Name><![CDATA[House_heatpump_MT_S]]></Name>
			</Option>
			<Option>
				<Id>1659711661607</Id>
				<Name><![CDATA[House_heatpump_MT_M]]></Name>
			</Option>
			<Option>
				<Id>1659711661608</Id>
				<Name><![CDATA[House_heatpump_MT_L]]></Name>
			</Option>
			<Option>
				<Id>1659711661609</Id>
				<Name><![CDATA[House_gas_burner]]></Name>
			</Option>
			<Option>
				<Id>1659711661610</Id>
				<Name><![CDATA[Electrolyser]]></Name>
			</Option>
			<Option>
				<Id>1660054094472</Id>
				<Name><![CDATA[DH_gas_burner_S]]></Name>
			</Option>
			<Option>
				<Id>1660131437985</Id>
				<Name><![CDATA[House_DH_heatdeliveryset]]></Name>
			</Option>
			<Option>
				<Id>1664544072424</Id>
				<Name><![CDATA[DH_heat_pump_HT_S]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659950471000</Id>
			<Name><![CDATA[OL_EAPresetProductionAssets]]></Name>
			<Option>
				<Id>1659950531538</Id>
				<Name><![CDATA[House_solarpanels_S]]></Name>
			</Option>
			<Option>
				<Id>1659950534060</Id>
				<Name><![CDATA[House_solarpanels_M]]></Name>
			</Option>
			<Option>
				<Id>1659950555546</Id>
				<Name><![CDATA[House_solarpanels_L]]></Name>
			</Option>
			<Option>
				<Id>1659950562453</Id>
				<Name><![CDATA[Windmill_3MW]]></Name>
			</Option>
			<Option>
				<Id>1659950566729</Id>
				<Name><![CDATA[Windmill_5MW]]></Name>
			</Option>
			<Option>
				<Id>1659950570261</Id>
				<Name><![CDATA[Windmill_7MW]]></Name>
			</Option>
			<Option>
				<Id>1659970013275</Id>
				<Name><![CDATA[Solarpanels_1MW]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1660055228680</Id>
			<Name><![CDATA[OL_EAPresetStorageAssets]]></Name>
			<Option>
				<Id>1660055281773</Id>
				<Name><![CDATA[House_battery]]></Name>
			</Option>
			<Option>
				<Id>1660055281774</Id>
				<Name><![CDATA[House_heatmodel_A]]></Name>
			</Option>
			<Option>
				<Id>1660055281775</Id>
				<Name><![CDATA[House_heatmodel_B]]></Name>
			</Option>
			<Option>
				<Id>1660055281776</Id>
				<Name><![CDATA[House_heatmodel_C]]></Name>
			</Option>
			<Option>
				<Id>1660055281777</Id>
				<Name><![CDATA[House_heatmodel_D]]></Name>
			</Option>
			<Option>
				<Id>1660055281778</Id>
				<Name><![CDATA[House_heatmodel_E]]></Name>
			</Option>
			<Option>
				<Id>1660055281779</Id>
				<Name><![CDATA[House_heatmodel_F]]></Name>
			</Option>
			<Option>
				<Id>1660055281780</Id>
				<Name><![CDATA[House_heatmodel_G]]></Name>
			</Option>
			<Option>
				<Id>1660055281781</Id>
				<Name><![CDATA[EV]]></Name>
			</Option>
			<Option>
				<Id>1660055439251</Id>
				<Name><![CDATA[District_Heating_heat_buffer_HT_S]]></Name>
			</Option>
			<Option>
				<Id>1664536366729</Id>
				<Name><![CDATA[District_Heating_network_HT_S]]></Name>
			</Option>
			<Option>
				<Id>1664541052353</Id>
				<Name><![CDATA[District_Heating_network_MT_S]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1660226249511</Id>
			<Name><![CDATA[OL_ActorType]]></Name>
			<Option>
				<Id>1660226249512</Id>
				<Name><![CDATA[CONNECTIONOWNER]]></Name>
			</Option>
			<Option>
				<Id>1660226249513</Id>
				<Name><![CDATA[ADMINISTRATIVEHOLON]]></Name>
			</Option>
			<Option>
				<Id>1660226249514</Id>
				<Name><![CDATA[ENERGYSUPPLIER]]></Name>
			</Option>
			<Option>
				<Id>1660226249515</Id>
				<Name><![CDATA[ENERGYHOLON]]></Name>
			</Option>
			<Option>
				<Id>1660577544099</Id>
				<Name><![CDATA[GRIDOPERATOR]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1660743989498</Id>
			<Name><![CDATA[OL_ContractType]]></Name>
			<Option>
				<Id>1660743990769</Id>
				<Name><![CDATA[ELECTRICITY_VARIABLE]]></Name>
			</Option>
			<Option>
				<Id>1660744001037</Id>
				<Name><![CDATA[ELECTRICITY_FIXED]]></Name>
			</Option>
			<Option>
				<Id>1660744101216</Id>
				<Name><![CDATA[HEAT_FIXED]]></Name>
			</Option>
			<Option>
				<Id>1660744105865</Id>
				<Name><![CDATA[METHANE_FIXED]]></Name>
			</Option>
			<Option>
				<Id>1660746114431</Id>
				<Name><![CDATA[HYDROGEN_FIXED]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1664007652263</Id>
			<Name><![CDATA[OL_ChargingAttitude]]></Name>
			<Option>
				<Id>1664007652264</Id>
				<Name><![CDATA[SIMPLE]]></Name>
			</Option>
			<Option>
				<Id>1664007652265</Id>
				<Name><![CDATA[CHEAP]]></Name>
			</Option>
			<Option>
				<Id>1664007652266</Id>
				<Name><![CDATA[SELFCONSUMPTION]]></Name>
			</Option>
			<Option>
				<Id>1664007652267</Id>
				<Name><![CDATA[BIDIRECTIONAL]]></Name>
			</Option>
			<Option>
				<Id>1664012984861</Id>
				<Name><![CDATA[NONE]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1665486884039</Id>
			<Name><![CDATA[OL_GridConnectionHeatingType]]></Name>
			<Option>
				<Id>1665486884694</Id>
				<Name><![CDATA[GASBURNER]]></Name>
			</Option>
			<Option>
				<Id>1665486892834</Id>
				<Name><![CDATA[HEATPUMP_AIR]]></Name>
			</Option>
			<Option>
				<Id>1665486897604</Id>
				<Name><![CDATA[DISTRICTHEAT]]></Name>
			</Option>
			<Option>
				<Id>1665486901407</Id>
				<Name><![CDATA[NONE]]></Name>
			</Option>
			<Option>
				<Id>1665488083020</Id>
				<Name><![CDATA[HEATPUMP_GASPEAK]]></Name>
			</Option>
			<Option>
				<Id>1665488094233</Id>
				<Name><![CDATA[GASFIRED]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1665487983362</Id>
			<Name><![CDATA[OL_GridConnectionIsolationLabel]]></Name>
			<Option>
				<Id>1665487983978</Id>
				<Name><![CDATA[A]]></Name>
			</Option>
			<Option>
				<Id>1665487986412</Id>
				<Name><![CDATA[B]]></Name>
			</Option>
			<Option>
				<Id>1665487986996</Id>
				<Name><![CDATA[C]]></Name>
			</Option>
			<Option>
				<Id>1665487987672</Id>
				<Name><![CDATA[D]]></Name>
			</Option>
			<Option>
				<Id>1665487988212</Id>
				<Name><![CDATA[E]]></Name>
			</Option>
			<Option>
				<Id>1665487988752</Id>
				<Name><![CDATA[F]]></Name>
			</Option>
			<Option>
				<Id>1665487989247</Id>
				<Name><![CDATA[G]]></Name>
			</Option>
			<Option>
				<Id>1665487989742</Id>
				<Name><![CDATA[NONE]]></Name>
			</Option>
		</OptionList>
	</OptionLists>
	<ActiveObjectClasses>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658477103140</Id>
			<Name><![CDATA[Main]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Import><![CDATA[import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.node.ObjectNode;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.node.ArrayNode;
import com.fasterxml.jackson.databind.node.TextNode;
import com.fasterxml.jackson.databind.node.NumericNode;
import java.io.FileOutputStream;
import java.util.stream.Stream;
import java.util.Dictionary.*;
import java.util.Hashtable.*;

import java.io.File;
import java.io.IOException;]]></Import>
			<StartupCode><![CDATA[double startTime = System.currentTimeMillis();
v_timeOfModelStart_ms = startTime;
traceln("*** main start *** "+startTime);

// read config files
//f_readParameters();
if(p_importLocalConfigJsons) { f_importExperimentConfigs(); }
f_readConfigJSONS();
f_loadParameters();

// populate the model agent type populations
//f_configureBackBone_txt();
f_configureBackBone();
f_addDefaultEnergyAssets();
//f_addEnergyManagers();

// add optional KpiVisuals-agent for model monitoring, checks and debugging
f_addKpiVisuals();

j_dataOut = new DataOut();
j_experimentSettingsData = new J_ExperimentSettingsData();

double endTime = System.currentTimeMillis();
double duration = endTime - startTime;
v_modelStartUpDuration_s = roundToDecimal(duration / 1000, 3);

traceln("*** main end *** "+ endTime);
traceln("*** main duration *** "+ v_modelStartUpDuration_s+" s");]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658477103138</Id>
				<Name><![CDATA[1658477103138]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658563200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[p_timeStep_h]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658477103136</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658477103139</CurrentLevel>
			<ConnectionsId>1658477103135</ConnectionsId>
			<Outputs>
				<Output>
					<Id>1661516161016</Id>
					<Name><![CDATA[o_outputConnectionOwnerJSON]]></Name>
					<X>-920</X><Y>680</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[String]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<ComputationMoment>MANUALLY</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1661587200000</ComputationDate>
				</Output>
				<Output>
					<Id>1661529224106</Id>
					<Name><![CDATA[o_outputExceptions]]></Name>
					<X>-920</X><Y>700</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[String]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<ComputationMoment>MANUALLY</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1661587200000</ComputationDate>
				</Output>
				<Output>
					<Id>1663238746791</Id>
					<Name><![CDATA[o_outputSettings]]></Name>
					<X>-920</X><Y>720</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[String]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<ComputationMoment>MANUALLY</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1663315200000</ComputationDate>
				</Output>
				<Output>
					<Id>1663255244236</Id>
					<Name><![CDATA[o_outputTrigger]]></Name>
					<X>-920</X><Y>740</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[double]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<Value Class="CodeValue">
						<Code><![CDATA[f_returnKPIData(true)]]></Code>
					</Value>
					<ComputationMoment>ON_SIMULATION_END</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1663315200000</ComputationDate>
				</Output>
			</Outputs>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1659356181110</Id>
					<Name><![CDATA[v_currentHouseHoldOtherElectricityDemand_fr]]></Name>
					<Description><![CDATA[Fraction of yearly demand in MWh per hour, multiplied by demand in MWh per year = MW for that hour]]></Description>
					<X>500</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659356201846</Id>
					<Name><![CDATA[v_currentWindPowerNormalized_r]]></Name>
					<X>500</X><Y>115</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659356216131</Id>
					<Name><![CDATA[v_currentSolarPowerNormalized_r]]></Name>
					<X>500</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659364131698</Id>
					<Name><![CDATA[v_currentAmbientTemperature_degC]]></Name>
					<X>500</X><Y>165</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663238634515</Id>
					<Name><![CDATA[v_timeStepsElapsed]]></Name>
					<X>810</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663243393136</Id>
					<Name><![CDATA[v_timeOfModelStart_ms]]></Name>
					<X>810</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663246198254</Id>
					<Name><![CDATA[v_modelStartUpDuration_s]]></Name>
					<X>810</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664530118871</Id>
					<Name><![CDATA[v_currentBuildingOtherElectricityDemand_fr]]></Name>
					<Description><![CDATA[Fraction of yearly demand in MWh per hour, multiplied by demand in MWh per year = MW for that hour]]></Description>
					<X>500</X><Y>65</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664533236896</Id>
					<Name><![CDATA[v_currentHouseHoldHotWaterDemand_fr]]></Name>
					<X>500</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1658496701675</Id>
					<Name><![CDATA[p_timeStep_h]]></Name>
					<Description><![CDATA[Model timestep in uren. Kan in experimenten aangepast worden naar wens.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>-930</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0.25]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1658496701673</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658752734133</Id>
					<Name><![CDATA[b_addKpiVisuals]]></Name>
					<Description><![CDATA[Schakelaar om optionele visualisatie-agent te creÃ«ren.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>810</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1658752734131</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1659521098545</Id>
					<Name><![CDATA[p_undergroundTemperature_degC]]></Name>
					<Description><![CDATA[Constante ondergrondtemperatuur voor gebruik in bijv. loss-functions voor heatStorage en efficientieberekeningen van bodemwarmtepompen. Per modelrun ingelezen vanuit externe database en gelinkte excelsheet.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-930</X><Y>350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1659521098543</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1661500135010</Id>
					<Name><![CDATA[p_gridNodeConfigJSON]]></Name>
					<X>-210</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA["[{\"index\":0,\"agenttype\":\"gridNode\",\"id\":\"E2\",\"type\":\"ELECTRICITY\",\"type2\":\"MSLS\",\"parent\":\"E1\",\"capacity_kw\":1000,\"operator\":\"o1\"},{\"index\":1,\"agenttype\":\"gridNode\",\"id\":\"E3\",\"type\":\"ELECTRICITY\",\"type2\":\"MSLS\",\"parent\":\"E1\",\"capacity_kw\":1000,\"operator\":\"o1\"},{\"index\":2,\"agenttype\":\"gridNode\",\"id\":\"E4\",\"type\":\"ELECTRICITY\",\"type2\":\"MSLS\",\"parent\":\"E1\",\"capacity_kw\":1000,\"operator\":\"o1\"},{\"index\":3,\"agenttype\":\"gridNode\",\"id\":\"E1\",\"type\":\"ELECTRICITY\",\"type2\":\"HSMS\",\"parent\":null,\"capacity_kw\":500000,\"operator\":\"o1\"},{\"index\":4,\"agenttype\":\"gridNode\",\"id\":\"H1\",\"type\":\"HEAT\",\"type2\":\"MT\",\"parent\":null,\"capacity_kw\":300000,\"operator\":null}]"]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1661500135008</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1661509540475</Id>
					<Name><![CDATA[p_gridConnectionConfigJSON]]></Name>
					<X>-210</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA["[{\"index\":0,\"agenttype\":\"gridConnection\",\"id\":\"b1\",\"type\":\"HOUSE\",\"type2\":\"DETACHED\",\"parent_electric\":\"E2\",\"parent_heat\":null,\"capacity_kw\":11,\"owner_actor\":\"hh1\"},{\"index\":1,\"agenttype\":\"gridConnection\",\"id\":\"b2\",\"type\":\"HOUSE\",\"type2\":\"TERRACED\",\"parent_electric\":\"E2\",\"parent_heat\":null,\"capacity_kw\":11,\"owner_actor\":\"hh2\"},{\"index\":2,\"agenttype\":\"gridConnection\",\"id\":\"b3\",\"type\":\"HOUSE\",\"type2\":\"SEMIDETACHED\",\"parent_electric\":\"E2\",\"parent_heat\":\"H1\",\"capacity_kw\":11,\"owner_actor\":\"hh3\"},{\"index\":3,\"agenttype\":\"gridConnection\",\"id\":\"b4\",\"type\":\"HOUSE\",\"type2\":\"DETACHED\",\"parent_electric\":\"E3\",\"parent_heat\":null,\"capacity_kw\":11,\"owner_actor\":\"hh4\"},{\"index\":4,\"agenttype\":\"gridConnection\",\"id\":\"b5\",\"type\":\"HOUSE\",\"type2\":\"SEMIDETACHED\",\"parent_electric\":\"E3\",\"parent_heat\":null,\"capacity_kw\":11,\"owner_actor\":\"hh5\"},{\"index\":5,\"agenttype\":\"gridConnection\",\"id\":\"b6\",\"type\":\"HOUSE\",\"type2\":\"TERRACED\",\"parent_electric\":\"E3\",\"parent_heat\":null,\"capacity_kw\":11,\"owner_actor\":\"hh6\"},{\"index\":6,\"agenttype\":\"gridConnection\",\"id\":\"b7\",\"type\":\"HOUSE\",\"type2\":\"TERRACED\",\"parent_electric\":\"E4\",\"parent_heat\":null,\"capacity_kw\":11,\"owner_actor\":\"hh7\"},{\"index\":7,\"agenttype\":\"gridConnection\",\"id\":\"b8\",\"type\":\"HOUSE\",\"type2\":\"DETACHED\",\"parent_electric\":\"E4\",\"parent_heat\":null,\"capacity_kw\":11,\"owner_actor\":\"hh8\"},{\"index\":8,\"agenttype\":\"gridConnection\",\"id\":\"b9\",\"type\":\"HOUSE\",\"type2\":\"DETACHED\",\"parent_electric\":\"E4\",\"parent_heat\":null,\"capacity_kw\":11,\"owner_actor\":\"hh9\"},{\"index\":9,\"agenttype\":\"gridConnection\",\"id\":\"b10\",\"type\":\"HOUSE\",\"type2\":\"DETACHED\",\"parent_electric\":\"E2\",\"parent_heat\":\"H1\",\"capacity_kw\":11,\"owner_actor\":\"hh10\"},{\"index\":10,\"agenttype\":\"gridConnection\",\"id\":\"b11\",\"type\":\"HOUSE\",\"type2\":\"TERRACED\",\"parent_electric\":\"E2\",\"parent_heat\":\"H1\",\"capacity_kw\":11,\"owner_actor\":\"hh11\"},{\"index\":11,\"agenttype\":\"gridConnection\",\"id\":\"b12\",\"type\":\"HOUSE\",\"type2\":\"SEMIDETACHED\",\"parent_electric\":\"E2\",\"parent_heat\":\"H1\",\"capacity_kw\":11,\"owner_actor\":\"hh12\"},{\"index\":12,\"agenttype\":\"gridConnection\",\"id\":\"b13\",\"type\":\"HOUSE\",\"type2\":\"DETACHED\",\"parent_electric\":\"E3\",\"parent_heat\":null,\"capacity_kw\":11,\"owner_actor\":\"hh13\"},{\"index\":13,\"agenttype\":\"gridConnection\",\"id\":\"b14\",\"type\":\"HOUSE\",\"type2\":\"SEMIDETACHED\",\"parent_electric\":\"E3\",\"parent_heat\":null,\"capacity_kw\":11,\"owner_actor\":\"hh14\"},{\"index\":14,\"agenttype\":\"gridConnection\",\"id\":\"b15\",\"type\":\"HOUSE\",\"type2\":\"TERRACED\",\"parent_electric\":\"E3\",\"parent_heat\":null,\"capacity_kw\":11,\"owner_actor\":\"hh15\"},{\"index\":15,\"agenttype\":\"gridConnection\",\"id\":\"b16\",\"type\":\"HOUSE\",\"type2\":\"TERRACED\",\"parent_electric\":\"E4\",\"parent_heat\":null,\"capacity_kw\":11,\"owner_actor\":\"hh16\"},{\"index\":16,\"agenttype\":\"gridConnection\",\"id\":\"b17\",\"type\":\"HOUSE\",\"type2\":\"DETACHED\",\"parent_electric\":\"E4\",\"parent_heat\":null,\"capacity_kw\":11,\"owner_actor\":\"hh17\"},{\"index\":17,\"agenttype\":\"gridConnection\",\"id\":\"b18\",\"type\":\"HOUSE\",\"type2\":\"DETACHED\",\"parent_electric\":\"E4\",\"parent_heat\":null,\"capacity_kw\":12,\"owner_actor\":\"hh18\"},{\"index\":18,\"agenttype\":\"gridConnection\",\"id\":\"b19\",\"type\":\"BUILDING\",\"type2\":\"STORE\",\"parent_electric\":\"E2\",\"parent_heat\":\"H1\",\"capacity_kw\":50,\"owner_actor\":\"com1\"},{\"index\":19,\"agenttype\":\"gridConnection\",\"id\":\"b20\",\"type\":\"BUILDING\",\"type2\":\"STORE\",\"parent_electric\":\"E3\",\"parent_heat\":null,\"capacity_kw\":50,\"owner_actor\":\"com2\"},{\"index\":20,\"agenttype\":\"gridConnection\",\"id\":\"b21\",\"type\":\"BUILDING\",\"type2\":\"STORE\",\"parent_electric\":\"E4\",\"parent_heat\":null,\"capacity_kw\":50,\"owner_actor\":\"com3\"},{\"index\":21,\"agenttype\":\"gridConnection\",\"id\":\"b22\",\"type\":\"BUILDING\",\"type2\":\"STORE\",\"parent_electric\":\"E2\",\"parent_heat\":null,\"capacity_kw\":50,\"owner_actor\":\"com3\"},{\"index\":22,\"agenttype\":\"gridConnection\",\"id\":\"b23\",\"type\":\"BUILDING\",\"type2\":\"OFFICE\",\"parent_electric\":\"E3\",\"parent_heat\":null,\"capacity_kw\":50,\"owner_actor\":\"com4\"},{\"index\":23,\"agenttype\":\"gridConnection\",\"id\":\"b24\",\"type\":\"BUILDING\",\"type2\":\"OFFICE\",\"parent_electric\":\"E4\",\"parent_heat\":null,\"capacity_kw\":50,\"owner_actor\":\"com4\"},{\"index\":24,\"agenttype\":\"gridConnection\",\"id\":\"b25\",\"type\":\"WINDFARM\",\"type2\":\"NONE\",\"parent_electric\":\"E2\",\"parent_heat\":null,\"capacity_kw\":400000,\"owner_actor\":\"sup1\"},{\"index\":25,\"agenttype\":\"gridConnection\",\"id\":\"b26\",\"type\":\"WINDFARM\",\"type2\":\"NONE\",\"parent_electric\":\"E3\",\"parent_heat\":null,\"capacity_kw\":400000,\"owner_actor\":\"sup1\"},{\"index\":26,\"agenttype\":\"gridConnection\",\"id\":\"b27\",\"type\":\"SOLARFARM\",\"type2\":\"NONE\",\"parent_electric\":\"E4\",\"parent_heat\":null,\"capacity_kw\":400000,\"owner_actor\":\"sup1\"},{\"index\":27,\"agenttype\":\"gridConnection\",\"id\":\"b28\",\"type\":\"DISTRICTHEATING\",\"type2\":\"NONE\",\"parent_electric\":\"E2\",\"parent_heat\":\"H1\",\"capacity_kw\":400000,\"owner_actor\":\"sup2\"}]"]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1661509540473</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1661510358303</Id>
					<Name><![CDATA[p_actorsConfigJSON]]></Name>
					<X>-210</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA["[{\"index\":0,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh1\",\"parent_actor\":\"sup1\"},{\"index\":1,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh2\",\"parent_actor\":\"sup1\"},{\"index\":2,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh3\",\"parent_actor\":\"sup1\"},{\"index\":3,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh4\",\"parent_actor\":\"hol1\"},{\"index\":4,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh5\",\"parent_actor\":\"sup1\"},{\"index\":5,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh6\",\"parent_actor\":\"sup1\"},{\"index\":6,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh7\",\"parent_actor\":\"sup1\"},{\"index\":7,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh8\",\"parent_actor\":\"sup1\"},{\"index\":8,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh9\",\"parent_actor\":\"sup1\"},{\"index\":9,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh10\",\"parent_actor\":\"hol1\"},{\"index\":10,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh11\",\"parent_actor\":\"hol1\"},{\"index\":11,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh12\",\"parent_actor\":\"hol1\"},{\"index\":12,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh13\",\"parent_actor\":\"sup1\"},{\"index\":13,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh14\",\"parent_actor\":\"sup1\"},{\"index\":14,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh15\",\"parent_actor\":\"sup1\"},{\"index\":15,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh16\",\"parent_actor\":\"sup1\"},{\"index\":16,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh17\",\"parent_actor\":\"sup1\"},{\"index\":17,\"type\":\"household\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"hh18\",\"parent_actor\":\"sup1\"},{\"index\":18,\"type\":\"commercial\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"com1\",\"parent_actor\":\"hol1\"},{\"index\":19,\"type\":\"commercial\",\"agenttype\":\"CONNECTIONOWNER\",\"id\":\"com2\",\"parent_actor\":\"sup1\"},{\"index\":20,\"type\":\"energysupplier\",\"agenttype\":\"ENERGYSUPPLIER\",\"id\":\"sup1\",\"parent_actor\":\"nat\"},{\"index\":21,\"type\":\"energysupplier\",\"agenttype\":\"ENERGYSUPPLIER\",\"id\":\"sup2\",\"parent_actor\":\"nat\"},{\"index\":22,\"type\":\"holon\",\"agenttype\":\"ENERGYHOLON\",\"id\":\"hol1\",\"parent_actor\":\"sup2\"},{\"index\":23,\"type\":\"gridoperator\",\"agenttype\":\"GRIDOPERATOR\",\"id\":\"o1\",\"parent_actor\":null}]"]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1661510358301</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1661510407466</Id>
					<Name><![CDATA[p_energyAssetsConfigJSON]]></Name>
					<X>-210</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA["[{\"index\":0,\"agenttype\":\"energyAsset\",\"id\":\"a1\",\"type\":\"PRODUCTION\",\"type2\":\"WINDMILL\",\"parent\":\"b25\",\"capacity_electric_kw\":3000,\"capacity_heat_kw\":0},{\"index\":1,\"agenttype\":\"energyAsset\",\"id\":\"a2\",\"type\":\"PRODUCTION\",\"type2\":\"WINDMILL\",\"parent\":\"b25\",\"capacity_electric_kw\":5000,\"capacity_heat_kw\":0},{\"index\":2,\"agenttype\":\"energyAsset\",\"id\":\"a3\",\"type\":\"PRODUCTION\",\"type2\":\"WINDMILL\",\"parent\":\"b26\",\"capacity_electric_kw\":5000,\"capacity_heat_kw\":0},{\"index\":3,\"agenttype\":\"energyAsset\",\"id\":\"a4\",\"type\":\"PRODUCTION\",\"type2\":\"WINDMILL\",\"parent\":\"b26\",\"capacity_electric_kw\":3000,\"capacity_heat_kw\":0},{\"index\":4,\"agenttype\":\"energyAsset\",\"id\":\"a5\",\"type\":\"PRODUCTION\",\"type2\":\"PHOTOVOLTAIC\",\"parent\":\"b27\",\"capacity_electric_kw\":1000,\"capacity_heat_kw\":0},{\"index\":5,\"agenttype\":\"energyAsset\",\"id\":\"a6\",\"type\":\"PRODUCTION\",\"type2\":\"PHOTOVOLTAIC\",\"parent\":\"b27\",\"capacity_electric_kw\":1000,\"capacity_heat_kw\":0}]"]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1661510407464</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1663239405341</Id>
					<Name><![CDATA[j_dataOut]]></Name>
					<X>-920</X><Y>620</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[DataOut]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1663239405339</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1663242364390</Id>
					<Name><![CDATA[j_experimentSettingsData]]></Name>
					<X>-920</X><Y>640</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_ExperimentSettingsData]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1663242364388</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1663318124014</Id>
					<Name><![CDATA[p_importLocalConfigJsons]]></Name>
					<Description><![CDATA[Vink dit aan als je experimenten wil doen met jsons op de schijf. Uitzetten voor gebruik in de cloud!

@author: JorritvandenHouten
@since: Sprint 7]]></Description>
					<X>-929</X><Y>399</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[true]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1663318124012</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1663325373671</Id>
					<Name><![CDATA[p_forceUncached]]></Name>
					<Description><![CDATA[Niet gebruikt in model zelf, kan vrij gewijzigd worden om uncached cloud experiments te forceren

@author: JorritvandenHouten
@since: Sprint 7]]></Description>
					<X>-930</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1663325373669</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1663577621793</Id>
					<Name><![CDATA[p_parallelize]]></Name>
					<Description><![CDATA[Model timestep in uren. Kan in experimenten aangepast worden naar wens.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>-930</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1663577621791</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1661504944109</Id>
					<Name><![CDATA[parsedJSONGridNodes]]></Name>
					<X>-210</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[HashMap]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1661510454747</Id>
					<Name><![CDATA[parsedJSONGridConnections]]></Name>
					<X>-210</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[HashMap]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1661510457715</Id>
					<Name><![CDATA[parsedJSONActors]]></Name>
					<X>-210</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[HashMap]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1661510460035</Id>
					<Name><![CDATA[parsedJSONEnergyAssets]]></Name>
					<X>-210</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[HashMap]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663238323139</Id>
					<Name><![CDATA[c_connectionOwners]]></Name>
					<X>-210</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[ConnectionOwner]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663251681035</Id>
					<Name><![CDATA[c_gridNodesHSMS]]></Name>
					<X>-210</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663252052482</Id>
					<Name><![CDATA[c_gridNodesMSLS]]></Name>
					<X>-210</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663312177330</Id>
					<Name><![CDATA[c_gridConnections]]></Name>
					<X>-210</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridConnection]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663336485480</Id>
					<Name><![CDATA[c_gridNodesHeat]]></Name>
					<X>-210</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664539599603</Id>
					<Name><![CDATA[c_gridNodes]]></Name>
					<X>-210</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664953351408</Id>
					<Name><![CDATA[c_productionAssets]]></Name>
					<X>-210</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1665492426842</Id>
					<Name><![CDATA[c_ambientAirDependentAssets]]></Name>
					<X>-210</X><Y>350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Events>
				<Event>
					<Id>1658497469833</Id>
					<Name><![CDATA[e_calculateEnergyBalance]]></Name>
					<Description><![CDATA[Trigger voor energieberekeningen in de model backbone. Volgorde is belangrijk voor consistente resultaten.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>60</X><Y>397</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1658563200000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[0]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[p_timeStep_h]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[// Update tijdreeksen in leesbare variabelen
f_updateTimeseries();

// Update productie van alle productieassets binnen
f_calculateProductionAssetOutput();

// Operate consumption assets and update flows
f_calculateConsumptionAssets();

// Calculate grid node flows
f_calculateGridnodeFlows();

// Financial accounting of energy flows
f_calculateFinancialFlows();

// Update elektriciteitsprijzen
f_determinePricesForNextTimestep();

v_timeStepsElapsed ++;]]></Action>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658478826439</Id>
					<Name><![CDATA[f_configureBackBone]]></Name>
					<Description><![CDATA[Generieke functie die flexibele modelconfiguratie mogelijk maakt op basis van externe data. Expliciet gemodelleerd om profiling en volgorde van initialisatie te kunnen controleren.

@param: none
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-660</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// 0. add agents to population from database: Actors
String actorID;
OL_ActorType actortype;
String parentActorID;
String type;

for(HashMap data : parsedJSONActors)
{
    actorID = data.get( "id" ).toString();
    type = data.get( "type" ).toString();
    actortype = OL_ActorType.valueOf((String)data.get( "agenttype" ));
    //traceln(actortype.toString());
    parentActorID = String.valueOf(data.get( "parent_actor" ));

	if (actortype.equals(OL_ActorType.CONNECTIONOWNER) ) {
	    ConnectionOwner Actor = add_pop_connectionOwners( actorID, type, parentActorID, null);
	    Actor.j_ConnectionOwnerData = new J_ConnectionOwnerData(actorID, type, parentActorID);
	    c_connectionOwners.add(Actor);
    } else if (actortype.equals(OL_ActorType.ENERGYSUPPLIER) ) {
//	    EnergySupplier Actor = add_pop_energySuppliers( actorID, actortype, parentActorID, null);
		EnergySupplier Actor = add_pop_energySuppliers(actorID, type, parentActorID, null, 0.21, 0.1, 0.05, 0.3, 0.17);
    } else if (actortype.equals(OL_ActorType.ENERGYHOLON) ) {
	    EnergyHolon Actor = add_pop_energyHolons( actorID, type, parentActorID, null);
    } else if (actortype.equals(OL_ActorType.GRIDOPERATOR) ) {
	    GridOperator Actor = add_pop_gridOperators( actorID, type, parentActorID, null);
    }
}

for (ConnectionOwner a : pop_connectionOwners) {
	a.f_connectToParentActor();
}
for (EnergyHolon a : pop_energyHolons) {
	a.f_connectToParentActor();
}

// 1. add agents to population from database: GridNodes

// iterate over the entries in the ArrayList as HashMaps so we can access the 
// values by calling the corresponding keys

String nodeID;
OL_GridNodeType nodetype;
OL_EnergyCarrierType energytype;
String nodeparent;
int nodecapacity;
String nodeoperator;

for(HashMap data : parsedJSONGridNodes)
{
   	nodeID = data.get("id").toString();
	nodetype = OL_GridNodeType.valueOf((String)data.get("type2"));
	energytype = OL_EnergyCarrierType.valueOf((String)data.get("type"));
	nodeparent = (String) data.get("parent");
	nodecapacity = (Integer)data.get("capacity_kw");
	nodeoperator = String.valueOf(data.get("owner"));
	//traceln("data "+"id= "+nodeID +", nodetype = "+nodetype +", energytype = "+ energytype+", nodeparent = "+ nodeparent+", capacity = "+ nodecapacity+ ", ownerOperator = "+ nodeoperator);
	//traceln(data.toString());
	
	GridNode GridNode = add_pop_gridNodes( nodeID, nodeparent, nodetype, energytype, nodecapacity, null, null, nodeoperator );
	//traceln("agent "+nodeID+" added by JSON!");
	c_gridNodes.add(GridNode);
	switch( GridNode.p_nodeType ) {
		case HSMS:
			c_gridNodesHSMS.add(GridNode);
		break;
		case MSLS:
			c_gridNodesMSLS.add(GridNode);
		break;
		case HT:
			c_gridNodesHeat.add(GridNode);
		break;
		case MT:
			c_gridNodesHeat.add(GridNode);
		break;
		default:
			traceln("Gridnode not added to collection!");
		break;
	}
}

// do this only after all GridNodes have been created! Or connections might be missed
for( GridNode g : pop_gridNodes ) {
	g.f_connectToParentNode();
}


// 2. add agents to population from database: NetConnections
String gridConnectionID;
OL_GridConnectionCategory gridConnectionCategory;
OL_GridConnectionType gridConnectionType;
OL_GridConnectionHeatingType gridConnectionHeatingType;
OL_GridConnectionIsolationLabel gridConnectionIsolationLabel;
String gridConnectionParentElectric;
String gridConnectionParentHeat="";
Double gridConnectionCapacity;
String ownerActorID;

for(HashMap data : parsedJSONGridConnections) {
//    traceln("data = "+data);
	gridConnectionCategory = OL_GridConnectionCategory.valueOf((String)data.get( "type" ));
    gridConnectionType = OL_GridConnectionType.valueOf((String)data.get( "type2" ));
    gridConnectionParentElectric = data.get( "parent_electric" ).toString();
    gridConnectionParentHeat = (String)data.get( "parent_heat" );
    gridConnectionCapacity = roundToDecimal((Integer)data.get( "capacity_kw" )+0.0,2);
    gridConnectionID = data.get( "id" ).toString();
	ownerActorID = data.get ( "owner_actor" ).toString();
	gridConnectionIsolationLabel = OL_GridConnectionIsolationLabel.valueOf((String)data.get( "isolation_label" ));
	gridConnectionHeatingType = OL_GridConnectionHeatingType.valueOf((String)data.get( "heating_type" ));
		
	//traceln("data: " + "id = " + gridConnectionID + ", category = " + gridConnectionCategory + ", connectionType = " + gridConnectionType + ", parentElectric" + gridConnectionParentElectric + ", parentHeat = " + gridConnectionParentHeat + ", capacity = " + gridConnectionCapacity + "owner_actor = "+ ownerActorID);
	switch(gridConnectionCategory) {
		case HOUSE: 
	 		GCHouse GCHouse = add_gCHouses(gridConnectionCategory, gridConnectionType, gridConnectionCapacity, gridConnectionParentElectric, gridConnectionID, gridConnectionParentHeat, null, null, null, ownerActorID, null, null, gridConnectionHeatingType, null, uniform(0.1, 0.3), 7, gridConnectionIsolationLabel);
 			c_gridConnections.add(GCHouse);
	 	break;
 		case BUILDING:
 			GCBuilding GCBuilding = add_gCBuildings(gridConnectionCategory, gridConnectionType, gridConnectionCapacity, gridConnectionParentElectric, gridConnectionID, gridConnectionParentHeat, null, null, null, ownerActorID, null, null, gridConnectionHeatingType);
	 		c_gridConnections.add(GCBuilding);
		break;
		case DISTRICTHEATING:
	 		GCDistrictHeating GCDistrictHeating = add_gCDistrictHeatings(gridConnectionCategory, gridConnectionType, gridConnectionCapacity, gridConnectionParentElectric, gridConnectionID, gridConnectionParentHeat, null, null, null, ownerActorID, null, null, gridConnectionHeatingType);
	 		c_gridConnections.add(GCDistrictHeating);
		break;
		case WINDFARM:
	 		GCWindfarm GCWindfarm = add_gCWindfarms(gridConnectionCategory, gridConnectionType, gridConnectionCapacity, gridConnectionParentElectric, gridConnectionID, gridConnectionParentHeat, null, null, null, ownerActorID, null, null, null);
	 		c_gridConnections.add(GCWindfarm);
	 	break;
	 	case SOLARFARM:
	 		GCSolarfarm GCSolarfarm = add_gCSolarfarms(gridConnectionCategory, gridConnectionType, gridConnectionCapacity, gridConnectionParentElectric, gridConnectionID, gridConnectionParentHeat, null, null, null, ownerActorID, null, null, null);
	 		c_gridConnections.add(GCSolarfarm);
	 	break;
	 	default:
	 		traceln("No subagent defined for this gridConnection type!");
	 	break;
 	}
//	else if {
//		GridConnection GridConnection = add_pop_gridConnections(netConnectionCategory, netConnectionType, netConnectionCapacity, netConnectionParentElectric, netConnectionID, netConnectionParentHeat, null, null, null, null, ownerActorID, null, null);
//	   c_gridConnections.add(GridConnection);
//	}
}
for (GridConnection g : c_gridConnections) {
	g.f_connectToParentNode();
}	
// assign heat supplier only after all relevant agent connections are made!
for (GridConnection g: c_gridConnections) {
	if(g.p_parentNodeHeat instanceof GridNode && g.p_ownerActor instanceof ConnectionOwner) {
			ConnectionOwner o = (ConnectionOwner)g.p_ownerActor;
			List<GridConnection> heatSuppliers = filter( g.p_parentNodeHeat.subConnections.getConnections(), p -> p.p_gridConnectionCategory.equals(DISTRICTHEATING));
//			traceln("connection id: "+g.p_agentID+", heatEnergySupplier: "+heatSuppliers+ ", owneractor: "+heatSuppliers.get(0).p_ownerActor); 
			o.v_energySupplierDistrictHeat = heatSuppliers.get(0).p_ownerActor;
	
	}
}
//String energyAssetID;
OL_EACategories assetCategory;
OL_EnergyAssetType assetType;
String assetParentID;
double capacityElectric_kW;
double capacityHeat_kW;

for(HashMap data : parsedJSONEnergyAssets) {
 //   traceln("data = "+data);
    assetCategory = OL_EACategories.valueOf( (String)data.get( "type" ) );
    assetType = OL_EnergyAssetType.valueOf( (String)data.get( "type2" ) );
    assetParentID = (String)data.get( "parent" );
    capacityElectric_kW = roundToDecimal((Integer)data.get( "capacity_electric_kw" ),2);
    capacityHeat_kW = roundToDecimal((Integer)data.get( "capacity_heat_kw" ),2);

    EnergyAsset ea = add_pop_energyAssets(null, assetParentID, assetType);  // let op: andere volgorde van argumenten. Nog fixen?
    //EnergyAsset.f_connectToParentNode(null);

	switch(assetCategory) {
		case PRODUCTION:
	    	ea.f_instantiateProducerAsset(assetType, capacityElectric_kW, capacityHeat_kW);
	    	ea.f_connectToParentNode(null);
	    	c_productionAssets.add(ea);
    	break;
    	default:
 //   		traceln("f_configureBackbone: no energy asset of this instantiated yet!");
    	break;
    }

}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658494691805</Id>
					<Name><![CDATA[f_readConfigJSONS]]></Name>
					<Description><![CDATA[Functie om handmatig databases te updaten vanuit custom database connection objecten (niet aanwezig als het model is opgeslagen met Gillis' AnyLogic-versie). Gebruikt om mogelijk externe database-connecties (via URLs) te kunnen implementeren, en voor profiling doeleinden.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-660</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// create a mapper to parse the JSON file
ObjectMapper mapper = new ObjectMapper();

// open the json file using java.io.File and cast it to an ArrayList
//GridNode config
try {
parsedJSONGridNodes = mapper.readValue(
		p_gridNodeConfigJSON,    // <--- THIS PART CHANGED!
		ArrayList.class);

} catch (IOException e) {
e.printStackTrace();
update_o_outputExceptions(e.getMessage());
}

//GridConnection config
try {
parsedJSONGridConnections = mapper.readValue(
		p_gridConnectionConfigJSON,    // <--- THIS PART CHANGED!
		ArrayList.class);

} catch (IOException e) {
e.printStackTrace();
update_o_outputExceptions(e.getMessage());
}

//Actor config
try {
parsedJSONActors = mapper.readValue(
		p_actorsConfigJSON,    // <--- THIS PART CHANGED!
		ArrayList.class);

} catch (IOException e) {
e.printStackTrace();
update_o_outputExceptions(e.getMessage());
}

//EnergyAssets config
try {
parsedJSONEnergyAssets = mapper.readValue(
		p_energyAssetsConfigJSON,    // <--- THIS PART CHANGED!
		ArrayList.class);

} catch (IOException e) {
e.printStackTrace();
update_o_outputExceptions(e.getMessage());
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658496886351</Id>
					<Name><![CDATA[f_readParameters]]></Name>
					<Description><![CDATA[Functie om handmatig de parameterdatabase te updaten vanuit custom database connection object (niet aanwezig als het model is opgeslagen met Gillis' AnyLogic-versie). Gebruikt om mogelijk externe database-connecties (via URLs) te kunnen implementeren, en voor profiling doeleinden.

@since: Sprint 6
@author: Jorrit]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-930</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// read backbone config database
ModelDatabase sheet1 = getEngine().getModelDatabase();
Connection sourceConnection = db_backboneParams.getConnection();
Connection targetConnection = sheet1.getConnection();
sheet1.importFromExternalDB(sourceConnection, "params", "params", true, true);
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658752781726</Id>
					<Name><![CDATA[f_addKpiVisuals]]></Name>
					<Description><![CDATA[Functie om addKpiVisuals toe te voegen (expliciet voor profiling issues).

@param: none
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-660</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if(b_addKpiVisuals)
{
	add_kpiVisuals();
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659085548820</Id>
					<Name><![CDATA[f_addDefaultEnergyAssets]]></Name>
					<Description><![CDATA[Functie om default energy assets toe te kunnen kennen aan netConnection-agent op basis van hun type. Nu ook gebruikt als testbed van de model backbone.

@param: none
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-660</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// add standard EnergyAsset agents from NetConnection agent subtypes automatically
//List<GridConnection> NetConnectionList = filter( pop_gridConnections, b -> true );
//c_gridConnections.parallelStream().forEach(n -> {

for (GridConnection n : c_gridConnections) {
	OL_GridConnectionCategory gridConnectionCategory = n.p_gridConnectionCategory;
	OL_GridConnectionType gridConnectionType = n.p_gridConnectionType;
	OL_GridConnectionHeatingType heatingType = n.p_heatingType;


	if( gridConnectionCategory == OL_GridConnectionCategory.HOUSE ) {
		OL_GridConnectionIsolationLabel isolationLabel = ((GCHouse)n).p_isolationLabel;
		// testing import of default energyAsset
		f_addPresetConsumptionAsset( n, OL_EAPresetConsumptionAssets.House_other_electricity);
		f_addPresetConsumptionAsset( n, OL_EAPresetConsumptionAssets.House_hot_water );
		f_addPresetProductionAsset( n, OL_EAPresetProductionAssets.House_solarpanels_M);
		//f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_battery);
		
		switch(isolationLabel) {
			case A:		
				f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_heatmodel_A);
			break;
			case B:		
				f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_heatmodel_B);
			break;
			case C:		
				f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_heatmodel_C);
			break;
			case D:		
				f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_heatmodel_D);
			break;
			case E:		
				f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_heatmodel_E);
			break;
			case F:		
				f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_heatmodel_F);
			break;
			case G:		
				f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_heatmodel_G);
			break;
			default:
				traceln("f_addDefaultEnergyAssets: house without valid label");
			break;
		}
				
		
		if( n.p_parentNodeHeatID != null && heatingType == DISTRICTHEAT ) {
			f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.House_DH_heatdeliveryset );
		}
		else if(heatingType == OL_GridConnectionHeatingType.GASBURNER ) {
			f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.House_gas_burner);
		}
		f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.EV);
	}

	if( gridConnectionCategory == OL_GridConnectionCategory.BUILDING ) {
		switch(gridConnectionType) {
			case OFFICE:
				f_addPresetConsumptionAsset( n, OL_EAPresetConsumptionAssets.Office_other_electricity);
			break;
			case STORE:
				f_addPresetConsumptionAsset( n, OL_EAPresetConsumptionAssets.Store_other_electricity);
			break;
			default:
				traceln("not a valid building type!");
			break;
		}
		
		if( n.p_parentNodeHeatID != null ) {
			f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.House_DH_heatdeliveryset );
		}
		else {
			f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.House_gas_burner);
		}
	}

	if( gridConnectionCategory == OL_GridConnectionCategory.DISTRICTHEATING )  {
		f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.District_Heating_heat_buffer_HT_S );
		
		switch( heatingType ) {
			case GASFIRED:
				f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.DH_gas_burner_S );
			break;
			case HEATPUMP_GASPEAK:
				f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.DH_heat_pump_HT_S );
			break;
			default:
				traceln("no such DH heat source modeled yet");
			break;
		}
	}
}

for(GridNode g : c_gridNodesHeat) {
	OL_GridNodeType nodeType = g.p_nodeType;
	
	if( nodeType == OL_GridNodeType.HT ) {
		traceln("f_addDefaultEnergyAssets debug: heat network storage asset added for gridNode "+g.toString());
		f_addPresetStorageAsset( g, OL_EAPresetStorageAssets.District_Heating_network_HT_S );
	}
	else if( nodeType == OL_GridNodeType.MT ) {
		traceln("f_addDefaultEnergyAssets debug: heat network storage asset added for gridNode "+g.toString());
		f_addPresetStorageAsset( g, OL_EAPresetStorageAssets.District_Heating_network_MT_S );
	}	
}	
//});
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659111937777</Id>
					<Name><![CDATA[f_loadParameters]]></Name>
					<Description><![CDATA[Functie om parameterwaarden extern (data-agnost) in te laden bij model startup, expliciet gemodelleerd voor profiling-doeleinden. 
@param: none
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-930</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Set backbone physical parameters
p_undergroundTemperature_degC = (double) selectFrom(params)
	.where(params.parameter.eq("p_undergroundTemperature_degC"))
	.firstResult(params.value);]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659700031259</Id>
					<Name><![CDATA[f_addPresetConsumptionAsset]]></Name>
					<Description><![CDATA[Generieke functie gebruikt om default energy assets van type CONSUMPTION met bijbehorende parameterwaarden toe te kunnen voegen. 

@param: ownerAgent gridconnection waar de energyAsset op aangesloten is (in principe een netConnection).
@param: consumptionAssetPreset een van de beschikbare default energy assets van type CONSUMPTION
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-660</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ownerAgent]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[consumptionAssetPreset]]></Name>
						<Type><![CDATA[OL_EAPresetConsumptionAssets]]></Type>
					</Parameter>
					<Body><![CDATA[String parentAgentID;

if( ownerAgent instanceof GridConnection ) {
	ownerAgent = (GridConnection)ownerAgent;
	parentAgentID = ((GridConnection) ownerAgent).p_agentID;
}
else {
	ownerAgent = (GridNode)ownerAgent;
	parentAgentID = ((GridNode) ownerAgent).p_agentID;
}

List< Tuple > data = selectFrom( consumption_assets ).where( consumption_assets.name.eq( consumptionAssetPreset ) ).
list();

double yearlyDemandElectricity_kWh = 0;
double yearlyDemandHeat_kWh = 0;
OL_EnergyAssetType assetType = null;

for( Tuple tup : data ) {
	assetType = tup.get( consumption_assets.energy_asset_type );
	yearlyDemandElectricity_kWh = tup.get( consumption_assets.yearly_demand_electricity_kwh );
	yearlyDemandHeat_kWh = tup.get( consumption_assets.yearly_demand_heat_kwh );
}

EnergyAsset e = add_pop_energyAssets( null, parentAgentID,  assetType );
e.f_instantiateConsumerAsset( assetType, yearlyDemandElectricity_kWh, yearlyDemandHeat_kWh );
e.f_connectToParentNode( ownerAgent );
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659711553858</Id>
					<Name><![CDATA[f_addPresetConversionAsset]]></Name>
					<Description><![CDATA[Generieke functie gebruikt om default energy assets van type CONVERSION met bijbehorende parameterwaarden toe te kunnen voegen. 

@param: ownerAgent gridconnection waar de energyAsset op aangesloten is (in principe een netConnection).
@param: conversionAssetPreset een van de beschikbare default energy assets van type CONVERSION
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-660</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ownerAgent]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[conversionAssetPreset]]></Name>
						<Type><![CDATA[OL_EAPresetConversionAssets]]></Type>
					</Parameter>
					<Body><![CDATA[String parentAgentID;

if( ownerAgent instanceof GridConnection ) {
	ownerAgent = (GridConnection)ownerAgent;
	parentAgentID = ((GridConnection) ownerAgent).p_agentID;
}
else {
	ownerAgent = (GridNode)ownerAgent;
	parentAgentID = ((GridNode) ownerAgent).p_agentID;
}

List< Tuple > data = selectFrom( conversion_assets ).where( conversion_assets.name.eq( conversionAssetPreset ) ).
list();

OL_EnergyAssetType assetType = null;
double capacityElectricity_kW = 0;
double capacityHeat_kW = 0;
double eta_r = 0;
double deliveryTemp_degC = 0;
String ambientTempType = "";

for( Tuple tup : data ) {
assetType = tup.get( conversion_assets.energy_asset_type );
capacityElectricity_kW = tup.get( conversion_assets.capacity_electricity_kw );
capacityHeat_kW = tup.get( conversion_assets.capacity_heat_kw );
eta_r = tup.get( conversion_assets.eta_r );
deliveryTemp_degC = tup.get( conversion_assets.delivery_temp_deg_c );
ambientTempType = tup.get( conversion_assets.ambient_temp_type );
}

EnergyAsset e = add_pop_energyAssets( null, parentAgentID, assetType );
e.f_instantiateConverterAsset( assetType, capacityElectricity_kW, capacityHeat_kW, eta_r, deliveryTemp_degC, ambientTempType  );
e.f_connectToParentNode( ownerAgent );]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659969608266</Id>
					<Name><![CDATA[f_addPresetProductionAsset]]></Name>
					<Description><![CDATA[Generieke functie gebruikt om default energy assets van type PRODUCTION met bijbehorende parameterwaarden toe te kunnen voegen. 

@param: ownerAgent gridconnection waar de energyAsset op aangesloten is (in principe een netConnection).
@param: productionAssetPreset een van de beschikbare default energy assets van type PRODUCTION
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-660</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ownerAgent]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[productionAssetPreset]]></Name>
						<Type><![CDATA[OL_EAPresetProductionAssets]]></Type>
					</Parameter>
					<Body><![CDATA[String parentAgentID;

if( ownerAgent instanceof GridConnection ) {
	ownerAgent = (GridConnection)ownerAgent;
	parentAgentID = ((GridConnection) ownerAgent).p_agentID;
}
else {
	ownerAgent = (GridNode)ownerAgent;
	parentAgentID = ((GridNode) ownerAgent).p_agentID;
}

List< Tuple > data = selectFrom( production_assets ).where( production_assets.name.eq( productionAssetPreset ) ).
list();

double capacityElectricity_kW = 0;
double capacityHeat_kW = 0;
OL_EnergyAssetType assetType = null;

for( Tuple tup : data ) {
	assetType = tup.get( production_assets.energy_asset_type );
	capacityElectricity_kW = tup.get( production_assets.capacity_electricity_kw );
	capacityHeat_kW = tup.get( production_assets.capacity_heat_kw );
}

EnergyAsset e = add_pop_energyAssets( null, parentAgentID, assetType );
e.f_instantiateProducerAsset( assetType, capacityElectricity_kW, capacityHeat_kW );
e.f_connectToParentNode( ownerAgent );
c_productionAssets.add(e);
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660055523949</Id>
					<Name><![CDATA[f_addPresetStorageAsset]]></Name>
					<Description><![CDATA[Generieke functie gebruikt om default energy assets van type STORAGE met bijbehorende parameterwaarden toe te kunnen voegen. 

@param: ownerAgent gridconnection waar de energyAsset op aangesloten is (in principe een netConnection).
@param: storageAssetPreset een van de beschikbare default energy assets van type STORAGE
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-660</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ownerAgent]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[storageAssetPreset]]></Name>
						<Type><![CDATA[OL_EAPresetStorageAssets]]></Type>
					</Parameter>
					<Body><![CDATA[String parentAgentID = "";

if( ownerAgent instanceof GridConnection ) {
	ownerAgent = (GridConnection)ownerAgent;
	parentAgentID = ((GridConnection) ownerAgent).p_agentID;
}
else if ( ownerAgent instanceof GridNode ) {
	ownerAgent = (GridNode)ownerAgent;
	parentAgentID = ((GridNode) ownerAgent).p_agentID;
}

List< Tuple > data = selectFrom( storage_assets ).where( storage_assets.name.eq( storageAssetPreset ) ).
list();

OL_EnergyAssetType assetType = null;
double capacityElectricity_kW = 0;
double capacityHeat_kW = 0;
double stateOfCharge_r = 0;
double lossFactor_WpK = 0;
double chargeCapacity_kWh = 0;
double heatCapacity_JpK = 0;
double minTemperature_degC = 0;
double maxTemperature_degC = 0;
double setTemperature_degC = 0;
String ambientTempType = "";

for( Tuple tup : data ) {
assetType = tup.get( storage_assets.energy_asset_type );
capacityElectricity_kW = tup.get( storage_assets.capacity_electricity_kw );
capacityHeat_kW = tup.get( storage_assets.capacity_heat_kw );
stateOfCharge_r =  tup.get( storage_assets.state_of_charge_r );
lossFactor_WpK =  tup.get( storage_assets.loss_factor_wpk );
chargeCapacity_kWh =  tup.get( storage_assets.charge_capacity_kwh );
heatCapacity_JpK =  tup.get( storage_assets.heat_capacity_jpk );
minTemperature_degC = tup.get( storage_assets.min_temp_degc);
maxTemperature_degC = tup.get( storage_assets.max_temp_degc);
setTemperature_degC = tup.get( storage_assets.set_temp_degc);
ambientTempType = tup.get( storage_assets.ambient_temp_type);
}

traceln("f_addPresetStorageAsset: Preset Storage Asset added: " + storageAssetPreset+", stateOfCharge = " + stateOfCharge_r+", minT = "+minTemperature_degC+", maxT = "+ maxTemperature_degC + ", setT = "+ setTemperature_degC+", ambientTempType = "+ambientTempType);
EnergyAsset e = add_pop_energyAssets( null, parentAgentID, assetType );
e.f_instantiateStorageAsset( assetType, capacityElectricity_kW, capacityHeat_kW, stateOfCharge_r, lossFactor_WpK, chargeCapacity_kWh, heatCapacity_JpK, minTemperature_degC, maxTemperature_degC, setTemperature_degC, ambientTempType );
e.f_connectToParentNode( ownerAgent );

// update static ambient temperature once for underground types
if( ambientTempType != null && ambientTempType.equals("GROUND") ) {
	e.p_energyAssetInstance.updateAmbientTemperature( p_undergroundTemperature_degC );
}
if( ambientTempType != null && ambientTempType.equals("AIR") ) {
	e.p_energyAssetInstance.updateAmbientTemperature( v_currentAmbientTemperature_degC );
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1661328014569</Id>
					<Name><![CDATA[f_returnKPIData]]></Name>
					<Description><![CDATA[Executed on simulation end to export data.

@author: JorritvandenHouten
@since: Sprint 6]]></Description>
					<X>-920</X><Y>600</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[writeToDisk]]></Name>
						<Type><![CDATA[boolean]]></Type>
					</Parameter>
					<Body><![CDATA[ObjectMapper mapper = new ObjectMapper();

//DataOut great_succes = new DataOut();
j_dataOut.clearData();


//c_connectionOwners.parallelStream().forEach(c -> {
traceln("connectionOwners left: "+pop_connectionOwners.size());
traceln("connectionOwners in list: "+c_connectionOwners.size());
for(ConnectionOwner c : pop_connectionOwners) {
	try {
		c.j_ConnectionOwnerData.updateData(c.p_actorID, c.p_actorType, c.p_parentActorID, c.p_energySupplier, c.v_ownedGridConnection, c.v_energySupplierDistrictHeat, c.v_electricityVolume_kWh, c.v_heatVolume_kWh, c.v_methaneVolume_kWh, c.v_hydrogenVolume_kWh, c.v_electricityContractType.toString(), c.v_heatContractType.toString(), c.v_methaneContractType.toString(), c.v_hydrogenContractType.toString(), c.v_balanceElectricity_eur, c.v_balanceHeat_eur, c.v_balanceMethane_eur, c.v_balanceHydrogen_eur);
		J_ConnectionOwnerData data = c.j_ConnectionOwnerData;
	//traceln(data);
		j_dataOut.connectionOwnerData.add(data);
	} catch (Exception e) {
		e.printStackTrace();
	}
//});
}

double electricityImported_MWh = 0;
double electricityExported_MWh = 0;
for ( GridNode g : c_gridNodesHSMS ) {
	electricityImported_MWh += g.v_electricityDrawn_kWh / 1000;
	electricityExported_MWh += g.v_electricityDelivered_kWh / 1000;	
}
traceln("Electricity imported: "+ electricityImported_MWh);
traceln("Electricity exported: "+ electricityExported_MWh);
double modelRunDuration_s = roundToDecimal( ( System.currentTimeMillis() - v_timeOfModelStart_ms ) / 1000 - v_modelStartUpDuration_s, 3);
j_experimentSettingsData.updateData( p_timeStep_h+"", 
									v_timeStepsElapsed+"", 
									time(HOUR) + "", 
									v_modelStartUpDuration_s + "", 
									modelRunDuration_s + "",
									pop_gridNodes.size() + "", 
									c_gridConnections.size() + "", 
									pop_energyAssets.size() + "",
									pop_connectionOwners.size() + "",
									pop_energySuppliers.size() + "", 
									pop_energyHolons.size() + "",
									pop_administrativeHolons.size() + "",
									pop_gridOperators.size() + "",
									1 + "",
									roundToDecimal( electricityImported_MWh, 3 ) + "",
									roundToDecimal( electricityExported_MWh, 3 ) + "" );
									 
j_dataOut.runSettingsData.add(j_experimentSettingsData);



    //System.out.println(json);
try {
	String AgentDataJson = mapper.writeValueAsString(j_dataOut.connectionOwnerData);
	String settingsJson = mapper.writeValueAsString(j_dataOut.runSettingsData);
	update_o_outputConnectionOwnerJSON(AgentDataJson);
	update_o_outputSettings(settingsJson);    
} catch(IOException e) {
	e.printStackTrace();
}

try {    
    if(writeToDisk) {
    	traceln("succes");
    	mapper.writeValue(
		new File(".\\OutputAgentData.json"), j_dataOut.connectionOwnerData);
	
	   	mapper.writeValue(
		new File(".\\OutputRunSettingsData.json"), j_dataOut.runSettingsData);
//		traceln("file succes");
		
		
	}
} catch (IOException e) {
//   traceln("exception generating output");
    e.printStackTrace();
}

return 1;
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1661530837893</Id>
					<Name><![CDATA[f_importExperimentConfigs]]></Name>
					<X>-660</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[p_gridNodeConfigJSON = t_configGridNodes.readString().replaceAll("^\"|\"$", "");
p_gridConnectionConfigJSON = t_configGridConnections.readString().replaceAll("^\"|\"$", "");
p_energyAssetsConfigJSON = t_configEnergyAssets.readString().replaceAll("^\"|\"$", "");
p_actorsConfigJSON = t_configActors.readString().replaceAll("^\"|\"$", "");]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664894248130</Id>
					<Name><![CDATA[f_determinePricesForNextTimestep]]></Name>
					<X>90</X><Y>555</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Update the dayaheadprice 
nationalEnergyMarket.f_updateEnergyPrice();

//
for (EnergySupplier e : pop_energySuppliers) {
	e.f_updateEnergyPrice();
}
for (GridOperator g : pop_gridOperators) {
	g.f_setTariff();
}
for (EnergyHolon e : pop_energyHolons) {
	//e.f_updateEnergyPrice();
	//e.f_updateOtherIncentives();
	e.f_setPriceBandsExperiment();
}

for (ConnectionOwner c : pop_connectionOwners) {
	c.f_updateIncentives();
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664952601107</Id>
					<Name><![CDATA[f_updateTimeseries]]></Name>
					<X>90</X><Y>430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double tijdstap = time(HOUR);
v_currentHouseHoldOtherElectricityDemand_fr = tf_p_house_e_demand_other(tijdstap);
v_currentBuildingOtherElectricityDemand_fr = tf_p_building_e_demand_other(tijdstap);
v_currentHouseHoldHotWaterDemand_fr = tf_p_house_h_demand_hot_water(tijdstap);
v_currentWindPowerNormalized_r = tf_p_wind_e_normalized(tijdstap);
v_currentSolarPowerNormalized_r = tf_p_solar_e_normalized(tijdstap);
v_currentAmbientTemperature_degC = tf_ambientTemperature_degC(tijdstap);

for( EnergyAsset e : c_ambientAirDependentAssets ) {
	if( e.p_energyAssetInstance instanceof J_EAStorageHeat ) {
		((J_EAStorageHeat)e.p_energyAssetInstance).updateAmbientTemperature( v_currentAmbientTemperature_degC );
	}
	else if( e.p_energyAssetInstance instanceof J_EAConversionHeatPump ) {
		((J_EAConversionHeatPump)e.p_energyAssetInstance).updateParameters( v_currentAmbientTemperature_degC );
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664953001985</Id>
					<Name><![CDATA[f_calculateProductionAssetOutput]]></Name>
					<X>90</X><Y>455</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(EnergyAsset e : c_productionAssets) {
	if( e.p_energyAssetType == OL_EnergyAssetType.PHOTOVOLTAIC) {
		e.f_updateElectricityFlows( v_currentSolarPowerNormalized_r );
	}
	else if(e.p_energyAssetType == OL_EnergyAssetType.WINDMILL) {
		e.f_updateElectricityFlows( v_currentWindPowerNormalized_r );
	}
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664956272768</Id>
					<Name><![CDATA[f_calculateConsumptionAssets]]></Name>
					<X>90</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(GridConnection gc : c_gridConnections) { 
	gc.f_operateFixedConsumptionAssets();
	gc.f_operateFlexAssets();
	gc.f_updateFlows();
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665051878402</Id>
					<Name><![CDATA[f_calculateGridnodeFlows]]></Name>
					<X>90</X><Y>505</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(GridNode n : c_gridNodesHeat) {
	n.f_calculateEnergyBalance();
}
for(GridNode n : c_gridNodesMSLS) {
	n.f_calculateEnergyBalance();
}
for(GridNode n : c_gridNodesHSMS) {
	n.f_calculateEnergyBalance();
}
	]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665051962956</Id>
					<Name><![CDATA[f_calculateFinancialFlows]]></Name>
					<X>90</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for (ConnectionOwner c : pop_connectionOwners) {
	c.f_updateFinances();
}
for (EnergyHolon h : pop_energyHolons) {
	h.f_updateFinances();
}
for (EnergySupplier e : pop_energySuppliers) {
	e.f_updateFinances();
}]]></Body>
				</Function>
			</Functions>
			<TableFunctions>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1659337870276</Id>
					<Name><![CDATA[tf_p_house_e_demand_other]]></Name>
					<Description><![CDATA[Genormaliseerde tijdreeksdata per uur voor household other electricity demand (koeling, verlichting etc.), ingelezen vanuit externe (aanpasbare) database.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-930</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[house_e_demand_other]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1659337941636</Id>
					<Name><![CDATA[tf_p_wind_e_normalized]]></Name>
					<Description><![CDATA[Genormaliseerde tijdreeksdata per uur voor productie van wind-energie, ingelezen vanuit externe (aanpasbare) database.

@source: ETM-curves genormaliseerd met opgesteld vermogen
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-930</X><Y>165</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[wind_e_prod_normalized]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1659337995740</Id>
					<Name><![CDATA[tf_p_solar_e_normalized]]></Name>
					<Description><![CDATA[Genormaliseerde tijdreeksdata per uur voor productie van zonne-energie (pv en thermisch), ingelezen vanuit externe (aanpasbare) database.

@source: ETM-curves genormaliseerd met opgesteld vermogen
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-930</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[solar_e_prod_normalized]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1659364114491</Id>
					<Name><![CDATA[tf_ambientTemperature_degC]]></Name>
					<Description><![CDATA[Genormaliseerde tijdreeksdata per uur voor buitentemperatuur.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-930</X><Y>215</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[ambienttemperature_degc]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1664529919197</Id>
					<Name><![CDATA[tf_p_building_e_demand_other]]></Name>
					<X>-930</X><Y>115</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[building_e_demand_other]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1664533224315</Id>
					<Name><![CDATA[tf_p_house_h_demand_hot_water]]></Name>
					<X>-930</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[house_h_demand_hot_water]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
			</TableFunctions>
			<Connectivity>
				<TextFile>
					<Id>1661530848985</Id>
					<Name><![CDATA[t_configActors]]></Name>
					<X>-660</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<Url><![CDATA[]]></Url>
					<ResourceReference>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[config_actors_300_gridConnections.txt]]></ClassName>
					</ResourceReference>
					<FileMode>READ</FileMode>
					<CharsetName>UTF-8</CharsetName>
					<Separators></Separators>
				</TextFile>
				<TextFile>
					<Id>1661787440318</Id>
					<Name><![CDATA[t_configGridNodes]]></Name>
					<X>-660</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<Url><![CDATA[]]></Url>
					<ResourceReference>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[config_gridNodes_300_gridConnections.txt]]></ClassName>
					</ResourceReference>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators></Separators>
				</TextFile>
				<TextFile>
					<Id>1661787454498</Id>
					<Name><![CDATA[t_configGridConnections]]></Name>
					<X>-660</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<Url><![CDATA[]]></Url>
					<ResourceReference>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[config_gridConnections_300_gridConnections.txt]]></ClassName>
					</ResourceReference>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators></Separators>
				</TextFile>
				<TextFile>
					<Id>1661787463188</Id>
					<Name><![CDATA[t_configEnergyAssets]]></Name>
					<X>-660</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<Url><![CDATA[]]></Url>
					<ResourceReference>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[config_energyAssets_300_gridConnections.txt]]></ClassName>
					</ResourceReference>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators></Separators>
				</TextFile>
				<ExcelFile>
					<Id>1660141188744</Id>
					<Name><![CDATA[tripsExcel]]></Name>
					<X>-420</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ResourceReference>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[AlbatrossProcessedVehicleTrips.xlsx]]></ClassName>
					</ResourceReference>
					<SaveInSnapshot>false</SaveInSnapshot>
					<LoadOnStartup>true</LoadOnStartup>
					<SaveOnDispose>true</SaveOnDispose>
				</ExcelFile>
			</Connectivity>
			<AgentLinks>
				<AgentLink>
					<Id>1658477103135</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<EmbeddedObjects>
				<EmbeddedObject>
					<Id>1658477403183</Id>
					<Name><![CDATA[pop_gridNodes]]></Name>
					<X>60</X><Y>40</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GridNode]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GridNode]]></ClassName>
							<ItemName><![CDATA[1658477288306]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nodeType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_transportBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerGridOperator]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridNodeOwnerID]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1658499683452</Id>
					<Name><![CDATA[pop_gridConnections]]></Name>
					<X>60</X><Y>65</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GridConnection]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GridConnection]]></ClassName>
							<ItemName><![CDATA[1658499438201]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_buildingTempAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_HeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1658499722957</Id>
					<Name><![CDATA[pop_energyAssets]]></Name>
					<X>60</X><Y>90</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[EnergyAsset]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[EnergyAsset]]></ClassName>
							<ItemName><![CDATA[1658499506318]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_energyAssetInstance]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentAgentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentAgentType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_assetCategoryString]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_assetTypeString]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacity_kW]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1658752704931</Id>
					<Name><![CDATA[kpiVisuals]]></Name>
					<Description><![CDATA[Optionele visualisatie-agent met eenvoudige visuals voor model inspectie, monitoring en debugging. Kan aangezet worden met de parameter b_addKpiVisuals, maar model draait ook zonder.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>810</X><Y>70</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[KpiVisuals]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[KpiVisuals]]></ClassName>
							<ItemName><![CDATA[1658752695709]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_individualMode]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660730126216</Id>
					<Name><![CDATA[pop_connectionOwners]]></Name>
					<X>60</X><Y>115</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[ConnectionOwner]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[ConnectionOwner]]></ClassName>
							<ItemName><![CDATA[1660224852392]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energySupplier]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731786332</Id>
					<Name><![CDATA[pop_energySuppliers]]></Name>
					<X>60</X><Y>140</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[EnergySupplier]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[EnergySupplier]]></ClassName>
							<ItemName><![CDATA[1660731377982]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActor]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_fixedElectricityPrice_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_fixedHeatPrice_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_fixedMethanePrice_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_fixedHydrogenPrice_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_variableElectricityPriceOverNational_eurpkWh]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731820965</Id>
					<Name><![CDATA[pop_energyHolons]]></Name>
					<X>60</X><Y>165</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[EnergyHolon]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[EnergyHolon]]></ClassName>
							<ItemName><![CDATA[1660731375014]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energySupplier]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731850501</Id>
					<Name><![CDATA[pop_gridOperators]]></Name>
					<X>60</X><Y>215</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GridOperator]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GridOperator]]></ClassName>
							<ItemName><![CDATA[1660731380913]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActor]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[1]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731876775</Id>
					<Name><![CDATA[nationalEnergyMarket]]></Name>
					<X>60</X><Y>240</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[NationalEnergyMarket]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[NationalEnergyMarket]]></ClassName>
							<ItemName><![CDATA[1660731384413]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
					</Parameters>
					<ReplicationFlag>false</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialSpeedCode Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
					</InitialSpeedCode>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>SPECIFIED_NUMBER</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731999276</Id>
					<Name><![CDATA[pop_administrativeHolons]]></Name>
					<X>60</X><Y>190</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[AdministrativeHolon]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[AdministrativeHolon]]></ClassName>
							<ItemName><![CDATA[1660731364523]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663772677806</Id>
					<Name><![CDATA[gCHouses]]></Name>
					<X>300</X><Y>40</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GCHouse]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GCHouse]]></ClassName>
							<ItemName><![CDATA[1663772408665]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_buildingTempAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_HeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_EV]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingPriceTreshold]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_baseChargingSpeed]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_isolationLabel]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663773716929</Id>
					<Name><![CDATA[gCBuildings]]></Name>
					<X>300</X><Y>60</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GCBuilding]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GCBuilding]]></ClassName>
							<ItemName><![CDATA[1663773690596]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_buildingTempAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_HeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663774441970</Id>
					<Name><![CDATA[gCDistrictHeatings]]></Name>
					<X>300</X><Y>80</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GCDistrictHeating]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GCDistrictHeating]]></ClassName>
							<ItemName><![CDATA[1663773810343]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_buildingTempAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_HeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663774461816</Id>
					<Name><![CDATA[gCWindfarms]]></Name>
					<X>300</X><Y>100</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GCWindfarm]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GCWindfarm]]></ClassName>
							<ItemName><![CDATA[1663773842877]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_buildingTempAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_HeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663774484695</Id>
					<Name><![CDATA[gCSolarfarms]]></Name>
					<X>300</X><Y>120</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GCSolarfarm]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GCSolarfarm]]></ClassName>
							<ItemName><![CDATA[1663773857866]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_buildingTempAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_HeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1665480562790</Id>
					<Name><![CDATA[gCIndustries]]></Name>
					<X>300</X><Y>140</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GCIndustry]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GCIndustry]]></ClassName>
							<ItemName><![CDATA[1665480522862]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_buildingTempAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_HeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
			</EmbeddedObjects>

			<Presentation>
				<Level>
					<Id>1658477103139</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Rectangle>
					<Id>1665052211228</Id>
					<Name><![CDATA[rectangle]]></Name>
					<X>-960</X><Y>0</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Lock>true</Lock>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>3</LineWidth>
					<LineColor>-16744448</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>660</Width>
					<Height>480</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1659709739366</Id>
					<Name><![CDATA[text]]></Name>
					<X>-940</X><Y>56</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Tijdreeksdata:]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>14</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1659709765242</Id>
					<Name><![CDATA[text1]]></Name>
					<X>-940</X><Y>260</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Parameters uit database:]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>14</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1659709854203</Id>
					<Name><![CDATA[text2]]></Name>
					<X>800</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Optional KPIs & visuals]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>14</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
    			<TimePlot>
					<Id>1664178405797</Id>
					<Name><![CDATA[plot_chargingPower]]></Name>
					<X>1140</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>true</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1664179200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[0.25]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>430</Width>
					<Height>210</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>350</Width>
						<Height>120</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>30</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>HOUR</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[Cumulative Charging Demand]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-2448096</Color>
					<Expression2><![CDATA[sum(gCHouses, x -> x.v_currentChargingPower)]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>672</SamplesToKeep>
					<TimeWindowExpression><![CDATA[168]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>MODEL_TIME_UNITS</LabelFormat>
    			</TimePlot>
				<Rectangle>
					<Id>1665052264314</Id>
					<Name><![CDATA[rectangle1]]></Name>
					<X>-960</X><Y>520</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Lock>true</Lock>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>3</LineWidth>
					<LineColor>-3308225</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>660</Width>
					<Height>480</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1665052603927</Id>
					<Name><![CDATA[rectangle2]]></Name>
					<X>-959</X><Y>1</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16744448</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>169</Width>
					<Height>40</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1665052191319</Id>
					<Name><![CDATA[text3]]></Name>
					<X>-924</X><Y>8</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16744448</Color>
					<Text><![CDATA[Input]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>18</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Rectangle>
					<Id>1665052678662</Id>
					<Name><![CDATA[rectangle3]]></Name>
					<X>-959</X><Y>521</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-3308225</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>149</Width>
					<Height>40</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1665052678664</Id>
					<Name><![CDATA[text5]]></Name>
					<X>-925</X><Y>527</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-3308225</Color>
					<Text><![CDATA[Output
]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>18</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658477288308</Id>
			<Name><![CDATA[GridNode]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<StartupCode><![CDATA[/*
if (p_energyType.equals(OL_EnergyCarrierType.HEAT)) { 
	double capacityHeat_kW = 1000;
	double lossFactor_WpK = 100;
	double InitialStateOfCharge_degC = 60;
	double heatCapacity_JpK = 1e7;
	double soilTemperature_degC = main.p_undergroundTemperature_degC;
	p_transportBuffer = new J_EAStorageHeat(null, capacityHeat_kW, lossFactor_WpK, main.p_timeStep_h, InitialStateOfCharge_degC, 10, 90, heatCapacity_JpK);
	p_transportBuffer.updateAmbientTemperature(soilTemperature_degC);
}*/]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658477288306</Id>
				<Name><![CDATA[1658477288306]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658563200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658477288304</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658477288307</CurrentLevel>
			<ConnectionsId>1658477288303</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1658497430333</Id>
					<Name><![CDATA[v_currentLoadElectricity_kW]]></Name>
					<X>50</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1658497443523</Id>
					<Name><![CDATA[v_currentPowerLost_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>210</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660122738711</Id>
					<Name><![CDATA[v_currentLoadMethane_kW]]></Name>
					<X>50</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660122738713</Id>
					<Name><![CDATA[v_currentLoadHeat_kW]]></Name>
					<X>50</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660122738715</Id>
					<Name><![CDATA[v_currentLoadHydrogen_kW]]></Name>
					<X>50</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693601</Id>
					<Name><![CDATA[v_electricityDrawn_kWh]]></Name>
					<X>50</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693603</Id>
					<Name><![CDATA[v_methaneDrawn_kWh]]></Name>
					<X>50</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693605</Id>
					<Name><![CDATA[v_heatDrawn_kWh]]></Name>
					<X>50</X><Y>580</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693607</Id>
					<Name><![CDATA[v_hydrogenDrawn_kWh]]></Name>
					<X>50</X><Y>560</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693609</Id>
					<Name><![CDATA[v_electricityDelivered_kWh]]></Name>
					<X>230</X><Y>519</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693611</Id>
					<Name><![CDATA[v_methaneDelivered_kWh]]></Name>
					<X>230</X><Y>539</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693613</Id>
					<Name><![CDATA[v_heatDelivered_kWh]]></Name>
					<X>230</X><Y>579</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693615</Id>
					<Name><![CDATA[v_hydrogenDelivered_kWh]]></Name>
					<X>230</X><Y>559</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664469231087</Id>
					<Name><![CDATA[v_tariffBands]]></Name>
					<X>280</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665061187538</Id>
					<Name><![CDATA[v_congestionMode]]></Name>
					<X>280</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1658477613290</Id>
					<Name><![CDATA[p_agentID]]></Name>
					<X>50</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658477613288</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658480610309</Id>
					<Name><![CDATA[p_parentNodeID]]></Name>
					<X>50</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658480610307</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658492575878</Id>
					<Name><![CDATA[p_nodeType]]></Name>
					<X>50</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridNodeType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658492575876</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658492864101</Id>
					<Name><![CDATA[p_energyType]]></Name>
					<X>50</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_EnergyCarrierType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658492864099</Id>
							<Label><![CDATA[p_energyType]]></Label>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658493496878</Id>
					<Name><![CDATA[p_capacity_kW]]></Name>
					<X>50</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1658493496876</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660635056957</Id>
					<Name><![CDATA[p_transportBuffer]]></Name>
					<X>240</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EAStorageHeat]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1660635056955</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1664465663237</Id>
					<Name><![CDATA[p_ownerGridOperator]]></Name>
					<X>240</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[GridOperator]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1664465663235</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1664466130593</Id>
					<Name><![CDATA[p_gridNodeOwnerID]]></Name>
					<X>50</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1664466130591</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1658751320739</Id>
					<Name><![CDATA[c_electricityFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1660122738701</Id>
					<Name><![CDATA[c_heatFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1660122738703</Id>
					<Name><![CDATA[c_methaneFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1660122738705</Id>
					<Name><![CDATA[c_hydrogenFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>410</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960213</Id>
					<Name><![CDATA[c_connectedEnergyAssets]]></Name>
					<X>780</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960219</Id>
					<Name><![CDATA[c_connectedStorageAssets]]></Name>
					<X>800</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960221</Id>
					<Name><![CDATA[c_connectedConsumptionAssets]]></Name>
					<X>800</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960223</Id>
					<Name><![CDATA[c_connectedProductionAssets]]></Name>
					<X>800</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960226</Id>
					<Name><![CDATA[c_connectedConversionAssets]]></Name>
					<X>800</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658495336616</Id>
					<Name><![CDATA[f_connectToParentNode]]></Name>
					<X>50</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[GridNode myParentNode = findFirst(main.pop_gridNodes, p->p.p_agentID.equals(p_parentNodeID));
if( myParentNode instanceof GridNode ) {
	superConnection.connectTo(myParentNode);
	myParentNode.f_connectToChild(this);
}

GridOperator myParentGridOperator = findFirst(main.pop_gridOperators, p->p.p_actorID.equals(p_gridNodeOwnerID)) ;
if( myParentGridOperator instanceof GridOperator) {
	p_ownerGridOperator = myParentGridOperator;
//superConnection.connectTo(myParentGridOperator);
	myParentGridOperator.f_connectToChild(this, p_energyType);
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658495630251</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>50</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingChildNode);

if( ConnectingChildNode instanceof EnergyAsset ) {
	EnergyAsset EA = (EnergyAsset) ConnectingChildNode;
	c_connectedEnergyAssets.add(EA);

	if (EA.p_energyAssetInstance instanceof J_EAConsumption) {
		c_connectedConsumptionAssets.add(EA);
	} else if (EA.p_energyAssetInstance instanceof J_EAProduction ) {
		c_connectedProductionAssets.add(EA);
	} else if (EA.p_energyAssetInstance instanceof J_EAStorage ) {
		c_connectedStorageAssets.add(EA);
		if (EA.p_energyAssetInstance instanceof J_EAStorageHeat) {
			p_transportBuffer = (J_EAStorageHeat)EA.p_energyAssetInstance;
		} 
	} else if (EA.p_energyAssetInstance instanceof J_EAConversion) {
		c_connectedConversionAssets.add(EA);
//	if (EA.p_energyAssetInstance instanceof J_EAConversionGasBurner || EA.p_energyAssetInstance instanceof J_EAConversionHeatPump || EA.p_energyAssetInstance instanceof J_EAConversionHeatDeliverySet ) {
	//	p_HeatingAsset = EA;
//		//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
//	} 
	} else {
		traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingChildNode.getId() + " is of unknown type or null! ");
	}
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658751236578</Id>
					<Name><![CDATA[f_calculateEnergyBalance]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>210</X><Y>390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// clear energy-balance for the next timestep
c_electricityFlows.clear();
v_currentLoadElectricity_kW = 0;

// determine the net electricity flow from all subconnections
for( Agent a : subConnections.getConnections() )
{
	if( a instanceof NetConnection )
	{
		//traceln("NetConnection!");
		a = (NetConnection)a;
		c_electricityFlows.put(a, ((NetConnection) a).v_currentPowerElectricity_kW);
		v_currentLoadElectricity_kW += ((NetConnection) a).v_currentPowerElectricity_kW;
	}
	else if( a instanceof EnergyAsset )
	{
		//traceln("EnergyAsset!");
		a = (EnergyAsset)a;
		c_electricityFlows.put(a, ((EnergyAsset) a).v_currentProductionElectricity_kW);
		v_currentLoadElectricity_kW += ((EnergyAsset) a).v_currentProductionElectricity_kW;
	}
	else if( a instanceof NetNode )
	{
		//traceln("NetNode!");
		a = (NetNode)a;
		c_electricityFlows.put(a,((NetNode) a).v_currentLoadElectricity_kW);
		v_currentLoadElectricity_kW += ((NetNode) a).v_currentLoadElectricity_kW;
	}
}

//traceln( "total load: "+v_currentPower_kW );]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660122738707</Id>
					<Name><![CDATA[f_calculateEnergyBalance]]></Name>
					<X>50</X><Y>350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// clear energy-balance for the next timestep
/*c_electricityFlows.clear();
c_methaneFlows.clear();
c_hydrogenFlows.clear();
c_heatFlows.clear();*/

v_currentLoadElectricity_kW = 0;
v_currentLoadMethane_kW = 0;
v_currentLoadHydrogen_kW = 0;
v_currentLoadHeat_kW = 0;

// determine the net energy flows from all subconnections by nodetype

for( Agent a : subConnections.getConnections() )
{
	if( a instanceof GridNode ) {
		switch(p_energyType) {
			case ELECTRICITY:
				//c_electricityFlows.put(a, ((GridNode) a).v_currentLoadElectricity_kW);
				v_currentLoadElectricity_kW += ((GridNode) a).v_currentLoadElectricity_kW;
			break;
			case METHANE:
				//c_methaneFlows.put(a, ((GridNode) a).v_currentLoadMethane_kW);
				v_currentLoadMethane_kW += ((GridNode) a).v_currentLoadMethane_kW;
			break;
			case HYDROGEN:
				//c_hydrogenFlows.put(a, ((GridNode) a).v_currentLoadHydrogen_kW);
				v_currentLoadHydrogen_kW += ((GridNode) a).v_currentLoadHydrogen_kW;
			break;
			case HEAT:
				//c_heatFlows.put(a, ((GridNode) a).v_currentLoadHeat_kW);
				v_currentLoadHeat_kW += ((GridNode) a).v_currentLoadHeat_kW;
			break;
			default:
				//
			break;
		}
	}

	if( a instanceof GridConnection ) {
		switch(p_energyType) {
			case ELECTRICITY:
				//c_electricityFlows.put(a, ((GridConnection) a).v_currentPowerElectricity_kW);
				v_currentLoadElectricity_kW += ((GridConnection) a).v_currentPowerElectricity_kW;
			break;
			case METHANE:
				//c_methaneFlows.put(a, ((GridConnection) a).v_currentPowerMethane_kW);
				v_currentLoadMethane_kW += ((GridConnection) a).v_currentPowerMethane_kW;
			break;
			case HYDROGEN:
				//c_hydrogenFlows.put(a, ((GridConnection) a).v_currentPowerHydrogen_kW);
				v_currentLoadHydrogen_kW += ((GridConnection) a).v_currentPowerHydrogen_kW;
			break;
			case HEAT:
				//c_heatFlows.put(a, ((GridConnection) a).v_currentPowerHeat_kW);
				v_currentLoadHeat_kW += ((GridConnection) a).v_currentPowerHeat_kW;

			break;
			default:
				//
			break;
		}
	}
}

if (p_energyType.equals(OL_EnergyCarrierType.HEAT)) { // Thermal load goes into transportBuffer
	double v_powerFraction_fr = -v_currentLoadHeat_kW / p_transportBuffer.getHeatCapacity_kW();
	p_transportBuffer.operate(v_powerFraction_fr);
	traceln("DistrictHeating network water temperature " + p_transportBuffer.getCurrentTemperature() + " deg C, buffer power fraction " + v_powerFraction_fr * 100 + " %");
}

//traceln("GridNode " + p_agentID + " update at time " + time(HOUR));
f_nodeMetering();]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660216693598</Id>
					<Name><![CDATA[f_nodeMetering]]></Name>
					<X>50</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_electricityDrawn_kWh += max(v_currentLoadElectricity_kW, 0)*main.p_timeStep_h;
v_electricityDelivered_kWh += max(-v_currentLoadElectricity_kW, 0)*main.p_timeStep_h;

v_methaneDrawn_kWh += max(v_currentLoadMethane_kW, 0)*main.p_timeStep_h;
v_methaneDelivered_kWh += max(-v_currentLoadMethane_kW, 0)*main.p_timeStep_h;

v_hydrogenDrawn_kWh += max(v_currentLoadHydrogen_kW, 0)*main.p_timeStep_h;
v_hydrogenDelivered_kWh += max(-v_currentLoadHydrogen_kW, 0)*main.p_timeStep_h;

v_heatDrawn_kWh += max(v_currentLoadHeat_kW, 0)*main.p_timeStep_h;
v_heatDelivered_kWh += max(-v_currentLoadHeat_kW, 0)*main.p_timeStep_h;]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658477288303</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<OnReceive><![CDATA[//v_gridNodePriceBands = msg;
subConnections.sendToAllConnected(msg);]]></OnReceive>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[TreeMap<Double, Double>]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658495297995</Id>
					<Name><![CDATA[superConnection]]></Name>
					<X>200</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>SINGLE_LINK</AgentLinkType>
					<AgentReferenceId>1658477288308</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658495597148</Id>
					<Name><![CDATA[subConnections]]></Name>
					<X>200</X><Y>-20</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658477403925</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1658477288307</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658499438203</Id>
			<Name><![CDATA[GridConnection]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658499438201</Id>
				<Name><![CDATA[1658499438201]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658563200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658499438199</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658499438202</CurrentLevel>
			<ConnectionsId>1658499438198</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1658499590783</Id>
					<Name><![CDATA[v_currentPowerElectricity_kW]]></Name>
					<X>50</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1658501011313</Id>
					<Name><![CDATA[v_currentPowerLost_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-210</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659355078476</Id>
					<Name><![CDATA[v_currentPowerMethane_kW]]></Name>
					<X>50</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659355091165</Id>
					<Name><![CDATA[v_currentPowerHeat_kW]]></Name>
					<X>50</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659513167233</Id>
					<Name><![CDATA[v_currentPowerHydrogen_kW]]></Name>
					<X>50</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212770046</Id>
					<Name><![CDATA[v_electricityDrawn_kWh]]></Name>
					<X>50</X><Y>510</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212770048</Id>
					<Name><![CDATA[v_methaneDrawn_kWh]]></Name>
					<X>50</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212770050</Id>
					<Name><![CDATA[v_heatDrawn_kWh]]></Name>
					<X>50</X><Y>570</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212770052</Id>
					<Name><![CDATA[v_hydrogenDrawn_kWh]]></Name>
					<X>50</X><Y>550</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212876472</Id>
					<Name><![CDATA[v_electricityDelivered_kWh]]></Name>
					<X>230</X><Y>509</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212876474</Id>
					<Name><![CDATA[v_methaneDelivered_kWh]]></Name>
					<X>230</X><Y>529</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212876476</Id>
					<Name><![CDATA[v_heatDelivered_kWh]]></Name>
					<X>230</X><Y>569</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212876478</Id>
					<Name><![CDATA[v_hydrogenDelivered_kWh]]></Name>
					<X>230</X><Y>549</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660561907004</Id>
					<Name><![CDATA[v_totalEnergyUsed_kWh]]></Name>
					<X>50</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660561920117</Id>
					<Name><![CDATA[v_totalEnergyProduced_kWh]]></Name>
					<X>230</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660567920170</Id>
					<Name><![CDATA[v_selfConsumption_fr]]></Name>
					<X>50</X><Y>460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660567920172</Id>
					<Name><![CDATA[v_selfSufficiency_fr]]></Name>
					<X>230</X><Y>460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664439950551</Id>
					<Name><![CDATA[v_electricityPriceProfile]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>720</X><Y>-40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[ElectricityPriceProfile]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664469766765</Id>
					<Name><![CDATA[v_priceBandsGridNode]]></Name>
					<X>700</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664469766781</Id>
					<Name><![CDATA[v_priceBandsHolon]]></Name>
					<X>700</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664469766783</Id>
					<Name><![CDATA[v_priceBandsCombined]]></Name>
					<X>700</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1658499438204</Id>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
					<X>50</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionCategory]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>0</Id>
							<Label><![CDATA[p_netConnectionCategory]]></Label>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658500076242</Id>
					<Name><![CDATA[p_gridConnectionType]]></Name>
					<X>50</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658500076240</Id>
							<Label><![CDATA[p_netConnectionType]]></Label>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658500122113</Id>
					<Name><![CDATA[p_capacity_kW]]></Name>
					<X>50</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658500122111</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658500465208</Id>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
					<X>50</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658500465206</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658752146271</Id>
					<Name><![CDATA[p_agentID]]></Name>
					<X>50</X><Y>20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658752146269</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660053984881</Id>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
					<X>230</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660053984879</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660115328584</Id>
					<Name><![CDATA[p_buildingTempAsset]]></Name>
					<X>450</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[EnergyAsset]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1660115328582</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>SEPARATOR</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660115363643</Id>
					<Name><![CDATA[p_HeatingAsset]]></Name>
					<X>450</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[EnergyAsset]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1660115363641</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660641245957</Id>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
					<X>230</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[GridNode]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660641245955</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660229326795</Id>
					<Name><![CDATA[p_ownerID]]></Name>
					<X>230</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660229326793</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660641260214</Id>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
					<X>230</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[GridNode]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660641260212</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660230516807</Id>
					<Name><![CDATA[p_ownerActor]]></Name>
					<X>230</X><Y>20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Agent]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660230516805</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1665486155683</Id>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>450</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1665486155681</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1665486155689</Id>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>450</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1665486155687</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1665487815862</Id>
					<Name><![CDATA[p_heatingType]]></Name>
					<X>450</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionHeatingType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1665487815860</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1658751085004</Id>
					<Name><![CDATA[c_electricityFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-210</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659115755266</Id>
					<Name><![CDATA[c_heatFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-210</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659355047955</Id>
					<Name><![CDATA[c_methaneFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-210</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659513190843</Id>
					<Name><![CDATA[c_hydrogenFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-210</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626903</Id>
					<Name><![CDATA[c_connectedEnergyAssets]]></Name>
					<X>400</X><Y>-110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626907</Id>
					<Name><![CDATA[c_connectedStorageAssets]]></Name>
					<X>420</X><Y>-40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626909</Id>
					<Name><![CDATA[c_connectedConsumptionAssets]]></Name>
					<X>420</X><Y>-80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626911</Id>
					<Name><![CDATA[c_connectedProductionAssets]]></Name>
					<X>420</X><Y>-60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626913</Id>
					<Name><![CDATA[c_connectedConversionAssets]]></Name>
					<X>420</X><Y>-20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658500398176</Id>
					<Name><![CDATA[f_connectToParentNode]]></Name>
					<X>50</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[GridNode myParentNodeElectric = findFirst(main.pop_gridNodes, p->p.p_agentID.equals(p_parentNodeElectricID)) ;
if( myParentNodeElectric instanceof GridNode ) {
	superConnection.connectTo(myParentNodeElectric);
	myParentNodeElectric.f_connectToChild(this);
	p_parentNodeElectric = myParentNodeElectric;
}

GridNode myParentNodeHeat = findFirst(main.pop_gridNodes, p->p.p_agentID.equals(p_parentNodeHeatID)) ;
if( myParentNodeHeat instanceof GridNode ) {
	superConnection.connectTo(myParentNodeHeat);
	myParentNodeHeat.f_connectToChild(this);
	p_parentNodeHeat = myParentNodeHeat;
}

ConnectionOwner myParentConnectionOwner = findFirst(main.pop_connectionOwners, p->p.p_actorID.equals(p_ownerID)) ;
if( myParentConnectionOwner instanceof ConnectionOwner) {
	p_ownerActor = myParentConnectionOwner;
	superConnection.connectTo(myParentConnectionOwner);
	myParentConnectionOwner.f_connectToChild(this);
}
EnergySupplier myParentEnergySupplier = findFirst(main.pop_energySuppliers, p->p.p_actorID.equals(p_ownerID)) ;
if( myParentEnergySupplier instanceof EnergySupplier) {
	p_ownerActor = myParentEnergySupplier;
	superConnection.connectTo(myParentEnergySupplier);
	myParentEnergySupplier.f_connectToChild(this);
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658751062480</Id>
					<Name><![CDATA[f_calculateEnergyBalance]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_currentPowerElectricity_kW = 0;
v_currentPowerMethane_kW = 0;
v_currentPowerHydrogen_kW = 0;
v_currentPowerHeat_kW = 0;

f_operateAssets();
// determine the net energy flows from all subconnections
for( Agent a : subConnections.getConnections() )
{
	EnergyAsset EA = (EnergyAsset)a;
	EA.f_updateEnergyAssetFlows();
	double assetElectricityProduction_kW = EA.v_currentProductionElectricity_kW;
	double assetMethaneProduction_kW = EA.v_currentProductionMethane_kW;
	double assetHydrogenProduction_kW = EA.v_currentProductionHydrogen_kW;
	double assetHeatProduction_kW = EA.v_currentProductionHeat_kW;

	double assetElectricityConsumption_kW = EA.v_currentConsumptionElectricity_kW;
	double assetMethaneConsumption_kW = EA.v_currentConsumptionMethane_kW;
	double assetHydrogenConsumption_kW = EA.v_currentConsumptionHydrogen_kW;
	double assetHeatConsumption_kW = EA.v_currentConsumptionHeat_kW;
	
	v_currentPowerElectricity_kW += assetElectricityConsumption_kW - assetElectricityProduction_kW;
	v_currentPowerMethane_kW += assetMethaneConsumption_kW - assetMethaneProduction_kW;
	v_currentPowerHydrogen_kW += assetHydrogenConsumption_kW - assetHydrogenProduction_kW;
	v_currentPowerHeat_kW += assetHeatConsumption_kW - assetHeatProduction_kW;
}

f_connectionMetering();

// Total Energy Use and Production
v_totalEnergyUsed_kWh=0;
v_totalEnergyProduced_kWh=0;
for (EnergyAsset EA : c_connectedEnergyAssets ) {
	double energyUse_kWh=EA.p_energyAssetInstance.getEnergyUsed_kWh();
	v_totalEnergyUsed_kWh += max(0,energyUse_kWh);
	v_totalEnergyProduced_kWh -= min(0,energyUse_kWh);
}

v_selfConsumption_fr = 1 - (v_electricityDelivered_kWh + v_heatDelivered_kWh + v_methaneDelivered_kWh + v_hydrogenDelivered_kWh ) / v_totalEnergyProduced_kWh;
v_selfSufficiency_fr = 1 - (v_electricityDrawn_kWh + v_heatDrawn_kWh + v_methaneDrawn_kWh + v_hydrogenDrawn_kWh) / v_totalEnergyUsed_kWh; // Need to account for energy in storages!]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658752229618</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>50</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingChildNode);
EnergyAsset EA = (EnergyAsset) ConnectingChildNode;
c_connectedEnergyAssets.add(EA);

if (EA.p_energyAssetInstance instanceof J_EAConsumption) {
	c_connectedConsumptionAssets.add(EA);
} else if (EA.p_energyAssetInstance instanceof J_EAProduction ) {
	c_connectedProductionAssets.add(EA);
} else if (EA.p_energyAssetInstance instanceof J_EAStorage ) {
	c_connectedStorageAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAStorageHeat) {
		p_buildingTempAsset = EA;
	} 
} else if (EA.p_energyAssetInstance instanceof J_EAConversion) {
	c_connectedConversionAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAConversionGasBurner || EA.p_energyAssetInstance instanceof J_EAConversionHeatPump || EA.p_energyAssetInstance instanceof J_EAConversionHeatDeliverySet ) {
		p_HeatingAsset = EA;
		//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
	} 
} else {
	traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingChildNode.getId() + " is of unknown type or null! ");
}


/*
// create a local list of energyAssets connected to its netConnection Agent for easy reference
List<EnergyAsset> connectedEnergyAssets = subConnections.getConnections();

int numberOfEnergyAssets = connectedEnergyAssets.size();
for( int i = 0; i < numberOfEnergyAssets; i++ ) {
	if( connectedEnergyAssets.get(i) instanceof EnergyAsset ) {
		c_connectedEnergyAssets.add(connectedEnergyAssets.get(i));

	}
}

List<EnergyAsset> consumptionAssets = filter(c_connectedEnergyAssets, b -> b.p_energyAssetInstance instanceof J_EAConsumption);
List<EnergyAsset> productionAssets = filter(c_connectedEnergyAssets, b -> b.p_energyAssetInstance instanceof J_EAProduction);
List<EnergyAsset> storageAssets = filter(c_connectedEnergyAssets, b -> b.p_energyAssetInstance instanceof J_EAStorage);
List<EnergyAsset> conversionAssets = filter(c_connectedEnergyAssets, b -> b.p_energyAssetInstance instanceof J_EAConversion);
traceln("NetConnection connecting to " + numberOfEnergyAssets + " EnergyAssets");
*/
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659962626915</Id>
					<Name><![CDATA[f_operateAssets]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[traceln("ERROR: operate assets functie in gridconnection is aangeroepen vanuit parent agent");]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659962626917</Id>
					<Name><![CDATA[f_findMyEnergyAssets]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-210</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660212665961</Id>
					<Name><![CDATA[f_connectionMetering]]></Name>
					<X>50</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_electricityDrawn_kWh += max(v_currentPowerElectricity_kW, 0)*main.p_timeStep_h;
v_electricityDelivered_kWh += max(-v_currentPowerElectricity_kW, 0)*main.p_timeStep_h;

v_methaneDrawn_kWh += max(v_currentPowerMethane_kW, 0)*main.p_timeStep_h;
v_methaneDelivered_kWh += max(-v_currentPowerMethane_kW, 0)*main.p_timeStep_h;

v_hydrogenDrawn_kWh += max(v_currentPowerHydrogen_kW, 0)*main.p_timeStep_h;
v_hydrogenDelivered_kWh += max(-v_currentPowerHydrogen_kW, 0)*main.p_timeStep_h;

v_heatDrawn_kWh += max(v_currentPowerHeat_kW, 0)*main.p_timeStep_h;
v_heatDelivered_kWh += max(-v_currentPowerHeat_kW, 0)*main.p_timeStep_h;
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664961185842</Id>
					<Name><![CDATA[f_operateFixedConsumptionAssets]]></Name>
					<X>240</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//Is overwritten in child agents. Does nothing for gridconnections without consumption assets]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664961435385</Id>
					<Name><![CDATA[f_operateFlexAssets]]></Name>
					<X>240</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664966781827</Id>
					<Name><![CDATA[f_updateFlows]]></Name>
					<X>240</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_currentPowerElectricity_kW = 0;
v_currentPowerMethane_kW = 0;
v_currentPowerHydrogen_kW = 0;
v_currentPowerHeat_kW = 0;

for( EnergyAsset EA : c_connectedEnergyAssets ){
	v_currentPowerElectricity_kW += EA.v_currentConsumptionElectricity_kW - EA.v_currentProductionElectricity_kW;
	v_currentPowerMethane_kW += EA.v_currentConsumptionMethane_kW - EA.v_currentProductionMethane_kW;
	v_currentPowerHydrogen_kW += EA.v_currentConsumptionHydrogen_kW - EA.v_currentProductionHydrogen_kW;
	v_currentPowerHeat_kW += EA.v_currentConsumptionHeat_kW -  EA.v_currentProductionHeat_kW;
}

f_connectionMetering();

// Total Energy Use and Production
v_totalEnergyUsed_kWh = 0;
v_totalEnergyProduced_kWh = 0;
for (EnergyAsset EA : c_connectedEnergyAssets ) {
	double energyUse_kWh=EA.p_energyAssetInstance.getEnergyUsed_kWh();
	v_totalEnergyUsed_kWh += max(0, energyUse_kWh);
	v_totalEnergyProduced_kWh -= min(0, energyUse_kWh);
}

v_selfConsumption_fr = 1 - (v_electricityDelivered_kWh + v_heatDelivered_kWh + v_methaneDelivered_kWh + v_hydrogenDelivered_kWh ) / v_totalEnergyProduced_kWh;
v_selfSufficiency_fr = 1 - (v_electricityDrawn_kWh + v_heatDrawn_kWh + v_methaneDrawn_kWh + v_hydrogenDrawn_kWh) / v_totalEnergyUsed_kWh; // Need to account for energy in storages]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658499438198</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<OnReceive><![CDATA[if(sender instanceof GridNode ) {
	v_priceBandsGridNode = msg;
}
else if(sender instanceof EnergyHolon ) {
	v_priceBandsHolon = msg;
}]]></OnReceive>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[TreeMap<Double, Double>]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658499472169</Id>
					<Name><![CDATA[superConnection]]></Name>
					<X>240</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658499483833</Id>
					<Name><![CDATA[subConnections]]></Name>
					<X>240</X><Y>-20</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658499684645</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1658499438202</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658499506320</Id>
			<Name><![CDATA[EnergyAsset]]></Name>
			<AdditionalClassCode><![CDATA[@Override
	public String toString() {
		return
			"id = " + this.getIndex() + "; " +
			"type = " + p_energyAssetType.toString() + "; " + 
			"powerfraction_r = " + roundToDecimal(v_powerFraction_fr, 3) + " ";
	}
	]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<StartupCode><![CDATA[// f_connectToParentNode() --> made explicit function in main to avoid nested functions for easy profiling
//if( assetCategory == PRODUCTION){
//	main.c_productionAssets.add(this);
//}]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658499506318</Id>
				<Name><![CDATA[1658499506318]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658563200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658499506316</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658499506319</CurrentLevel>
			<ConnectionsId>1658499506315</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1658750229384</Id>
					<Name><![CDATA[v_currentProductionElectricity_kW]]></Name>
					<X>80</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1658750229388</Id>
					<Name><![CDATA[v_currentPowerElectricLost_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>330</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659092523267</Id>
					<Name><![CDATA[v_currentProductionHeat_kW]]></Name>
					<X>80</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659092541428</Id>
					<Name><![CDATA[v_currentConsumptionElectricity_kW]]></Name>
					<X>80</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659092596831</Id>
					<Name><![CDATA[v_currentConsumptionHeat_kW]]></Name>
					<X>80</X><Y>430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659092615449</Id>
					<Name><![CDATA[v_currentConsumptionMethane_kW]]></Name>
					<X>80</X><Y>390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659342082106</Id>
					<Name><![CDATA[v_powerFraction_fr]]></Name>
					<X>340</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659345815346</Id>
					<Name><![CDATA[v_currentProductionMethane_kW]]></Name>
					<X>80</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659365919790</Id>
					<Name><![CDATA[v_currentStateOfCharge_r]]></Name>
					<X>80</X><Y>460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659513282177</Id>
					<Name><![CDATA[v_currentProductionHydrogen_kW]]></Name>
					<X>80</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659513295338</Id>
					<Name><![CDATA[v_currentConsumptionHydrogen_kW]]></Name>
					<X>80</X><Y>410</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1658750163613</Id>
					<Name><![CDATA[p_capacity_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>690</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658750163611</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1659090642877</Id>
					<Name><![CDATA[p_energyAssetInstance]]></Name>
					<X>80</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EA]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1659090642875</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660130635726</Id>
					<Name><![CDATA[p_parentAgentID]]></Name>
					<X>80</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660130635724</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1659347079551</Id>
					<Name><![CDATA[p_energyAssetType]]></Name>
					<X>80</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_EnergyAssetType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1659347079549</Id>
							<Label><![CDATA[p_energyAssetType]]></Label>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658750189428</Id>
					<Name><![CDATA[p_assetTypeString]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>690</X><Y>-120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658750189426</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658750201622</Id>
					<Name><![CDATA[p_assetCategoryString]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>690</X><Y>-150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658750201620</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1659710764196</Id>
					<Name><![CDATA[p_parentAgentType]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>690</X><Y>-80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_NetConnectionCategory]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1659710764194</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658750219342</Id>
					<Name><![CDATA[f_connectToParentNode]]></Name>
					<X>80</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ProvidedParentConnection]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[Agent myParentAgent = null;

if( ProvidedParentConnection instanceof GridConnection ) {
	myParentAgent = ProvidedParentConnection;
	myParentAgent = (GridConnection)myParentAgent;
	superConnection.connectTo(myParentAgent);
	((GridConnection) myParentAgent).f_connectToChild(this);
} 
else if( ProvidedParentConnection instanceof GridNode ) {
	myParentAgent = ProvidedParentConnection;
	myParentAgent = (GridNode)myParentAgent;
	superConnection.connectTo(myParentAgent);
	((GridNode) myParentAgent).f_connectToChild(this);
} 
else {
	myParentAgent = findFirst(main.c_gridConnections, p->p.p_agentID.equals(p_parentAgentID));
	//traceln("found myParentAgent: "+myParentAgent.toString());
	if( myParentAgent != null && myParentAgent instanceof GridConnection ) {
		myParentAgent = (GridConnection)myParentAgent;
		superConnection.connectTo(myParentAgent);
		((GridConnection) myParentAgent).f_connectToChild(this);
	}
	myParentAgent = findFirst(main.c_gridNodes, p->p.p_agentID.equals(p_parentAgentID));
	
	if (myParentAgent != null && myParentAgent instanceof GridNode ) {
		myParentAgent = (GridNode)myParentAgent;
		superConnection.connectTo(myParentAgent);
		((GridNode) myParentAgent).f_connectToChild(this);
	}
	else {
		traceln("f_connectToParentNode in EnergyAsset: no parent to connect to! "+this.toString() );
	}
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659090766203</Id>
					<Name><![CDATA[f_instantiateConsumerAsset]]></Name>
					<X>80</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[assetType]]></Name>
						<Type><![CDATA[OL_EnergyAssetType]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityElectric_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityHeat_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[p_energyAssetInstance = (J_EAConsumption)p_energyAssetInstance;
p_energyAssetInstance = new J_EAConsumption( this, capacityElectric_kW, capacityHeat_kW, main.p_timeStep_h );
p_energyAssetType = assetType;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659092864897</Id>
					<Name><![CDATA[f_updateAllFlows]]></Name>
					<X>510</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[powerFraction]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[v_powerFraction_fr = powerFraction;

v_currentProductionElectricity_kW = 0;
v_currentProductionMethane_kW = 0;
v_currentProductionHydrogen_kW = 0;
v_currentProductionHeat_kW = 0;
v_currentConsumptionElectricity_kW = 0;
v_currentConsumptionMethane_kW = 0;
v_currentProductionHydrogen_kW = 0;
v_currentConsumptionHeat_kW = 0;
p_energyAssetInstance.resetFlows();

double[] arr = p_energyAssetInstance.operateBounded( v_powerFraction_fr );

v_currentProductionElectricity_kW=arr[0];
v_currentProductionMethane_kW=arr[1];
v_currentProductionHydrogen_kW=arr[2];
v_currentProductionHeat_kW=arr[3];

v_currentConsumptionElectricity_kW=arr[4];
v_currentConsumptionMethane_kW=arr[5];
v_currentConsumptionHydrogen_kW=arr[6];
v_currentConsumptionHeat_kW=arr[7];

v_currentStateOfCharge_r = (p_energyAssetInstance.getCurrentStateOfCharge());
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659711234930</Id>
					<Name><![CDATA[f_instantiateConverterAsset]]></Name>
					<X>80</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[assetType]]></Name>
						<Type><![CDATA[OL_EnergyAssetType]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityElectric_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityHeat_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[eta_r]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[deliveryTemp_degC]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[ambientTempType]]></Name>
						<Type><![CDATA[String]]></Type>
					</Parameter>
					<Body><![CDATA[switch(assetType) {
	case GAS_BURNER:
		p_energyAssetInstance = (J_EAConversionGasBurner)p_energyAssetInstance;
		p_energyAssetInstance = new J_EAConversionGasBurner( this, capacityHeat_kW, eta_r, main.p_timeStep_h );
	break;
	case HEAT_PUMP_AIR: //EnergyAsset ownerAssetAgent, double capacityElectricity_kW, double eta_r, double baseTemperature_degC, double outputTemperature_degC
		p_energyAssetInstance = (J_EAConversionHeatPump)p_energyAssetInstance;
		p_energyAssetInstance = new J_EAConversionHeatPump( this, capacityElectric_kW, eta_r, main.v_currentAmbientTemperature_degC, deliveryTemp_degC, ambientTempType );
		main.c_ambientAirDependentAssets.add(this);
	break;
	case HEAT_PUMP_GROUND:
		p_energyAssetInstance = (J_EAConversionHeatPump)p_energyAssetInstance;
		p_energyAssetInstance = new J_EAConversionHeatPump( this, capacityElectric_kW, eta_r, main.p_undergroundTemperature_degC, deliveryTemp_degC, ambientTempType );
	break;
	case HEAT_DELIVERY_SET: 
		p_energyAssetInstance = (J_EAConversionHeatDeliverySet)p_energyAssetInstance;
		p_energyAssetInstance = new J_EAConversionHeatDeliverySet( this, capacityHeat_kW, eta_r );
	break;
	default:
//		traceln("exception: not a valid conversion asset!");
	break;
}

p_energyAssetType = assetType;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659711250184</Id>
					<Name><![CDATA[f_instantiateStorageAsset]]></Name>
					<X>80</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[assetType]]></Name>
						<Type><![CDATA[OL_EnergyAssetType]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityElectric_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityHeat_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[InitialStateOfCharge_r]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[lossFactor_WpK]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[chargeCapacity_kWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[heatCapacity_JpK]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[minTemperature_degC]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[maxTemperature_degC]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[setTemperature_degC]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[ambientTempType]]></Name>
						<Type><![CDATA[String]]></Type>
					</Parameter>
					<Body><![CDATA[//energyAssetType	capacityElectricity_kW	capacityHeat_kW	stateOfCharge_r	minTemp_degC	maxTemp_degC	lossFactor_WpK	chargeCapacity_kWh	heatCapacity_JpK

switch(assetType) {
	case STORAGE_ELECTRIC:

	// EnergyAsset ownerAsset, double chargeCapacityElectricity_kW, double chargeCapacityHeat_kW, OL_EnergyCarrierType storageMedium, double capacity, double stateOfCharge, double lossFactor, double timestep_h
	p_energyAssetInstance = new J_EAStorageElectric(this, capacityElectric_kW, 10000, InitialStateOfCharge_r, main.p_timeStep_h);   // (EnergyAsset ownerAsset, double capacityElectricity_kW, double storageCapacity_kWh, double stateOfCharge_r, double timestep_h)
	break;
	case STORAGE_HEAT:
	//EnergyAsset ownerAsset, double capacityHeat_kW, double lossFactor_WpK, double timestep_h, double initialTemperature_degC, double minTemperature_degC, double maxTemperature_degC, double heatCapacity_JpK
	p_energyAssetInstance = new J_EAStorageHeat(this, capacityHeat_kW, lossFactor_WpK, main.p_timeStep_h, InitialStateOfCharge_r*(maxTemperature_degC-minTemperature_degC)+minTemperature_degC, minTemperature_degC, maxTemperature_degC, setTemperature_degC, heatCapacity_JpK, ambientTempType);
	main.c_ambientAirDependentAssets.add(this);
	break;
	case ELECTRIC_VEHICLE:
	// EnergyAsset ownerAsset, double chargeCapacityElectricity_kW, double chargeCapacityHeat_kW, OL_EnergyCarrierType storageMedium, double capacity, double stateOfCharge, double lossFactor, double timestep_h
	p_energyAssetInstance = new J_EAEV(this, capacityElectric_kW, chargeCapacity_kWh, InitialStateOfCharge_r, main.p_timeStep_h, uniform(0.2, 0.15));   // (EnergyAsset ownerAsset, double capacityElectricity_kW, double storageCapacity_kWh, double stateOfCharge_r, double timestep_h, energyConsumption_kWhpkm)
	break;
	default:
		traceln("exception: not a valid storage medium!");
	break;
}

p_energyAssetType = assetType;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659970344780</Id>
					<Name><![CDATA[f_instantiateProducerAsset]]></Name>
					<X>80</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[assetType]]></Name>
						<Type><![CDATA[OL_EnergyAssetType]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityElectric_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityHeat_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[p_energyAssetInstance = (J_EAProduction)p_energyAssetInstance;
p_energyAssetInstance = new J_EAProduction ( this, capacityElectric_kW, capacityHeat_kW, main.p_timeStep_h );
p_energyAssetType = assetType;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664970822195</Id>
					<Name><![CDATA[f_updateElectricityFlows]]></Name>
					<X>340</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[powerFraction]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[v_powerFraction_fr = powerFraction;
v_currentProductionElectricity_kW = 0;
v_currentConsumptionElectricity_kW = 0;
p_energyAssetInstance.resetFlows();

double[] arr = p_energyAssetInstance.operateBounded( v_powerFraction_fr );

v_currentProductionElectricity_kW=arr[0];
v_currentConsumptionElectricity_kW=arr[4];

//v_currentStateOfCharge_r = (p_energyAssetInstance.getCurrentStateOfCharge());
]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658499506315</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658499540323</Id>
					<Name><![CDATA[superConnection]]></Name>
					<X>260</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658499549196</Id>
					<Name><![CDATA[subConnections]]></Name>
					<X>260</X><Y>-20</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658499725706</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1658499506319</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Text>
					<Id>1664954365730</Id>
					<Name><![CDATA[text]]></Name>
					<X>660</X><Y>-200</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-4565549</Color>
					<Text><![CDATA[Dit kan weg neem ik aan?]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>16</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658752695711</Id>
			<Name><![CDATA[KpiVisuals]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<StartupCode><![CDATA[f_plotAgents();]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658752695709</Id>
				<Name><![CDATA[1658752695709]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658822400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658752695707</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658752695710</CurrentLevel>
			<ConnectionsId>1658752695706</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1661169181264</Id>
					<Name><![CDATA[v_electricityBalanceMSLSGridConnections_kWh]]></Name>
					<Description><![CDATA[Summation of MSLS node volumes of electricity transferred for model consistency checks. Equal to HSMS flows UNLESS EnergyAssets are directly connected to the HSMS node(s).

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-280</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661169229844</Id>
					<Name><![CDATA[v_electricityBalanceHSMSGridConnections_kWh]]></Name>
					<Description><![CDATA[Summation of HSMS node volumes of electricity transferred for model consistency checks. Equal to MSLS flows UNLESS EnergyAssets are directly connected to the HSMS node(s).

@author: Jorrit
@since: Sprint 6 ]]></Description>
					<X>-280</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661171246105</Id>
					<Name><![CDATA[v_gridConnectionBalanceElectricity_eur]]></Name>
					<Description><![CDATA[Summation of grid connection bank balances for electricity trading. Should be equal to summed energy supplier bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661171629108</Id>
					<Name><![CDATA[v_energySupplierBalanceTotal_eur]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for trading of all energy carriers. Should be equal to summed grid connection bank balances for all energy carriers!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>570</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661172254045</Id>
					<Name><![CDATA[v_gridConnectionBalanceHeat_eur]]></Name>
					<Description><![CDATA[Summation of grid connection bank balances for heat trading. Should be equal to summed energy supplier bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661172266072</Id>
					<Name><![CDATA[v_gridConnectionBalanceMethane_eur]]></Name>
					<Description><![CDATA[Summation of grid connection bank balances for methane trading. Should be equal to summed energy supplier bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661172282245</Id>
					<Name><![CDATA[v_gridConnectionBalanceTotal_eur]]></Name>
					<Description><![CDATA[Summation of grid connection bank balances for trading of all energy carriers. Should be equal to summed energy supplier bank balances for all energy carriers!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174272350</Id>
					<Name><![CDATA[v_energySupplierBalanceElectricity_eur]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for electricity trading with clients. Should be equal to summed grid connection bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174295917</Id>
					<Name><![CDATA[v_energySupplierBalanceHeat_eur]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for heat trading with clients. Should be equal to summed grid connection bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>510</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174308492</Id>
					<Name><![CDATA[v_energySupplierBalanceMethane_eur]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for methane trading with clients. Should be equal to summed grid connection bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174320836</Id>
					<Name><![CDATA[v_energySupplierBalanceHydrogen_eur]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for hydrogen trading with clients. Should be equal to summed grid connection bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>550</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174336947</Id>
					<Name><![CDATA[v_gridConnectionBalanceHydrogen_eur]]></Name>
					<Description><![CDATA[Summation of grid connection bank balances for hydrogen trading. Should be equal to summed energy supplier bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1660578629879</Id>
					<Name><![CDATA[p_individualMode]]></Name>
					<Description><![CDATA[Met p_individualeMode kan gekozen worden tussen een geagreggeerde representatie of volledige representatie van alle individuele actor-agents in het model in f_plotActors(minx, maxx).

@since Sprint 6
@author Jorrit]]></Description>
					<X>-270</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[true]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1660578629877</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Events>
				<Event>
					<Id>1658762748110</Id>
					<Name><![CDATA[e_updateVisuals]]></Name>
					<Description><![CDATA[Event dat de visualisatie van energiestromen ververst.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-120</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1658822400000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[0]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[main.p_timeStep_h ]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[f_gatherEnergyFlows();
f_checkModelConsistency();]]></Action>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658752989234</Id>
					<Name><![CDATA[f_gatherEnergyFlows]]></Name>
					<Description><![CDATA[Functie gebruikt om energiestromen over NetNode-agents op te halen en weer te geven voor monitoring en debugging.

@param: none
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-270</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//
for( UI_GridNode n : uI_GridNodes )
{
	GridNode realAgent = n.realAgent.getConnectedAgent(0);
	n.t_loadElectricText.setText( roundToDecimal( realAgent.v_currentLoadElectricity_kW / 1000, 3 ) + " MWe");
	n.t_loadThermalText.setText( roundToDecimal( realAgent.v_currentLoadHeat_kW / 1000, 3 ) + " MWth");
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658753035472</Id>
					<Name><![CDATA[f_plotAgents]]></Name>
					<Description><![CDATA[Functie gebruikt om UI_Actor instances te maken en plotten op de canvas.

@param: none
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-270</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// set canvas size
double minx = 100;
double maxx = minx + 800;

// count the number of HS/MS and MS/LS nodes for spacing
List<GridNode> HSNetnodes = filter( main.pop_gridNodes, n -> n.p_nodeType == OL_GridNodeType.HSMS  );
List<GridNode> MSNetnodes = filter( main.pop_gridNodes, n -> n.p_nodeType == OL_GridNodeType.MSLS );
List<GridNode> HeatNodes = filter( main.pop_gridNodes, n -> n.p_energyType == OL_EnergyCarrierType.HEAT );
//List<NetConnection> Houses = filter( main.netConnections, b -> b.p_netConnectionCategory.equals("house") );
//List<NetConnection> Windfarms = filter( main.netConnections, b -> b.p_netConnectionCategory.equals("windfarm") );
List<GridConnection> NetConnections = filter( main.c_gridConnections, n -> true );

//traceln("HS "+HSNetnodes+" -> "+HSNetnodes.size());
//traceln("MS "+MSNetnodes+" -> "+MSNetnodes.size());
//traceln("Houses "+Houses+" -> "+Houses.size());
//traceln("Windfarms "+Windfarms+" -> "+Windfarms.size());
//traceln("NetConnections "+NetConnections+" -> "+NetConnections.size());

// draw upper level HS stations
double ylevel = 100;
double xinterval = ( maxx - minx ) / HSNetnodes.size();

int index = 0;
for ( Iterator<GridNode> it = HSNetnodes.iterator(); it.hasNext(); index++ )
{
    GridNode netnode = it.next();
//    traceln(netnode + ":" + index);
    String nodeName = netnode.p_agentID;
    String parent = netnode.p_parentNodeID;
    OL_GridNodeType nodeType = netnode.p_nodeType;
	UI_GridNode hs = add_uI_GridNodes( nodeName, nodeType );
	hs.setXY( ( minx + ( xinterval / 2 ) + ( index * xinterval ) ) , ylevel);
	hs.realAgent.connectTo(netnode);
	//if( parent!=null ){
	//	UI_NetNode p = filter( uI_NetNodes, o -> o.p_nodeID.equals(parent) ).get(0);
	//	hs.connectTo(p);
	//}
}

// draw mid level MS stations
ylevel = 200;
xinterval = ( maxx - minx ) / MSNetnodes.size();
index = 0;
for ( Iterator<GridNode> it = MSNetnodes.iterator(); it.hasNext(); index++ )
{
    GridNode netnode = it.next();
//    traceln(netnode + ":" + index);
	String nodeName = netnode.p_agentID;
	OL_GridNodeType nodeType = netnode.p_nodeType;
    String parent = netnode.p_parentNodeID;
	UI_GridNode ms = add_uI_GridNodes( nodeName, nodeType );
	ms.setXY( ( minx + ( xinterval / 2 ) + ( index * xinterval ) ) , ylevel);
	ms.realAgent.connectTo(netnode);
	if( parent!=null ){
		UI_GridNode p = filter( uI_GridNodes, q -> q.p_nodeID.equals(parent) ).get(0);
		ms.connectTo(p);
	}
}

// draw heat nodes
ylevel = 500;
xinterval = ( maxx - minx ) / HeatNodes.size(); // TODO: make this the average x-coordinate of netconnections with this node as a parent?
index = 0;
for ( Iterator<GridNode> it = HeatNodes.iterator(); it.hasNext(); index++ )
{
    GridNode netnode = it.next();
//    traceln(netnode + ":" + index);
	String nodeName = netnode.p_agentID;
	OL_GridNodeType nodeType = netnode.p_nodeType;
    String parent = netnode.p_parentNodeID;
	UI_GridNode hn = add_uI_GridNodes( nodeName, nodeType );
	hn.setXY( ( minx + ( xinterval / 2 ) + ( index * xinterval ) ) , ylevel);
	hn.realAgent.connectTo(netnode);
	hn.netNodeVisual.setFillColor(mistyRose);
	if( parent!=null ){
		UI_GridNode p = filter( uI_GridNodes, q -> q.p_nodeID.equals(parent) ).get(0);
		hn.connectTo(p);
	}
}

// draw buildings
//ylevel = 400;
for ( Iterator<GridConnection> it = NetConnections.iterator(); it.hasNext(); index++ )
{
    GridConnection netconnection = it.next();
//    traceln(netnode + ":" + index);
	String netConnectionName = netconnection.p_agentID;
	OL_GridConnectionCategory netConnectionCategory = netconnection.p_gridConnectionCategory;
	OL_GridConnectionType netConnectionType = netconnection.p_gridConnectionType;
    String parentElectric = netconnection.p_parentNodeElectricID;
    String parentHeat = netconnection.p_parentNodeHeatID;
	UI_GridConnection nc = add_uI_GridConnections( netConnectionName, netConnectionCategory, netConnectionType );

	nc.realAgent.connectTo( netconnection );
	traceln("parent input filter "+filter( uI_GridNodes, o -> o.p_nodeID.equals(parentElectric) ).get(0));
	if( parentElectric != null ){
		UI_GridNode p = filter( uI_GridNodes, o -> o.p_nodeID.equals(parentElectric) ).get(0);
		nc.connectTo(p);
		double parentx = p.getX() ;
		double parenty = p.getY();
		nc.setXY( parentx, parenty + 150 );
	}
	if( parentHeat != null ){
		UI_GridNode q = filter( uI_GridNodes, o -> o.p_nodeID.equals(parentHeat) ).get(0);
		nc.connectTo(q);

		// district heating plants line up to heat node
		if( netConnectionCategory == OL_GridConnectionCategory.DISTRICTHEATING ) {
			double parentx = q.getX() ;
			double parenty = q.getY();
			nc.setXY( parentx +50 , parenty - 50 );
		}
	}
	nc.f_setNetConnectionVisual();
}

f_plotActors(minx,maxx);]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660572124344</Id>
					<Name><![CDATA[f_plotActors]]></Name>
					<Description><![CDATA[Functie gebruikt om de actorlaag van het model te representeren in de KpiVisuals agent. Wordt aangeroepen vanuit f_plotAgents() zodat de daar gegeven canvas-begrenzingen (minx, maxx) worden overdragen. Met p_individualeMode kan gekozen worden tussen een geagreggeerde representatie of volledige representatie van alle individuele actor-agents in het model.

@param minx minimale x-waarde (canvas) voor de visual 
@param maxx maximale x-waarde (canvas) voor de visual
@return none
@since Sprint 6
@author Jorrit]]></Description>
					<X>-270</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[minx]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[maxx]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[// Bepaal aanwezige actortypen voor visualisatie
List<ConnectionOwner> Actors = filter( main.pop_connectionOwners, n -> true );
List<ConnectionOwner> Households = filter( main.pop_connectionOwners, n -> n.p_actorType.equals("household") );
List<ConnectionOwner> Commercials = filter( main.pop_connectionOwners, n -> n.p_actorType.equals("commercial") );
List<EnergySupplier> EnergySuppliers = filter( main.pop_energySuppliers, n -> n.p_actorType.equals("energysupplier") );
List<EnergyHolon> Holons = filter( main.pop_energyHolons, n -> n.p_actorType.equals("holon") );

traceln("KPIVisuals f_plotActors(): number of households: "+ Households.size());
traceln("KPIVisuals f_plotActors(): number of commercials: "+ Commercials.size());


if( p_individualMode ) {
	// holons
	double ylevel = 600;
	int index = 0;
	double xinterval = ( maxx - minx ) / ( Holons.size() * 2 );
	
	for ( Iterator<EnergyHolon> it = Holons.iterator(); it.hasNext(); index++ )
	{
	    EnergyHolon holon = it.next();
		String parent = holon.p_parentActorID;
 	   	String actorID = holon.p_actorID;
 	   	OL_ActorType actorType = OL_ActorType.ENERGYHOLON;
		UI_Actor holonActor = add_uI_Actors(actorType, parent, actorID);
		holonActor.setXY(  ( minx + ( xinterval / 2 ) + ( index * xinterval ) ), ylevel);
		holonActor.realAgent.connectTo(holon);
		holonActor.holon.setPos(0,0,0);
		holonActor.holon.setVisible(true);
	}
	
	// energysuppliers	
	ylevel = 750;
	index = 0;
	xinterval = ( maxx - minx ) / ( EnergySuppliers.size() * 2 );
	for ( Iterator<EnergySupplier> it = EnergySuppliers.iterator(); it.hasNext(); index++ )
	{
	    EnergySupplier energySupplier = it.next();
		String parent = energySupplier.p_parentActorID;
 	   	String actorID = energySupplier.p_actorID;
 	   	OL_ActorType actorType = OL_ActorType.ENERGYSUPPLIER;
		UI_Actor energySupplierActor = add_uI_Actors(actorType, parent, actorID);
		energySupplierActor.setXY(  ( minx + ( xinterval / 2 ) + ( index * xinterval ) ), ylevel);
		energySupplierActor.realAgent.connectTo(energySupplier);
		energySupplierActor.energySupplier.setPos(0,0,0);
		energySupplierActor.energySupplier.setVisible(true);
		//if( parent!="" ) {
		//	UI_Actor a = filter( uI_Actors, o -> o.p_actorID.equals(parent) ).get(0);
		//	energySupplierActor.connectTo(a);
		//}
	}
	
	// commercial buildings
	ylevel = 850;
	index = 0;
	xinterval = ( maxx - minx ) / ( Commercials.size() * 2 );
	for ( Iterator<ConnectionOwner> it = Commercials.iterator(); it.hasNext(); index++ )
	{
	    ConnectionOwner commercial = it.next();
		String parent = commercial.p_parentActorID;
 	   	String actorID = commercial.p_actorID;
 	   	OL_ActorType actorType = OL_ActorType.CONNECTIONOWNER;
		UI_Actor commercialActor = add_uI_Actors(actorType, parent, actorID);
		commercialActor.setXY(  ( minx + ( xinterval / 2 ) + ( index * xinterval ) ), ylevel);
		commercialActor.realAgent.connectTo(commercial);
		commercialActor.commercial.setPos(0,0,0);
		commercialActor.commercial.setVisible(true);
		if( parent!="" ) {
			UI_Actor a = filter( uI_Actors, o -> o.p_actorID.equals(parent) ).get(0);
			commercialActor.connectTo(a);
		}	
	}
	// households
	ylevel = 900;
	xinterval = ( maxx - minx ) / ( Households.size() * 2 );

	index = 0;
	for ( Iterator<ConnectionOwner> it = Households.iterator(); it.hasNext(); index++ )
	{
	    ConnectionOwner household = it.next();
		String parent = household.p_parentActorID;
 	   	String actorID = household.p_actorID;
 	   	OL_ActorType actorType = OL_ActorType.CONNECTIONOWNER;
		UI_Actor householdActor = add_uI_Actors(actorType, parent, actorID);
		householdActor.setXY(  ( minx + ( xinterval / 2 ) + ( index * xinterval ) ), ylevel);
		householdActor.realAgent.connectTo(household);
		householdActor.household.setPos(0,0,0);
		householdActor.household.setVisible(true);
		if( parent!="" ) {
			UI_Actor a = filter( uI_Actors, o -> o.p_actorID.equals(parent) ).get(0);
			householdActor.connectTo(a);
		}	
	}
}
else {
	// Actors zoveel mogelijk aggregeren in types. Onderscheid kunnen maken tussen relevante states (lid v holon) is wel wenselijk?
	int numberOfHouseholdActors = Households.size();
	if( numberOfHouseholdActors > 0 ) {
		UI_Actor householdUIActor = add_uI_Actors(OL_ActorType.CONNECTIONOWNER, "", "");
		householdUIActor.houseHoldVisuals.setPos(0,0,0);
		householdUIActor.t_numberOfHouseholds.setText(numberOfHouseholdActors);
		householdUIActor.houseHoldVisuals.setVisible(true);
		householdUIActor.setXY(400, 600);
	}
		
	int numberOfCommercialActors = Commercials.size();
	if( numberOfCommercialActors > 0 ) {
		UI_Actor commercialUIActor = add_uI_Actors(OL_ActorType.CONNECTIONOWNER,"", "");
		
		commercialUIActor.commercialVisuals.setPos(0,0,0);
		commercialUIActor.t_numberOfCommercials.setText(numberOfCommercialActors);
		commercialUIActor.commercialVisuals.setVisible(true);
		commercialUIActor.setXY(400, 700);
	}
	
	int numberOfEnergySupplierActors = EnergySuppliers.size();
	if( numberOfEnergySupplierActors > 0 ) {
		UI_Actor energySupplierUIActor = add_uI_Actors(OL_ActorType.ENERGYSUPPLIER,"", "");
		
		energySupplierUIActor.energySupplierVisuals.setPos(0,0,0);
		energySupplierUIActor.t_numberOfEnergySuppliers.setText(numberOfEnergySupplierActors);
		energySupplierUIActor.energySupplierVisuals.setVisible(true);
		energySupplierUIActor.setXY(200, 650);
	}
	
}		]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1661169336291</Id>
					<Name><![CDATA[f_checkModelConsistency]]></Name>
					<Description><![CDATA[Goal of the function is to retrieve information from the model and store this in the allotted variables to enable model consistency checks and validation.
Both energy and financial checks can be done.

@params: none
@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-280</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Retrieve MSLS gridnode electricity balance
double electricityBalance_kWh = 0;

for( UI_GridNode n : filter( uI_GridNodes, p -> !p.p_nodeType.equals(HSMS)) ) {
	GridNode realAgent = n.realAgent.getConnectedAgent(0);
	electricityBalance_kWh += realAgent.v_electricityDelivered_kWh - realAgent.v_electricityDrawn_kWh;
}

v_electricityBalanceMSLSGridConnections_kWh = electricityBalance_kWh;

// retrieve HSLS gridnode electricity balance and compare
electricityBalance_kWh = 0;

for( UI_GridNode n : filter( uI_GridNodes, p -> p.p_nodeType.equals(HSMS)) ) {
	GridNode realAgent = n.realAgent.getConnectedAgent(0);
	electricityBalance_kWh += realAgent.v_electricityDelivered_kWh - realAgent.v_electricityDrawn_kWh;
}

v_electricityBalanceHSMSGridConnections_kWh = electricityBalance_kWh;

// retrieve GridConnections financial states
double electricityBalance_eur = 0;
double heatBalance_eur = 0;
double methaneBalance_eur = 0;
double hydrogenBalance_eur = 0;
for( UI_Actor a : filter( uI_Actors, p -> p.p_actorType.equals(CONNECTIONOWNER)) ) {
	ConnectionOwner realAgent = (ConnectionOwner)a.realAgent.getConnectedAgent(0);
	electricityBalance_eur += realAgent.v_balanceElectricity_eur;
	heatBalance_eur += realAgent.v_balanceHeat_eur;
	methaneBalance_eur += realAgent.v_balanceMethane_eur;
	hydrogenBalance_eur += realAgent.v_balanceHydrogen_eur;
}
v_gridConnectionBalanceElectricity_eur = electricityBalance_eur;
v_gridConnectionBalanceHeat_eur = heatBalance_eur;
v_gridConnectionBalanceMethane_eur = methaneBalance_eur;
v_gridConnectionBalanceHydrogen_eur = hydrogenBalance_eur;
v_gridConnectionBalanceTotal_eur = v_gridConnectionBalanceElectricity_eur + v_gridConnectionBalanceHeat_eur + v_gridConnectionBalanceMethane_eur + v_gridConnectionBalanceHydrogen_eur;

electricityBalance_eur = 0;
heatBalance_eur = 0;
methaneBalance_eur = 0;
hydrogenBalance_eur = 0;
for( UI_Actor a : filter( uI_Actors, p -> p.p_actorType.equals(ENERGYSUPPLIER)) ) {
	EnergySupplier realAgent = (EnergySupplier)a.realAgent.getConnectedAgent(0);
	electricityBalance_eur += realAgent.v_currentBalanceElectricityClients_eur;
	heatBalance_eur += realAgent.v_currentBalanceHeatClients_eur;
	methaneBalance_eur += realAgent.v_currentBalanceMethaneClients_eur;
	hydrogenBalance_eur += realAgent.v_currentBalanceHydrogenClients_eur;
}
v_energySupplierBalanceElectricity_eur = electricityBalance_eur;
v_energySupplierBalanceHeat_eur = heatBalance_eur;
v_energySupplierBalanceMethane_eur = methaneBalance_eur;
v_energySupplierBalanceHydrogen_eur = hydrogenBalance_eur;
v_energySupplierBalanceTotal_eur = v_energySupplierBalanceElectricity_eur + v_energySupplierBalanceHeat_eur + v_energySupplierBalanceMethane_eur + v_energySupplierBalanceHydrogen_eur;]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658752695706</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658752707227</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>
			<EmbeddedObjects>
				<EmbeddedObject>
					<Id>1658753298441</Id>
					<Name><![CDATA[uI_GridNodes]]></Name>
					<Description><![CDATA[populatie van uI_NetNodes agents ter visualisatie van NetNodes parallel aan het model

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-120</X><Y>100</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<PresentationId>1658753301607</PresentationId>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[UI_GridNode]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[UI_GridNode]]></ClassName>
							<ItemName><![CDATA[1658752913452]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_nodeID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nodeType]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1658764981278</Id>
					<Name><![CDATA[uI_GridConnections]]></Name>
					<Description><![CDATA[populatie van uI_NetConnections agents ter visualisatie van NetConnections parallel aan het model

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-120</X><Y>120</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<PresentationId>1658929061851</PresentationId>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[UI_GridConnection]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[UI_GridConnection]]></ClassName>
							<ItemName><![CDATA[1658764971885]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_netConnectionID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_netConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_netConnectionType]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660572078973</Id>
					<Name><![CDATA[uI_Actors]]></Name>
					<Description><![CDATA[Gebruikt voor visuele representatie van de actor-agenten parallel aan het main-model. f_plotActors vult de populatie UI_Actors op basis van de in het main-model aangemaakte Actor agents.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-120</X><Y>140</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<PresentationId>1660576673162</PresentationId>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[UI_Actor]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[UI_Actor]]></ClassName>
							<ItemName><![CDATA[1660572036694]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
			</EmbeddedObjects>

			<Presentation>
				<Level>
					<Id>1658752695710</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<EmbeddedObjectPresentation>
					<Id>1658753301607</Id>
					<Name><![CDATA[uI_GridNodes_presentation]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<DrawingMode>AGENT_CURRENT_POSITION</DrawingMode>
					<ScaleType>AUTOMATICALLY_CALCULATED</ScaleType>
					<GISScaleForRealEmbeddedObjectPresentationSize>1000</GISScaleForRealEmbeddedObjectPresentationSize>
					<GISScaleForFixedEmbeddedObjectPresentationSize>1000000000</GISScaleForFixedEmbeddedObjectPresentationSize>
					<Latitude>0.0</Latitude>
					<Longitude>0.0</Longitude>
				</EmbeddedObjectPresentation>
				<EmbeddedObjectPresentation>
					<Id>1658929061851</Id>
					<Name><![CDATA[uI_GridConnections_presentation]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<DrawingMode>AGENT_CURRENT_POSITION</DrawingMode>
					<ScaleType>AUTOMATICALLY_CALCULATED</ScaleType>
					<GISScaleForRealEmbeddedObjectPresentationSize>1000</GISScaleForRealEmbeddedObjectPresentationSize>
					<GISScaleForFixedEmbeddedObjectPresentationSize>1000000000</GISScaleForFixedEmbeddedObjectPresentationSize>
					<Latitude>0.0</Latitude>
					<Longitude>0.0</Longitude>
				</EmbeddedObjectPresentation>
				<EmbeddedObjectPresentation>
					<Id>1660576673162</Id>
					<Name><![CDATA[uI_Actors_presentation]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<DrawingMode>AGENT_CURRENT_POSITION</DrawingMode>
					<ScaleType>AUTOMATICALLY_CALCULATED</ScaleType>
					<GISScaleForRealEmbeddedObjectPresentationSize>1000</GISScaleForRealEmbeddedObjectPresentationSize>
					<GISScaleForFixedEmbeddedObjectPresentationSize>1000000000</GISScaleForFixedEmbeddedObjectPresentationSize>
					<Latitude>0.0</Latitude>
					<Longitude>0.0</Longitude>
				</EmbeddedObjectPresentation>
				<Text>
					<Id>1661169262789</Id>
					<Name><![CDATA[text]]></Name>
					<X>-290</X><Y>280</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Debugging and system check variables]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>12</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1661517923605</Id>
					<Name><![CDATA[text3]]></Name>
					<X>20</X><Y>580</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA["Model time: "+]]></Text>
					<TextCode><![CDATA["Model Time: "+roundToDecimal(time(HOUR),1) + " hours simulated"]]></TextCode>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658752913454</Id>
			<Name><![CDATA[UI_GridNode]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<StartupCode><![CDATA[f_setNodeVisual();]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658752913452</Id>
				<Name><![CDATA[1658752913452]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658822400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658752913450</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658752913453</CurrentLevel>
			<ConnectionsId>1658752913449</ConnectionsId>
			<Variables>
				<Variable Class="Parameter">
					<Id>1658753690661</Id>
					<Name><![CDATA[p_nodeID]]></Name>
					<X>60</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658753690659</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658759460529</Id>
					<Name><![CDATA[p_nodeType]]></Name>
					<X>60</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridNodeType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658759460527</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658753874720</Id>
					<Name><![CDATA[f_setNodeVisual]]></Name>
					<X>60</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[t_nodeID.setText(p_nodeID);
t_nodetype.setText(p_nodeType);]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658752913449</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<DrawLine>true</DrawLine>
					<LineStyle>DOTTED</LineStyle>
					<LineWidth>0.5</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658760368568</Id>
					<Name><![CDATA[realAgent]]></Name>
					<X>200</X><Y>-40</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentReferenceId>1658477288308</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658753301618</Id>
					<Name><![CDATA[kpiVisuals]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[KpiVisuals]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
				<ContainerLink>
					<Id>1658753301622</Id>
					<Name><![CDATA[main]]></Name>
					<X>150</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1658752913453</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Rectangle>
					<Id>1658752947986</Id>
					<Name><![CDATA[netNodeVisual]]></Name>
					<X>-30</X><Y>-20</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>60</Width>
					<Height>40</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-7876870</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1658753927156</Id>
					<Name><![CDATA[t_nodeID]]></Name>
					<X>0</X><Y>-10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[ID]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Text>
					<Id>1658754055524</Id>
					<Name><![CDATA[t_nodeText]]></Name>
					<X>0</X><Y>-20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[node]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Text>
					<Id>1658759394610</Id>
					<Name><![CDATA[t_nodetype]]></Name>
					<X>0</X><Y>5</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[type]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>2</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Text>
					<Id>1658762845688</Id>
					<Name><![CDATA[text]]></Name>
					<X>40</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[load:]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1658762845695</Id>
					<Name><![CDATA[t_loadElectricText]]></Name>
					<X>70</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[0 MWe]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1660136208763</Id>
					<Name><![CDATA[t_loadThermalText]]></Name>
					<X>70</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[0 MWth]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658764971887</Id>
			<Name><![CDATA[UI_GridConnection]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<StartupCode><![CDATA[f_setNetConnectionVisual();]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658764971885</Id>
				<Name><![CDATA[1658764971885]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658822400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658764971883</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658764971886</CurrentLevel>
			<ConnectionsId>1658764971882</ConnectionsId>
			<Variables>
				<Variable Class="Parameter">
					<Id>1658922494420</Id>
					<Name><![CDATA[p_netConnectionID]]></Name>
					<X>60</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658922494404</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658922517357</Id>
					<Name><![CDATA[p_netConnectionCategory]]></Name>
					<X>60</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionCategory]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658922517355</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658935468891</Id>
					<Name><![CDATA[p_netConnectionType]]></Name>
					<X>60</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658935468889</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658922533379</Id>
					<Name><![CDATA[f_setNetConnectionVisual]]></Name>
					<X>60</X><Y>105</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[switch( p_netConnectionCategory ) {
  case HOUSE:
  house.setVisible(true);
  house.setPos(0, 0, 0);
  this.setXY( this.getX() + normal(20, 0), this.getY() + normal(20, 0) );
  break;
  case BUILDING:
  switch( p_netConnectionType ) {
  	case STORE:
	store.setVisible(true);
	store.setPos(0, 0, 0);
	this.setXY( this.getX() + normal(20, 30), this.getY() + normal(20, 0) );
	case OFFICE:
	office.setVisible(true);
	office.setPos(0, 0, 0);
	this.setXY( this.getX() + normal(20, 30), this.getY() + normal(20, 0) );
	break;
	}
  break;
  case WINDFARM:
  windfarm.setVisible(true);
  windfarm.setPos(0, 0, 0);
  this.setXY( this.getX() + normal(20, 75), this.getY() + normal(20, -100) );
  break;
  case SOLARFARM:
  solarfarm.setVisible(true);
  solarfarm.setPos(0, 0, 0);
  this.setXY( this.getX() + normal(20, 75), this.getY() + normal(20, -100) );
  break;
  case DISTRICTHEATING:
  districtheating.setVisible(true);
  districtheating.setPos(0, 0, 0);
  break;
  default:
  error( "Invalid netConnection category: " + p_netConnectionCategory );
}]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658764971882</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<DrawLine>true</DrawLine>
					<LineStyle>DOTTED</LineStyle>
					<LineWidth>0.5</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658922322142</Id>
					<Name><![CDATA[realAgent]]></Name>
					<X>190</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentReferenceId>1658499438203</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658764984405</Id>
					<Name><![CDATA[kpiVisuals]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[KpiVisuals]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
				<ContainerLink>
					<Id>1658764984411</Id>
					<Name><![CDATA[main]]></Name>
					<X>150</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1658764971886</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Group>
					<Id>1658929175596</Id>
					<Name><![CDATA[house]]></Name>
					<X>-23</X><Y>38</Y>
					<Label><X>6.429</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1658929175598</Id>
					<Name><![CDATA[_ps257]]></Name>
					<X>-0.643</X><Y>6.087</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-11563064</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-6.696</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-3.652</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175600</Id>
					<Name><![CDATA[_ps258]]></Name>
					<X>-0.643</X><Y>2.435</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-5716507</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					   <Point><X>3.214</X><Y>-6.696</Y><Z>0</Z></Point>
					   <Point><X>-3.214</X><Y>-3.652</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175602</Id>
					<Name><![CDATA[_ps259]]></Name>
					<X>-7.071</X><Y>3.043</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-8607017</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-3.652</Y><Z>0</Z></Point>
					   <Point><X>3.214</X><Y>-4.261</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-0.609</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>3.043</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175604</Id>
					<Name><![CDATA[_ps260]]></Name>
					<X>-7.071</X><Y>-0.609</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-2168075</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					   <Point><X>9.643</X><Y>-3.652</Y><Z>0</Z></Point>
					   <Point><X>3.214</X><Y>-0.609</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175606</Id>
					<Name><![CDATA[_ps261]]></Name>
					<X>-0.643</X><Y>6.087</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-14734530</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-6.696</Y><Z>0</Z></Point>
					   <Point><X>3.214</X><Y>-10.348</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-9.739</Y><Z>0</Z></Point>
					   <Point><X>-6.429</X><Y>-6.696</Y><Z>0</Z></Point>
					   <Point><X>-6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175608</Id>
					<Name><![CDATA[_ps262]]></Name>
					<X>-5.786</X><Y>2.435</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-12823945</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>0.609</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>-1.217</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-1.826</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175610</Id>
					<Name><![CDATA[_ps263]]></Name>
					<X>0.643</X><Y>4.261</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-12823945</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>-0.609</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>-2.435</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-1.826</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175612</Id>
					<Name><![CDATA[_ps264]]></Name>
					<X>-3.214</X><Y>3.652</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-12823945</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>0.609</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>-1.217</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-1.826</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175614</Id>
					<Name><![CDATA[_ps265]]></Name>
					<X>-0.643</X><Y>6.087</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>2.571</X><Y>1.217</Y><Z>0</Z></Point>
					   <Point><X>9</X><Y>-1.826</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
			</Presentation>

				</Group>
				<Group>
					<Id>1658929281593</Id>
					<Name><![CDATA[store]]></Name>
					<X>-52</X><Y>39</Y>
					<Label><X>5.626</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1658929281595</Id>
					<Name><![CDATA[_ps268]]></Name>
					<X>0</X><Y>6.685</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>2.25</X><Y>1.114</Y><Z>0</Z></Point>
					   <Point><X>9</X><Y>-2.228</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929281597</Id>
					<Name><![CDATA[_ps269]]></Name>
					<X>0</X><Y>2.228</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-6690304</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-6.685</Y><Z>0</Z></Point>
					   <Point><X>-6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929281599</Id>
					<Name><![CDATA[_ps270]]></Name>
					<X>-6.75</X><Y>3.342</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-8140800</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.457</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-1.114</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>3.342</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929281601</Id>
					<Name><![CDATA[_ps271]]></Name>
					<X>0</X><Y>6.685</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9986560</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-7.798</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.457</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929281603</Id>
					<Name><![CDATA[_ps272]]></Name>
					<X>-5.624</X><Y>3.899</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-12491776</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>5.626</X><Y>2.785</Y><Z>0</Z></Point>
					   <Point><X>11.25</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>11.25</X><Y>-2.785</Y><Z>0</Z></Point>
					   <Point><X>5.626</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.785</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Line>
					<Id>1658929281605</Id>
					<Name><![CDATA[_ps273]]></Name>
					<X>1.126</X><Y>6.127</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-9986560</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>-5</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1658929281607</Id>
					<Name><![CDATA[_ps274]]></Name>
					<X>-1.124</X><Y>6.127</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-8140800</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>-5</Dy>
					<Dz>0</Dz>
				</Line>
				<Polyline>
					<Id>1658929281609</Id>
					<Name><![CDATA[_ps275]]></Name>
					<X>0</X><Y>6.685</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-14667264</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-7.798</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-11.14</Y><Z>0</Z></Point>
					   <Point><X>-6.75</X><Y>-7.798</Y><Z>0</Z></Point>
					   <Point><X>-6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
			</Presentation>

				</Group>
				<Image>
					<Id>1658930878010</Id>
					<Name><![CDATA[windfarm]]></Name>
					<X>-64</X><Y>1</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Width>25</Width>
					<Height>25</Height>
					<Rotation>0.0</Rotation>
					<ImageFiles>
						<ImageResourceReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[windmill-svgrepo-com.png]]></ClassName>
						</ImageResourceReference>
					</ImageFiles>
					<OriginalSize>false</OriginalSize>
				</Image>
				<Image>
					<Id>1658934338846</Id>
					<Name><![CDATA[solarfarm]]></Name>
					<X>-32</X><Y>2</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Width>23</Width>
					<Height>23</Height>
					<Rotation>0.0</Rotation>
					<ImageFiles>
						<ImageResourceReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[solarfarm.png]]></ClassName>
						</ImageResourceReference>
					</ImageFiles>
					<OriginalSize>false</OriginalSize>
				</Image>
				<Group>
					<Id>1658935018794</Id>
					<Name><![CDATA[office]]></Name>
					<X>-50</X><Y>60</Y>
					<Label><X>3.202</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1658935018796</Id>
					<Name><![CDATA[shapeBox]]></Name>
					<X>0</X><Y>6.403</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-1525489</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.403</X><Y>-3.202</Y><Z>0</Z></Point>
					   <Point><X>6.403</X><Y>-9.605</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-12.806</Y><Z>0</Z></Point>
					   <Point><X>-6.403</X><Y>-9.605</Y><Z>0</Z></Point>
					   <Point><X>-6.403</X><Y>-3.202</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658935018798</Id>
					<Name><![CDATA[_ps2]]></Name>
					<X>0</X><Y>6.403</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>402653184</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-6.403</Y><Z>0</Z></Point>
					   <Point><X>6.403</X><Y>-9.605</Y><Z>0</Z></Point>
					   <Point><X>6.403</X><Y>-3.202</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658935018800</Id>
					<Name><![CDATA[_ps3]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1358954495</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.403</X><Y>-3.202</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-6.403</Y><Z>0</Z></Point>
					   <Point><X>-6.403</X><Y>-3.202</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658935018802</Id>
					<Name><![CDATA[_ps4]]></Name>
					<X>0</X><Y>6.403</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-11913984</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.403</X><Y>-3.202</Y><Z>0</Z></Point>
					   <Point><X>6.403</X><Y>-9.605</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-12.806</Y><Z>0</Z></Point>
					   <Point><X>-6.403</X><Y>-9.605</Y><Z>0</Z></Point>
					   <Point><X>-6.403</X><Y>-3.202</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Line>
					<Id>1658935018804</Id>
					<Name><![CDATA[_ps5]]></Name>
					<X>-3.202</X><Y>-4.803</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-6324726</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>5</Dx>
					<Dy>2</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1658935018806</Id>
					<Name><![CDATA[_ps6]]></Name>
					<X>6.403</X><Y>-3.202</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-6324726</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>-7</Dx>
					<Dy>2</Dy>
					<Dz>0</Dz>
				</Line>
			</Presentation>

				</Group>
				<Group>
					<Id>1660062204092</Id>
					<Name><![CDATA[districtheating]]></Name>
					<X>-25</X><Y>60</Y>
					<Label><X>6.963</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1660062204094</Id>
					<Name><![CDATA[_ps287]]></Name>
					<X>0</X><Y>10.286</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>4.177</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>6.963</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>9.748</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>9.748</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>12.532</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204096</Id>
					<Name><![CDATA[_ps288]]></Name>
					<X>-11.14</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-3065088</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>4.115</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204098</Id>
					<Name><![CDATA[_ps289]]></Name>
					<X>8.355</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-507904</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Curve ControlPoints="true">
					<Id>1660062204100</Id>
					<Name><![CDATA[_ps290]]></Name>
					<X>1.392</X><Y>-2.743</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4447488</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Curve ControlPoints="true">
					<Id>1660062204102</Id>
					<Name><![CDATA[_ps291]]></Name>
					<X>5.569</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4447488</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Polyline>
					<Id>1660062204104</Id>
					<Name><![CDATA[_ps292]]></Name>
					<X>-2.785</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-507904</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-8.354</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-4.177</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-1.392</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-10.971</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-4.114</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204106</Id>
					<Name><![CDATA[_ps293]]></Name>
					<X>-2.785</X><Y>8.915</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4447488</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-10.971</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.114</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204108</Id>
					<Name><![CDATA[_ps294]]></Name>
					<X>0</X><Y>7.544</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204110</Id>
					<Name><![CDATA[_ps295]]></Name>
					<X>2.785</X><Y>6.171</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204112</Id>
					<Name><![CDATA[_ps296]]></Name>
					<X>5.569</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Curve ControlPoints="true">
					<Id>1660062204114</Id>
					<Name><![CDATA[_ps297]]></Name>
					<X>8.355</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-12187648</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-10.285</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-10.285</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
			</Presentation>

				</Group>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660224852394</Id>
			<Name><![CDATA[ConnectionOwner]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660224852392</Id>
				<Name><![CDATA[1660224852392]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660291200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660224852390</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660224852393</CurrentLevel>
			<ConnectionsId>1660224852389</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1660744173993</Id>
					<Name><![CDATA[v_electricityContractType]]></Name>
					<X>270</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[ELECTRICITY_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744181560</Id>
					<Name><![CDATA[v_heatContractType]]></Name>
					<X>270</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[HEAT_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744190914</Id>
					<Name><![CDATA[v_methaneContractType]]></Name>
					<X>270</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[METHANE_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744732007</Id>
					<Name><![CDATA[v_electricityVolume_kWh]]></Name>
					<X>70</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744756249</Id>
					<Name><![CDATA[v_heatVolume_kWh]]></Name>
					<X>70</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744762793</Id>
					<Name><![CDATA[v_methaneVolume_kWh]]></Name>
					<X>70</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660745490749</Id>
					<Name><![CDATA[v_balanceElectricity_eur]]></Name>
					<X>270</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660745504140</Id>
					<Name><![CDATA[v_balanceHeat_eur]]></Name>
					<X>270</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660745513069</Id>
					<Name><![CDATA[v_balanceMethane_eur]]></Name>
					<X>270</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174627092</Id>
					<Name><![CDATA[v_hydrogenContractType]]></Name>
					<X>270</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[HYDROGEN_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174643058</Id>
					<Name><![CDATA[v_balanceHydrogen_eur]]></Name>
					<X>270</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661175214034</Id>
					<Name><![CDATA[v_hydrogenVolume_kWh]]></Name>
					<X>70</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661177954454</Id>
					<Name><![CDATA[v_energySupplierDistrictHeat]]></Name>
					<X>50</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[Agent]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661179464769</Id>
					<Name><![CDATA[v_ownedGridConnection]]></Name>
					<X>50</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[GridConnection]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661267039916</Id>
					<Name><![CDATA[j_ConnectionOwnerData]]></Name>
					<X>300</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_ConnectionOwnerData]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663237705961</Id>
					<Name><![CDATA[v_electricityPrice_eurpkWh]]></Name>
					<X>50</X><Y>410</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0.2]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663237725571</Id>
					<Name><![CDATA[v_electricitySurpluss_kW]]></Name>
					<X>50</X><Y>430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1660225105547</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Unique identifier of this actor in String format. Designated in Config-excel and used to link actors to netConnections.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>50</X><Y>20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660225105545</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660225105552</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>50</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660225105550</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660226911197</Id>
					<Name><![CDATA[p_parentActorID]]></Name>
					<Description><![CDATA[Unique actor identifier in String format of a designated parent actor. This may be designated in Config-excel and is used to create an agent link with a higher lying agent (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>50</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660226911195</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660230904844</Id>
					<Name><![CDATA[p_energySupplier]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>50</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Agent]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660230904842</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660230297342</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>50</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[GridConnection]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingChildNode);
v_ownedGridConnection = ConnectingChildNode;
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660230784171</Id>
					<Name><![CDATA[f_connectToParentActor]]></Name>
					<Description><![CDATA[Creates an agentLink in superConnection if a parentActorID is designated in the config-excel. Called from f_configureBackBone() in main for profiling reasons, so no parameters are given.

@param: none
@return: none
@since: Sprint 6
@author: HOUJ]]></Description>
					<X>50</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( p_parentActorID != null ) {
	Agent myParentActor = findFirst(main.pop_energySuppliers, p->p.p_actorID.equals(p_parentActorID)) ;
	if( myParentActor != null) {
		superConnection.connectTo(myParentActor);
		p_energySupplier = myParentActor;
		EnergySupplier energySupplier =  (EnergySupplier)myParentActor;
		energySupplier.f_connectToChild(this);
	}
	
	myParentActor = findFirst(main.pop_energyHolons, p->p.p_actorID.equals(p_parentActorID)) ;
	if( myParentActor != null) {
		superConnection.connectTo(myParentActor);
		p_energySupplier = myParentActor;
		EnergyHolon energySupplier = (EnergyHolon)myParentActor;
		energySupplier.f_connectToChild(this);
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660742520265</Id>
					<Name><![CDATA[f_updateFinances]]></Name>
					<X>50</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// get current energy flows
f_gatherEnergyFlows();

// trigger transaction with supplier/holon
if( p_energySupplier != null) { 
	//Agent energySupplier = p_energySupplier;
	if( p_energySupplier instanceof EnergySupplier) {
		EnergySupplier energySupplier = (EnergySupplier)p_energySupplier;
		double transactionCost_eur = energySupplier.f_doEnergyTransaction(v_electricityVolume_kWh, v_electricityContractType);
		v_balanceElectricity_eur -= transactionCost_eur;
		transactionCost_eur = energySupplier.f_doEnergyTransaction(v_methaneVolume_kWh, v_methaneContractType);
		v_balanceMethane_eur -= transactionCost_eur; 
		transactionCost_eur = energySupplier.f_doEnergyTransaction(v_hydrogenVolume_kWh, v_hydrogenContractType);
		v_balanceHydrogen_eur -= transactionCost_eur; 
	} else if ( p_energySupplier instanceof EnergyHolon ) {
		EnergyHolon energySupplier = (EnergyHolon)p_energySupplier;
		double transactionCost_eur = energySupplier.f_doEnergyTransaction(v_electricityVolume_kWh, v_electricityContractType);
		v_balanceElectricity_eur -= transactionCost_eur;
		transactionCost_eur = energySupplier.f_doEnergyTransaction(v_methaneVolume_kWh, v_methaneContractType);
		v_balanceMethane_eur -= transactionCost_eur; 
		transactionCost_eur = energySupplier.f_doEnergyTransaction(v_hydrogenVolume_kWh, v_hydrogenContractType);
		v_balanceHydrogen_eur -= transactionCost_eur; 
	}
} else {
	traceln("Connection owner " + this + " has no energy supplier!");
}

// trigger district heat accounting with specified heat supplier agent
if( v_energySupplierDistrictHeat instanceof EnergySupplier) {
	EnergySupplier energySupplier = (EnergySupplier)v_energySupplierDistrictHeat;
	double transactionCost_eur = energySupplier.f_doEnergyTransaction(v_heatVolume_kWh, v_heatContractType);
	v_balanceHeat_eur -= transactionCost_eur;
}
else if( v_energySupplierDistrictHeat instanceof EnergyHolon ) {
	EnergyHolon energySupplier = (EnergyHolon)v_energySupplierDistrictHeat;
	double transactionCost_eur = energySupplier.f_doEnergyTransaction(v_heatVolume_kWh, v_heatContractType);
	v_balanceHeat_eur -= transactionCost_eur;
}
		
			]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660743030872</Id>
					<Name><![CDATA[f_gatherEnergyFlows]]></Name>
					<X>70</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// reset eenrgy flows
v_electricityVolume_kWh = 0;
v_heatVolume_kWh = 0;
v_methaneVolume_kWh = 0;
v_hydrogenVolume_kWh = 0;

// gather electricity flows
for(GridConnection n :  subConnections.getConnections() ) {
	v_electricityVolume_kWh += n.v_currentPowerElectricity_kW * main.p_timeStep_h;
	v_heatVolume_kWh += n.v_currentPowerHeat_kW * main.p_timeStep_h;
	v_methaneVolume_kWh += n.v_currentPowerMethane_kW * main.p_timeStep_h;
	v_hydrogenVolume_kWh += n.v_currentPowerHydrogen_kW * main.p_timeStep_h;
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1663237679579</Id>
					<Name><![CDATA[f_updateIncentives]]></Name>
					<X>50</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Update electricity price (if necessary)
if (v_electricityContractType == OL_ContractType.ELECTRICITY_VARIABLE) {
	if (p_energySupplier instanceof EnergySupplier) {
		v_electricityPrice_eurpkWh =((EnergySupplier)p_energySupplier).f_getEnergyPrice(v_electricityContractType);
	} else if (p_energySupplier instanceof EnergyHolon) {
		v_electricityPrice_eurpkWh =((EnergyHolon)p_energySupplier).f_getEnergyPrice(v_electricityContractType);
	}
}

// Update energy balance
v_electricitySurpluss_kW = 0;
for(GridConnection c : subConnections.getConnections()){
	v_electricitySurpluss_kW += c.v_currentPowerElectricity_kW;
}]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1660224852389</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<OnReceive><![CDATA[v_ownedGridConnection.v_priceBandsHolon = msg;]]></OnReceive>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[TreeMap<Double, Double>]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660225105554</Id>
					<Name><![CDATA[superConnection]]></Name>
					<Description><![CDATA[Link naar bovenliggende actor, bijv. een holon, of energySupplier. Gebruikt om lid te worden van een holon of aangesloten te zijn bij een energieleverancier.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>240</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660225105556</Id>
					<Name><![CDATA[subConnections]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de holon)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>240</X><Y>-20</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentReferenceId>1658499438203</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660730128545</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660224852393</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660572036696</Id>
			<Name><![CDATA[UI_Actor]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660572036694</Id>
				<Name><![CDATA[1660572036694]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660636800000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660572036692</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660572036695</CurrentLevel>
			<ConnectionsId>1660572036691</ConnectionsId>
			<Variables>
				<Variable Class="Parameter">
					<Id>1660572411407</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Gebruikt om de juiste visualisatie voor de UI_Actor te activeren en de agent op de juiste plek in de structuurvisualisatie in KpiVisuals te krijgen. 

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>50</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_ActorType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660572411405</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660578753579</Id>
					<Name><![CDATA[p_parentID]]></Name>
					<Description><![CDATA[Gebruikt om de juiste agentLinks aan te kunnen maken in de structuurvisualisatie in KpiVisuals en voor debugging.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>50</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660578753577</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660580940488</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Gebruikt om de juiste agentLinks aan te kunnen maken in de structuurvisualisatie in KpiVisuals en voor debugging

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>50</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660580940486</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<AgentLinks>
				<AgentLink>
					<Id>1660572036691</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<DrawLine>true</DrawLine>
					<LineStyle>DOTTED</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>ABOVE_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660578923498</Id>
					<Name><![CDATA[realAgent]]></Name>
					<Description><![CDATA[Agentlink die de UI_Actor koppelt aan de Actor-agent die hij representeert.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>200</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660572082561</Id>
					<Name><![CDATA[kpiVisuals]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[KpiVisuals]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
				<ContainerLink>
					<Id>1660572082567</Id>
					<Name><![CDATA[main]]></Name>
					<X>150</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660572036695</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Group>
					<Id>1660575564404</Id>
					<Name><![CDATA[houseHoldVisuals]]></Name>
					<Description><![CDATA[Geaggregeerde visual van de household-UI_Actors population.
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-70</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<RoundedRectangle>
					<Id>1660575451743</Id>
					<Name><![CDATA[houseHoldvisual]]></Name>
					<X>-40</X><Y>-30</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>80</Width>
					<Height>60</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-329006</FillColor>
					<FillMaterial>null</FillMaterial>
					<ArcRadius>10</ArcRadius>
				</RoundedRectangle>
				<Text>
					<Id>1660575503230</Id>
					<Name><![CDATA[t_numberOfHouseholds]]></Name>
					<X>30</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[#]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>RIGHT</Alignment>
				</Text>
				<Text>
					<Id>1660575519272</Id>
					<Name><![CDATA[Huishoudens]]></Name>
					<X>-30</X><Y>-10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Huishoudens]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Group>
				<Group>
					<Id>1660576302326</Id>
					<Name><![CDATA[commercialVisuals]]></Name>
					<Description><![CDATA[Geaggregeerde visual van de commercial-UI_Actors population.
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-160</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<RoundedRectangle>
					<Id>1660576302328</Id>
					<Name><![CDATA[commercialsVisual]]></Name>
					<X>-40</X><Y>-30</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>80</Width>
					<Height>60</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-2302756</FillColor>
					<FillMaterial>null</FillMaterial>
					<ArcRadius>10</ArcRadius>
				</RoundedRectangle>
				<Text>
					<Id>1660576302330</Id>
					<Name><![CDATA[t_numberOfCommercials]]></Name>
					<X>30</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[#]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>RIGHT</Alignment>
				</Text>
				<Text>
					<Id>1660576302332</Id>
					<Name><![CDATA[Commercials]]></Name>
					<X>-30</X><Y>-10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Commercials]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Group>
				<Group>
					<Id>1660576734163</Id>
					<Name><![CDATA[energySupplierVisuals]]></Name>
					<Description><![CDATA[Geaggregeerde visual van de energySupplier-UI_Actors population.
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-250</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<RoundedRectangle>
					<Id>1660576734165</Id>
					<Name><![CDATA[eSupplierVisual]]></Name>
					<X>-40</X><Y>-30</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>80</Width>
					<Height>60</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-7876870</FillColor>
					<FillMaterial>null</FillMaterial>
					<ArcRadius>10</ArcRadius>
				</RoundedRectangle>
				<Text>
					<Id>1660576734167</Id>
					<Name><![CDATA[t_numberOfEnergySuppliers]]></Name>
					<X>30</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[#]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>RIGHT</Alignment>
				</Text>
				<Text>
					<Id>1660576734169</Id>
					<Name><![CDATA[EnergySuppliers]]></Name>
					<X>0</X><Y>-10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Energy
Supplier]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
			</Presentation>

				</Group>
				<Group>
					<Id>1660577591383</Id>
					<Name><![CDATA[networkOperatorVisuals]]></Name>
					<Description><![CDATA[Geaggregeerde visual van de networkoperator-UI_Actors population.]]></Description>
					<X>-340</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<RoundedRectangle>
					<Id>1660577591385</Id>
					<Name><![CDATA[networkOperatorVisual]]></Name>
					<X>-40</X><Y>-30</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>80</Width>
					<Height>60</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-332841</FillColor>
					<FillMaterial>null</FillMaterial>
					<ArcRadius>10</ArcRadius>
				</RoundedRectangle>
				<Text>
					<Id>1660577591387</Id>
					<Name><![CDATA[t_numberOfNetworkOperators]]></Name>
					<X>30</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[#]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>RIGHT</Alignment>
				</Text>
				<Text>
					<Id>1660577591389</Id>
					<Name><![CDATA[NetworkOperators]]></Name>
					<X>0</X><Y>-10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Network
Operator]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
			</Presentation>

				</Group>
				<Group>
					<Id>1660578202093</Id>
					<Name><![CDATA[household]]></Name>
					<Description><![CDATA[Individuele agentvisualisatie voor UI_Actor-agent van type household. 

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-90</X><Y>0</Y>
					<Label><X>-20</X><Y>20</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Curve ControlPoints="true">
					<Id>1660578202095</Id>
					<Name><![CDATA[shapeBody]]></Name>
					<X>-2</X><Y>-7</Y>
					<Label><X>-20</X><Y>28</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-16777216</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4</Y><Z>0</Z></Point>
					   <Point><X>3</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>-1</X><Y>3</Y><Z>0</Z></Point>
					   <Point><X>-2</X><Y>3</Y><Z>0</Z></Point>
					   <Point><X>-2</X><Y>10</Y><Z>0</Z></Point>
					   <Point><X>-2</X><Y>11</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>11</Y><Z>0</Z></Point>
					   <Point><X>-1</X><Y>9</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>17</Y><Z>0</Z></Point>
					   <Point><X>1</X><Y>17</Y><Z>0</Z></Point>
					   <Point><X>3</X><Y>17</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>17</Y><Z>0</Z></Point>
					   <Point><X>5</X><Y>9</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>11</Y><Z>0</Z></Point>
					   <Point><X>6</X><Y>11</Y><Z>0</Z></Point>
					   <Point><X>6</X><Y>10</Y><Z>0</Z></Point>
					   <Point><X>6</X><Y>3</Y><Z>0</Z></Point>
					   <Point><X>5</X><Y>3</Y><Z>0</Z></Point>
					   <Point><X>1</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>4</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>-3</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-3</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
			</Presentation>

				</Group>
				<Group>
					<Id>1660578495070</Id>
					<Name><![CDATA[holon]]></Name>
					<Description><![CDATA[Individuele agentvisualisatie voor UI_Actor-agent van type holon.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-220</X><Y>0</Y>
					<Label><X>2.458</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Curve ControlPoints="true">
					<Id>1660578495072</Id>
					<Name><![CDATA[_ps300]]></Name>
					<X>-9.831</X><Y>-7.75</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-11702146</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-5383962</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>2.703</X><Y>-2.5</Y><Z>0</Z></Point>
					   <Point><X>5.653</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>5.653</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>5.653</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>6.39</X><Y>-3</Y><Z>0</Z></Point>
					   <Point><X>11.059</X><Y>-3</Y><Z>0</Z></Point>
					   <Point><X>15.729</X><Y>-3</Y><Z>0</Z></Point>
					   <Point><X>16.712</X><Y>1.5</Y><Z>0</Z></Point>
					   <Point><X>16.712</X><Y>1.5</Y><Z>0</Z></Point>
					   <Point><X>16.712</X><Y>1.5</Y><Z>0</Z></Point>
					   <Point><X>20.153</X><Y>-0.5</Y><Z>0</Z></Point>
					   <Point><X>21.873</X><Y>3</Y><Z>0</Z></Point>
					   <Point><X>23.839</X><Y>6.5</Y><Z>0</Z></Point>
					   <Point><X>20.398</X><Y>8</Y><Z>0</Z></Point>
					   <Point><X>20.398</X><Y>8</Y><Z>0</Z></Point>
					   <Point><X>20.398</X><Y>8</Y><Z>0</Z></Point>
					   <Point><X>22.856</X><Y>10.5</Y><Z>0</Z></Point>
					   <Point><X>20.89</X><Y>13.25</Y><Z>0</Z></Point>
					   <Point><X>18.678</X><Y>16</Y><Z>0</Z></Point>
					   <Point><X>14.5</X><Y>14</Y><Z>0</Z></Point>
					   <Point><X>14.5</X><Y>14</Y><Z>0</Z></Point>
					   <Point><X>14.5</X><Y>14</Y><Z>0</Z></Point>
					   <Point><X>13.271</X><Y>17.5</Y><Z>0</Z></Point>
					   <Point><X>9.093</X><Y>17.5</Y><Z>0</Z></Point>
					   <Point><X>5.161</X><Y>17.5</Y><Z>0</Z></Point>
					   <Point><X>4.178</X><Y>13.75</Y><Z>0</Z></Point>
					   <Point><X>4.178</X><Y>13.75</Y><Z>0</Z></Point>
					   <Point><X>4.178</X><Y>13.75</Y><Z>0</Z></Point>
					   <Point><X>1.72</X><Y>15.25</Y><Z>0</Z></Point>
					   <Point><X>-0.737</X><Y>12.75</Y><Z>0</Z></Point>
					   <Point><X>-3.686</X><Y>8.75</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>5.75</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>5.75</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>5.75</Y><Z>0</Z></Point>
					   <Point><X>-2.703</X><Y>2.5</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Curve ControlPoints="true">
					<Id>1660578495074</Id>
					<Name><![CDATA[_ps301]]></Name>
					<X>-9.093</X><Y>-6.5</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>2.212</X><Y>-2.5</Y><Z>0</Z></Point>
					   <Point><X>5.161</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>5.161</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>5.161</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>5.898</X><Y>-3.5</Y><Z>0</Z></Point>
					   <Point><X>10.322</X><Y>-3.5</Y><Z>0</Z></Point>
					   <Point><X>14.254</X><Y>-3.25</Y><Z>0</Z></Point>
					   <Point><X>14.746</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>14.746</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>14.746</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>14.254</X><Y>-2.75</Y><Z>0</Z></Point>
					   <Point><X>10.322</X><Y>-3</Y><Z>0</Z></Point>
					   <Point><X>6.636</X><Y>-3.25</Y><Z>0</Z></Point>
					   <Point><X>5.161</X><Y>1.25</Y><Z>0</Z></Point>
					   <Point><X>5.161</X><Y>1.25</Y><Z>0</Z></Point>
					   <Point><X>5.161</X><Y>1.25</Y><Z>0</Z></Point>
					   <Point><X>2.458</X><Y>-1.25</Y><Z>0</Z></Point>
					   <Point><X>0.492</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>-1.229</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>0.737</X><Y>4.75</Y><Z>0</Z></Point>
					   <Point><X>0.737</X><Y>4.75</Y><Z>0</Z></Point>
					   <Point><X>0.737</X><Y>4.75</Y><Z>0</Z></Point>
					   <Point><X>-1.966</X><Y>7.25</Y><Z>0</Z></Point>
					   <Point><X>-0.983</X><Y>10.5</Y><Z>0</Z></Point>
					   <Point><X>-2.703</X><Y>7.5</Y><Z>0</Z></Point>
					   <Point><X>0.246</X><Y>4.5</Y><Z>0</Z></Point>
					   <Point><X>0.246</X><Y>4.5</Y><Z>0</Z></Point>
					   <Point><X>0.246</X><Y>4.5</Y><Z>0</Z></Point>
					   <Point><X>-2.212</X><Y>2.5</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
			</Presentation>

				</Group>
				<Group>
					<Id>1660578537153</Id>
					<Name><![CDATA[commercial]]></Name>
					<Description><![CDATA[Individuele agentvisualisatie voor UI_Actor-agent van type commercial. 

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-130</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1660578537155</Id>
					<Name><![CDATA[_ps268]]></Name>
					<X>0</X><Y>12</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>16</X><Y>-4</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-6</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660578537157</Id>
					<Name><![CDATA[_ps269]]></Name>
					<X>0</X><Y>4</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-6690304</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-6</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-12</Y><Z>0</Z></Point>
					   <Point><X>-12</X><Y>-6</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660578537159</Id>
					<Name><![CDATA[_ps270]]></Name>
					<X>-12</X><Y>6</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-8140800</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-2</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>6</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660578537161</Id>
					<Name><![CDATA[_ps271]]></Name>
					<X>0</X><Y>12</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9986560</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-6</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-14</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660578537163</Id>
					<Name><![CDATA[_ps272]]></Name>
					<X>-10</X><Y>7</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-12491776</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>10</X><Y>5</Y><Z>0</Z></Point>
					   <Point><X>20</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>20</X><Y>-5</Y><Z>0</Z></Point>
					   <Point><X>10</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-5</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Line>
					<Id>1660578537165</Id>
					<Name><![CDATA[_ps273]]></Name>
					<X>2</X><Y>11</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-9986560</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>-6</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1660578537167</Id>
					<Name><![CDATA[_ps274]]></Name>
					<X>-2</X><Y>11</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-8140800</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>-6</Dy>
					<Dz>0</Dz>
				</Line>
				<Polyline>
					<Id>1660578537169</Id>
					<Name><![CDATA[_ps275]]></Name>
					<X>0</X><Y>12</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-14667264</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-6</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-14</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-20</Y><Z>0</Z></Point>
					   <Point><X>-12</X><Y>-14</Y><Z>0</Z></Point>
					   <Point><X>-12</X><Y>-6</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
			</Presentation>

				</Group>
				<Group>
					<Id>1660579359996</Id>
					<Name><![CDATA[energySupplier]]></Name>
					<Description><![CDATA[Individuele agentvisualisatie voor UI_Actor-agent van type energySupplier.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-170</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1660579359998</Id>
					<Name><![CDATA[_ps287]]></Name>
					<X>0</X><Y>15</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6</X><Y>-1</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>-2</Y><Z>0</Z></Point>
					   <Point><X>10</X><Y>-3</Y><Z>0</Z></Point>
					   <Point><X>8</X><Y>-4</Y><Z>0</Z></Point>
					   <Point><X>14</X><Y>-5</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-6</Y><Z>0</Z></Point>
					   <Point><X>14</X><Y>-6</Y><Z>0</Z></Point>
					   <Point><X>16</X><Y>-5</Y><Z>0</Z></Point>
					   <Point><X>18</X><Y>-6</Y><Z>0</Z></Point>
					   <Point><X>16</X><Y>-7</Y><Z>0</Z></Point>
					   <Point><X>16</X><Y>-8</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-10</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-2</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660579360000</Id>
					<Name><![CDATA[_ps288]]></Name>
					<X>-16</X><Y>7</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-3065088</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-6</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>6</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660579360002</Id>
					<Name><![CDATA[_ps289]]></Name>
					<X>12</X><Y>-1</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-507904</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-2</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>2</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Curve ControlPoints="true">
					<Id>1660579360004</Id>
					<Name><![CDATA[_ps290]]></Name>
					<X>2</X><Y>-4</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4447488</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-10</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-11</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-12</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-12</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-11</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-11</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Curve ControlPoints="true">
					<Id>1660579360006</Id>
					<Name><![CDATA[_ps291]]></Name>
					<X>8</X><Y>-1</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4447488</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-10</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-11</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-12</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-12</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-11</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-11</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Polyline>
					<Id>1660579360008</Id>
					<Name><![CDATA[_ps292]]></Name>
					<X>-4</X><Y>7</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-507904</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-12</X><Y>-6</Y><Z>0</Z></Point>
					   <Point><X>-8</X><Y>-12</Y><Z>0</Z></Point>
					   <Point><X>-6</X><Y>-11</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-14</Y><Z>0</Z></Point>
					   <Point><X>-2</X><Y>-13</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-16</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-10</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-6</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660579360010</Id>
					<Name><![CDATA[_ps293]]></Name>
					<X>-4</X><Y>13</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4447488</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>16</X><Y>-8</Y><Z>0</Z></Point>
					   <Point><X>16</X><Y>-14</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-12</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-16</Y><Z>0</Z></Point>
					   <Point><X>8</X><Y>-10</Y><Z>0</Z></Point>
					   <Point><X>8</X><Y>-14</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>-8</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>-12</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-6</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660579360012</Id>
					<Name><![CDATA[_ps294]]></Name>
					<X>0</X><Y>11</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>2</X><Y>-1</Y><Z>0</Z></Point>
					   <Point><X>2</X><Y>-4</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-3</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660579360014</Id>
					<Name><![CDATA[_ps295]]></Name>
					<X>4</X><Y>9</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>2</X><Y>-1</Y><Z>0</Z></Point>
					   <Point><X>2</X><Y>-4</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-3</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660579360016</Id>
					<Name><![CDATA[_ps296]]></Name>
					<X>8</X><Y>7</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>2</X><Y>-1</Y><Z>0</Z></Point>
					   <Point><X>2</X><Y>-4</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-3</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Curve ControlPoints="true">
					<Id>1660579360018</Id>
					<Name><![CDATA[_ps297]]></Name>
					<X>12</X><Y>-1</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-12187648</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>6</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>6</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>6</Y><Z>0</Z></Point>
					   <Point><X>-16</X><Y>14</Y><Z>0</Z></Point>
					   <Point><X>-16</X><Y>14</Y><Z>0</Z></Point>
					   <Point><X>-16</X><Y>14</Y><Z>0</Z></Point>
					   <Point><X>-28</X><Y>8</Y><Z>0</Z></Point>
					   <Point><X>-28</X><Y>8</Y><Z>0</Z></Point>
					   <Point><X>-28</X><Y>8</Y><Z>0</Z></Point>
					   <Point><X>-28</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>-28</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>-28</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>-24</X><Y>-4</Y><Z>0</Z></Point>
					   <Point><X>-24</X><Y>-4</Y><Z>0</Z></Point>
					   <Point><X>-24</X><Y>-4</Y><Z>0</Z></Point>
					   <Point><X>-22</X><Y>-3</Y><Z>0</Z></Point>
					   <Point><X>-22</X><Y>-3</Y><Z>0</Z></Point>
					   <Point><X>-22</X><Y>-3</Y><Z>0</Z></Point>
					   <Point><X>-20</X><Y>-6</Y><Z>0</Z></Point>
					   <Point><X>-20</X><Y>-6</Y><Z>0</Z></Point>
					   <Point><X>-20</X><Y>-6</Y><Z>0</Z></Point>
					   <Point><X>-18</X><Y>-5</Y><Z>0</Z></Point>
					   <Point><X>-18</X><Y>-5</Y><Z>0</Z></Point>
					   <Point><X>-18</X><Y>-5</Y><Z>0</Z></Point>
					   <Point><X>-16</X><Y>-8</Y><Z>0</Z></Point>
					   <Point><X>-16</X><Y>-8</Y><Z>0</Z></Point>
					   <Point><X>-16</X><Y>-8</Y><Z>0</Z></Point>
					   <Point><X>-14</X><Y>-7</Y><Z>0</Z></Point>
					   <Point><X>-14</X><Y>-7</Y><Z>0</Z></Point>
					   <Point><X>-14</X><Y>-7</Y><Z>0</Z></Point>
					   <Point><X>-14</X><Y>-13</Y><Z>0</Z></Point>
					   <Point><X>-14</X><Y>-14</Y><Z>0</Z></Point>
					   <Point><X>-14</X><Y>-15</Y><Z>0</Z></Point>
					   <Point><X>-10</X><Y>-15</Y><Z>0</Z></Point>
					   <Point><X>-10</X><Y>-14</Y><Z>0</Z></Point>
					   <Point><X>-10</X><Y>-13</Y><Z>0</Z></Point>
					   <Point><X>-10</X><Y>-5</Y><Z>0</Z></Point>
					   <Point><X>-10</X><Y>-5</Y><Z>0</Z></Point>
					   <Point><X>-10</X><Y>-5</Y><Z>0</Z></Point>
					   <Point><X>-8</X><Y>-4</Y><Z>0</Z></Point>
					   <Point><X>-8</X><Y>-4</Y><Z>0</Z></Point>
					   <Point><X>-8</X><Y>-4</Y><Z>0</Z></Point>
					   <Point><X>-8</X><Y>-10</Y><Z>0</Z></Point>
					   <Point><X>-8</X><Y>-11</Y><Z>0</Z></Point>
					   <Point><X>-8</X><Y>-12</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-12</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-11</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-10</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-2</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-2</Y><Z>0</Z></Point>
					   <Point><X>-4</X><Y>-2</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
			</Presentation>

				</Group>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731364525</Id>
			<Name><![CDATA[AdministrativeHolon]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731364523</Id>
				<Name><![CDATA[1660731364523]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731364521</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731364524</CurrentLevel>
			<ConnectionsId>1660731364520</ConnectionsId>
			<AgentLinks>
				<AgentLink>
					<Id>1660731364520</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660732002822</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731364524</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731375016</Id>
			<Name><![CDATA[EnergyHolon]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731375014</Id>
				<Name><![CDATA[1660731375014]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731375012</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731375015</CurrentLevel>
			<ConnectionsId>1660731375011</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1660826420173</Id>
					<Name><![CDATA[v_energyPassedThrough_kWh]]></Name>
					<X>40</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660829948793</Id>
					<Name><![CDATA[v_electricityVolume_kWh]]></Name>
					<X>60</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660829948795</Id>
					<Name><![CDATA[v_heatVolume_kWh]]></Name>
					<X>60</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660829948797</Id>
					<Name><![CDATA[v_methaneVolume_kWh]]></Name>
					<X>60</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664463039569</Id>
					<Name><![CDATA[v_priceBandsHolon]]></Name>
					<X>320</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736326709</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Unique identifier of this actor in String format. Designated in Config-excel and used to link actors to netConnections.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>40</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736326707</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736326712</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>40</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736326710</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736326715</Id>
					<Name><![CDATA[p_parentActorID]]></Name>
					<Description><![CDATA[Unique actor identifier in String format of a designated parent actor. This may be designated in Config-excel and is used to create an agent link with a higher lying agent (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>40</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736326713</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736326718</Id>
					<Name><![CDATA[p_energySupplier]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>40</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Agent]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736326716</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736326703</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>40</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingChildNode);
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660806150226</Id>
					<Name><![CDATA[f_updateFinances]]></Name>
					<X>40</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// get current energy flows
f_gatherEnergyFlows();

// trigger transaction with supplier/holon
/*
double transactionCost_eur = p_energySupplier.f_doEnergyTransaction(transactionVolume_kWh, v_electricityContractType);
v_balanceElectricity_eur -= transactionCost;
double transactionCost_eur = p_energySupplier.f_doEnergyTransaction(transactionVolume_kWh, v_heatContractType);
v_balanceHeat_eur -= transactionCost;
double transactionCost_eur = p_energySupplier.f_doEnergyTransaction(transactionVolume_kWh, v_methaneContractType);
v_balanceMethane_eur -= transactionCost; */]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660825183645</Id>
					<Name><![CDATA[f_doEnergyTransaction]]></Name>
					<X>40</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[transactionVolume_kWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[contractType]]></Name>
						<Type><![CDATA[OL_ContractType]]></Type>
					</Parameter>
					<Body><![CDATA[double transactionCostClient_eur = 0;

if( p_energySupplier instanceof EnergySupplier ) {
	EnergySupplier energySupplier = (EnergySupplier)p_energySupplier;
	transactionCostClient_eur = energySupplier.f_doEnergyTransaction(transactionVolume_kWh, contractType);
} else if( p_energySupplier instanceof EnergyHolon ) {
	EnergyHolon energySupplier = (EnergyHolon)p_energySupplier;
	transactionCostClient_eur = energySupplier.f_doEnergyTransaction(transactionVolume_kWh, contractType);
}

v_energyPassedThrough_kWh += transactionVolume_kWh;

return transactionCostClient_eur;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660825257472</Id>
					<Name><![CDATA[f_connectToParentActor]]></Name>
					<Description><![CDATA[Creates an agentLink in superConnection if a parentActorID is designated in the config-excel. Called from f_configureBackBone() in main for profiling reasons, so no parameters are given.

@param: none
@return: none
@since: Sprint 6
@author: HOUJ]]></Description>
					<X>40</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( p_parentActorID != null ) {
	Agent myParentActor = findFirst(main.pop_energySuppliers, p->p.p_actorID.equals(p_parentActorID)) ;
	if( myParentActor != null) {
		superConnection.connectTo(myParentActor);
		p_energySupplier = myParentActor;
		EnergySupplier energySupplier =  (EnergySupplier)myParentActor;
		energySupplier.f_connectToChild(this);
	}
	
	myParentActor = findFirst(main.pop_energyHolons, p->p.p_actorID.equals(p_parentActorID)) ;
	if( myParentActor != null) {
		superConnection.connectTo(myParentActor);
		p_energySupplier = myParentActor;
		EnergyHolon energySupplier = (EnergyHolon)myParentActor;
		energySupplier.f_connectToChild(this);
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660829948789</Id>
					<Name><![CDATA[f_gatherEnergyFlows]]></Name>
					<X>60</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// reset eenrgy flows
v_electricityVolume_kWh = 0;
v_heatVolume_kWh = 0;
v_methaneVolume_kWh = 0;

// gather electricity flows
for(Agent a :  subConnections.getConnections() ) {
	if(a instanceof ConnectionOwner){
		ConnectionOwner n = (ConnectionOwner)a;
		v_electricityVolume_kWh += n.v_electricityVolume_kWh;
		v_heatVolume_kWh += n.v_heatVolume_kWh;
		v_methaneVolume_kWh += n.v_methaneVolume_kWh;
	} else if (a instanceof EnergyHolon) {
//		traceln("Collecting current energy transfer from child HOLONs not yet implemented");
	}
	
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1663237981986</Id>
					<Name><![CDATA[f_getEnergyPrice]]></Name>
					<X>40</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[contractType]]></Name>
						<Type><![CDATA[OL_ContractType]]></Type>
					</Parameter>
					<Body><![CDATA[double energyPrice_eurpkWh = ((EnergySupplier)p_energySupplier).f_getEnergyPrice(contractType);

return energyPrice_eurpkWh;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664461388050</Id>
					<Name><![CDATA[f_setPriceBandsExperiment]]></Name>
					<X>320</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[TreeMap<Double, Double> priceBandsHolon = new TreeMap<Double, Double>();

priceBandsHolon.putIfAbsent(0.0, 0.0);
priceBandsHolon.putIfAbsent(-5.0, -0.7);
priceBandsHolon.putIfAbsent(5.0, 0.7);
priceBandsHolon.putIfAbsent(9999.0,9999.0);
priceBandsHolon.putIfAbsent(-9999.0,-9999.0);
TreeMap<Double,Double> sortedMap = new TreeMap<Double, Double>(priceBandsHolon);

v_priceBandsHolon = sortedMap;
//traceln( "priceBands = "+ v_priceBandsHolon.toString() );
double key = 1;
double anotherKey = 18;
//traceln("pricebands enum with key = "+ key +"::: "+v_priceBandsHolon.ceilingEntry(key).getValue());
//traceln("pricebands enum with key = "+ anotherKey +"::: "+v_priceBandsHolon.ceilingEntry(anotherKey).getValue());

subConnections.deliverToAllConnected(v_priceBandsHolon);]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1660731375011</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736357874</Id>
					<Name><![CDATA[superConnection]]></Name>
					<Description><![CDATA[Link naar bovenliggende actor, bijv. een holon, of energySupplier. Gebruikt om lid te worden van een holon of aangesloten te zijn bij een energieleverancier.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>310</X><Y>-80</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736357876</Id>
					<Name><![CDATA[subConnections]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de holon)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>310</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660731826095</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731375015</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731377984</Id>
			<Name><![CDATA[EnergySupplier]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731377982</Id>
				<Name><![CDATA[1660731377982]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731377980</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731377983</CurrentLevel>
			<ConnectionsId>1660731377979</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1660746837357</Id>
					<Name><![CDATA[v_currentVariableElectricityPrice_eurpkWh]]></Name>
					<X>30</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660752591616</Id>
					<Name><![CDATA[v_currentBalanceClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for all energy carriers traded with clients.

@author: Gillis
@since: Sprint 6]]></Description>
					<X>320</X><Y>500</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660804951335</Id>
					<Name><![CDATA[v_totalElectricitySoldToClients_kWh]]></Name>
					<X>320</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660804979322</Id>
					<Name><![CDATA[v_totalElectricityBoughtFromClients_kWh]]></Name>
					<X>320</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660805212026</Id>
					<Name><![CDATA[v_currentBalanceNat_eur]]></Name>
					<X>640</X><Y>500</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660805212029</Id>
					<Name><![CDATA[v_totalElectricitySoldToNat_kWh]]></Name>
					<X>640</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660805212031</Id>
					<Name><![CDATA[v_totalElectricityBoughtFromNat_kWh]]></Name>
					<X>640</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660810211679</Id>
					<Name><![CDATA[v_currentNettElectricityVolume_kWh]]></Name>
					<X>320</X><Y>560</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661173036699</Id>
					<Name><![CDATA[v_currentBalanceElectricityClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for electricity traded with clients.

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>320</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661173058952</Id>
					<Name><![CDATA[v_currentBalanceHeatClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for heat traded with clients.

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>320</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661173096820</Id>
					<Name><![CDATA[v_currentBalanceMethaneClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for methane
@author: Jorrit
@since: Sprint 6]]></Description>
					<X>320</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174191671</Id>
					<Name><![CDATA[v_currentBalanceHydrogenClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for hydrogen traded with clients.

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>320</X><Y>460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736336144</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Unique identifier of this actor in String format. Designated in Config-excel and used to link actors to netConnections.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>30</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736336142</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736336147</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>30</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736336145</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736336150</Id>
					<Name><![CDATA[p_parentActorID]]></Name>
					<Description><![CDATA[Unique actor identifier in String format of a designated parent actor. This may be designated in Config-excel and is used to create an agent link with a higher lying agent (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>30</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736336148</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736336153</Id>
					<Name><![CDATA[p_parentActor]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>30</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[ConnectionOwner]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736336151</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746260066</Id>
					<Name><![CDATA[p_fixedElectricityPrice_eurpkWh]]></Name>
					<X>30</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746260064</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746283321</Id>
					<Name><![CDATA[p_fixedHeatPrice_eurpkWh]]></Name>
					<X>30</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746283319</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746306858</Id>
					<Name><![CDATA[p_fixedMethanePrice_eurpkWh]]></Name>
					<X>30</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746306856</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746679056</Id>
					<Name><![CDATA[p_fixedHydrogenPrice_eurpkWh]]></Name>
					<X>30</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746679054</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746710965</Id>
					<Name><![CDATA[p_variableElectricityPriceOverNational_eurpkWh]]></Name>
					<X>30</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746710963</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736336138</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>30</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingChildNode);
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736336141</Id>
					<Name><![CDATA[f_connectToParentActor]]></Name>
					<Description><![CDATA[Creates an agentLink in superConnection if a parentActorID is designated in the config-excel. Called from f_configureBackBone() in main for profiling reasons, so no parameters are given.

@param: none
@return: none
@since: Sprint 6
@author: HOUJ]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>30</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( p_parentActorID != null ) {
	ConnectionOwner myParentActor = findFirst(main.pop_connectionOwners, p->p.p_actorID.equals(p_parentActorID)) ;
	if( myParentActor instanceof ConnectionOwner) {
		p_parentActor = myParentActor;
		superConnection.connectTo(myParentActor);
		myParentActor.f_connectToChild(this);
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660743197178</Id>
					<Name><![CDATA[f_doEnergyTransaction]]></Name>
					<X>30</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[transactionVolume_kWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[contractType]]></Name>
						<Type><![CDATA[OL_ContractType]]></Type>
					</Parameter>
					<Body><![CDATA[double transactionCostClient_eur;
double transactionCostNat_eur;
switch (contractType) {
	case ELECTRICITY_FIXED:
			transactionCostClient_eur = transactionVolume_kWh * p_fixedElectricityPrice_eurpkWh;
			transactionCostNat_eur = - transactionVolume_kWh * v_currentVariableElectricityPrice_eurpkWh;
			v_totalElectricitySoldToClients_kWh += max(0,transactionVolume_kWh);
			v_totalElectricityBoughtFromClients_kWh -= min(0,transactionVolume_kWh);
			v_currentNettElectricityVolume_kWh += transactionVolume_kWh;
			v_currentBalanceElectricityClients_eur += transactionCostClient_eur;
		break;
	case ELECTRICITY_VARIABLE:
			transactionCostClient_eur = transactionVolume_kWh * (p_variableElectricityPriceOverNational_eurpkWh + v_currentVariableElectricityPrice_eurpkWh);
			transactionCostNat_eur = - transactionVolume_kWh * v_currentVariableElectricityPrice_eurpkWh;
			v_currentBalanceElectricityClients_eur += transactionCostClient_eur;
		break;
	case HEAT_FIXED:
			transactionCostClient_eur = transactionVolume_kWh * p_fixedHeatPrice_eurpkWh;		
			transactionCostNat_eur = - transactionVolume_kWh * 0;
			v_currentBalanceHeatClients_eur += transactionCostClient_eur;
		break;
	case METHANE_FIXED:
			transactionCostClient_eur = transactionVolume_kWh * p_fixedMethanePrice_eurpkWh;
			transactionCostNat_eur = - transactionVolume_kWh * 0;
			v_currentBalanceMethaneClients_eur += transactionCostClient_eur;
		break;
	case HYDROGEN_FIXED:
			transactionCostClient_eur = transactionVolume_kWh * p_fixedHydrogenPrice_eurpkWh;
			transactionCostNat_eur = - transactionVolume_kWh * 0;
			v_currentBalanceHydrogenClients_eur += transactionCostClient_eur;
		break;
	default: 
		throw new IllegalStateException("Invalid contract type: " + contractType);
}
v_currentBalanceClients_eur += transactionCostClient_eur;
return transactionCostClient_eur;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660746864022</Id>
					<Name><![CDATA[f_getEnergyPrice]]></Name>
					<X>30</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[contractType]]></Name>
						<Type><![CDATA[OL_ContractType]]></Type>
					</Parameter>
					<Body><![CDATA[double energyPrice_eurpkWh;
switch (contractType) {
	case ELECTRICITY_FIXED:
			energyPrice_eurpkWh = p_fixedElectricityPrice_eurpkWh;
		break;
	case ELECTRICITY_VARIABLE:
			energyPrice_eurpkWh = (p_variableElectricityPriceOverNational_eurpkWh + v_currentVariableElectricityPrice_eurpkWh);
		break;
	case HEAT_FIXED:
			energyPrice_eurpkWh = p_fixedHeatPrice_eurpkWh;		
		break;
	case METHANE_FIXED:
			energyPrice_eurpkWh = p_fixedMethanePrice_eurpkWh;
		break;
	case HYDROGEN_FIXED:
			energyPrice_eurpkWh = p_fixedHydrogenPrice_eurpkWh;
		break;
	default: 
		throw new IllegalStateException("Invalid contract type: " + contractType);
}

return energyPrice_eurpkWh;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660746926252</Id>
					<Name><![CDATA[f_updateEnergyPrice]]></Name>
					<X>30</X><Y>430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_currentVariableElectricityPrice_eurpkWh = main.nationalEnergyMarket.f_getNationalElectricityPrice_eurpMWh()/1000;
v_currentNettElectricityVolume_kWh = 0;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660806140354</Id>
					<Name><![CDATA[f_updateFinances]]></Name>
					<X>30</X><Y>460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_totalElectricityBoughtFromNat_kWh += max(0,v_currentNettElectricityVolume_kWh);
v_totalElectricitySoldToNat_kWh -= min(0,v_currentNettElectricityVolume_kWh);
v_currentBalanceNat_eur -= v_currentNettElectricityVolume_kWh * v_currentVariableElectricityPrice_eurpkWh;]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1660731377979</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736386946</Id>
					<Name><![CDATA[superConnection]]></Name>
					<Description><![CDATA[Link naar bovenliggende actor, bijv. een holon, of energySupplier. Gebruikt om lid te worden van een holon of aangesloten te zijn bij een energieleverancier.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>240</X><Y>-70</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736386948</Id>
					<Name><![CDATA[subConnections]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de holon)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>240</X><Y>-40</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660731790387</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731377983</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731380915</Id>
			<Name><![CDATA[GridOperator]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<StartupCode><![CDATA[f_initializePriceBands();]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731380913</Id>
				<Name><![CDATA[1660731380913]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731380911</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731380914</CurrentLevel>
			<ConnectionsId>1660731380910</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1664465199510</Id>
					<Name><![CDATA[v_priceBandsGridOperator]]></Name>
					<X>30</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665060264936</Id>
					<Name><![CDATA[v_consumptionTariffBands]]></Name>
					<X>30</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665060280465</Id>
					<Name><![CDATA[v_noTariffBands]]></Name>
					<X>30</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665060534142</Id>
					<Name><![CDATA[v_congestionAllowanceLevel_kW]]></Name>
					<X>30</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[3]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665060582840</Id>
					<Name><![CDATA[v_congestionPrice]]></Name>
					<Description><![CDATA[Euro per kW]]></Description>
					<X>30</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0.5]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665073404849</Id>
					<Name><![CDATA[v_productionTariffBands]]></Name>
					<X>30</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736411315</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Unique identifier of this actor in String format. Designated in Config-excel and used to link actors to netConnections.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>30</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736411313</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736411318</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>30</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736411316</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736411321</Id>
					<Name><![CDATA[p_parentActorID]]></Name>
					<Description><![CDATA[Unique actor identifier in String format of a designated parent actor. This may be designated in Config-excel and is used to create an agent link with a higher lying agent (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>30</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736411319</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736411324</Id>
					<Name><![CDATA[p_parentActor]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>30</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[ConnectionOwner]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736411322</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1665076694603</Id>
					<Name><![CDATA[c_electricityGridNodes]]></Name>
					<X>260</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736411309</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>30</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[GridNode]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[energyType]]></Name>
						<Type><![CDATA[OL_EnergyCarrierType]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo( ConnectingChildNode );
if (energyType == OL_EnergyCarrierType.ELECTRICITY) {
	c_electricityGridNodes.add( ConnectingChildNode );
}
else {
	traceln( "f_connectToChild vanuit GridOperator voegt een type Node to wat geen ELECTRICITY gridNOde is");
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736411312</Id>
					<Name><![CDATA[f_connectToParentActor]]></Name>
					<Description><![CDATA[Creates an agentLink in superConnection if a parentActorID is designated in the config-excel. Called from f_configureBackBone() in main for profiling reasons, so no parameters are given.

@param: none
@return: none
@since: Sprint 6
@author: HOUJ]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>30</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( p_parentActorID != null ) {
	ConnectionOwner myParentActor = findFirst(main.pop_connectionOwners, p->p.p_actorID.equals(p_parentActorID)) ;
	if( myParentActor instanceof ConnectionOwner) {
		p_parentActor = myParentActor;
		superConnection.connectTo(myParentActor);
		myParentActor.f_connectToChild(this);
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664465199508</Id>
					<Name><![CDATA[f_setTariff]]></Name>
					<X>250</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for( GridNode n : c_electricityGridNodes ){
	if ( n.v_currentLoadElectricity_kW > 0.7 * n.p_capacity_kW ){
		n.v_congestionMode = true;
		n.v_tariffBands = v_consumptionTariffBands;
		traceln(n.p_agentID + " is overheating due to consumption");
	}
	else if ( n.v_currentLoadElectricity_kW < - 0.7 * n.p_capacity_kW ){
		n.v_congestionMode = true;
		n.v_tariffBands = v_productionTariffBands;
			traceln(n.p_agentID + " is overheating due to production");
	}
	else {
		n.v_tariffBands = v_noTariffBands;
		n.v_congestionMode = false;
		traceln(n.p_agentID + " is operating within capacity limits");
	}
}

subConnections.deliverToAllConnected(v_priceBandsGridOperator);
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665060958276</Id>
					<Name><![CDATA[f_initializePriceBands]]></Name>
					<X>250</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_consumptionTariffBands = new TreeMap<Double, Double>();
v_noTariffBands = new TreeMap<Double, Double>();
v_productionTariffBands = new TreeMap<Double, Double>();

v_consumptionTariffBands.put(-9999.0, 0.0);
v_consumptionTariffBands.put(0.0, 0.0);
v_consumptionTariffBands.put( v_congestionAllowanceLevel_kW, v_congestionPrice);
v_consumptionTariffBands.put(9999.0, 9999.0);

v_noTariffBands.put(-9999.0, 0.0); 
v_noTariffBands.put(0.0, 0.0);
v_noTariffBands.put(9999.0, 0.0);

v_productionTariffBands.put(-9999.0, v_congestionPrice);
v_productionTariffBands.put(0.0, 0.0);
v_productionTariffBands.put(9999.0, 0.0);]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665075603988</Id>
					<Name><![CDATA[f_changeConsumptionTariff]]></Name>
					<X>250</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[allowanceLoad_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[price]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[v_consumptionTariffBands = new TreeMap<Double, Double>();

v_consumptionTariffBands.put(-9999.0, 0.0);
v_consumptionTariffBands.put(0.0, 0.0);
v_consumptionTariffBands.put( allowanceLoad_kW, price);
v_consumptionTariffBands.put(9999.0, 9999.0);

v_congestionAllowanceLevel_kW = allowanceLoad_kW;
v_congestionPrice = price;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665075625178</Id>
					<Name><![CDATA[f_changeProductionTariff]]></Name>
					<X>250</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[allowanceLoad_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[price]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[v_productionTariffBands = new TreeMap<Double, Double>();

v_productionTariffBands.put(-9999.0, price);
v_productionTariffBands.put(0.0, 0.0);
v_productionTariffBands.put(9999.0, 9999.0);

v_congestionAllowanceLevel_kW = allowanceLoad_kW;
v_congestionPrice = price;]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1660731380910</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736398362</Id>
					<Name><![CDATA[superConnection]]></Name>
					<Description><![CDATA[Link naar bovenliggende actor, bijv. een holon, of energySupplier. Gebruikt om lid te worden van een holon of aangesloten te zijn bij een energieleverancier.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>280</X><Y>-80</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736398364</Id>
					<Name><![CDATA[subConnections]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de holon)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>280</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660731855349</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731380914</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731384415</Id>
			<Name><![CDATA[NationalEnergyMarket]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731384413</Id>
				<Name><![CDATA[1660731384413]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731384411</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731384414</CurrentLevel>
			<ConnectionsId>1660731384410</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1660752725660</Id>
					<Name><![CDATA[v_currentVariableElectricityPrice_eurpMWh]]></Name>
					<X>50</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660738813066</Id>
					<Name><![CDATA[f_getNationalElectricityPrice_eurpMWh]]></Name>
					<X>50</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[return v_currentVariableElectricityPrice_eurpMWh;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660752725657</Id>
					<Name><![CDATA[f_updateEnergyPrice]]></Name>
					<X>50</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if( main.v_timeStepsElapsed % (1 / main.p_timeStep_h) == 0){
	v_currentVariableElectricityPrice_eurpMWh = tf_dayAheadElectricityPricing_eurpMWh( time(HOUR) );
}]]></Body>
				</Function>
			</Functions>
			<TableFunctions>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1660752214584</Id>
					<Name><![CDATA[tf_dayAheadElectricityPricing_eurpMWh]]></Name>
					<X>50</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[day_ahead_price_eur_mwh]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
			</TableFunctions>
			<AgentLinks>
				<AgentLink>
					<Id>1660731384410</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660731880833</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731384414</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1663772408667</Id>
			<Name><![CDATA[GCHouse]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_connectToChild(Agent ConnectingParentNode){
	f_connectToChildHouse(ConnectingParentNode);
}

@Override
public void f_operateFixedConsumptionAssets(){
	f_runFixedConsumptionAssets();
}
@Override 
public void f_operateFlexAssets(){
	f_runFlexAssets();
}]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_capacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_agentID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_buildingTempAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_HeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1663772408665</Id>
				<Name><![CDATA[1663772408665]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1663772408663</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1663772408666</CurrentLevel>
			<ConnectionsId>1663772408662</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1663833761124</Id>
					<Name><![CDATA[v_tripDist_km]]></Name>
					<X>1050</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663833761128</Id>
					<Name><![CDATA[v_chargingTarget_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1270</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663833761130</Id>
					<Name><![CDATA[v_minChargingTime_min]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1270</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663833761132</Id>
					<Name><![CDATA[v_tripIndex]]></Name>
					<X>1050</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664007705515</Id>
					<Name><![CDATA[v_chargingAttitude]]></Name>
					<X>1050</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ChargingAttitude]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[OL_ChargingAttitude.CHEAP]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664122071472</Id>
					<Name><![CDATA[v_minimumDesiredSOC]]></Name>
					<X>1050</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0.1]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664176258798</Id>
					<Name><![CDATA[v_currentChargingPower]]></Name>
					<X>1050</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1663837187038</Id>
					<Name><![CDATA[p_EV]]></Name>
					<X>1050</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[EnergyAsset]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1663837187036</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1664103816802</Id>
					<Name><![CDATA[p_chargingPriceTreshold]]></Name>
					<X>1050</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1664103816800</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1664116961212</Id>
					<Name><![CDATA[p_baseChargingSpeed]]></Name>
					<X>1050</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1664116961210</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1665487269767</Id>
					<Name><![CDATA[p_isolationLabel]]></Name>
					<X>50</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionIsolationLabel]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1665487269765</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663833761110</Id>
					<Name><![CDATA[starttimes]]></Name>
					<X>1270</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Double]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663833761115</Id>
					<Name><![CDATA[distances]]></Name>
					<X>1270</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Double]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663833761118</Id>
					<Name><![CDATA[endtimes]]></Name>
					<X>1270</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Double]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Events>
				<Event>
					<Id>1663833761135</Id>
					<Name><![CDATA[nextActivityStartTimer]]></Name>
					<X>1270</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="userControls">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1d / 0d]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_MINUTE]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1643270400000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[0]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[((J_EAEV)p_EV.p_energyAssetInstance).startTrip();]]></Action>
				</Event>
				<Event>
					<Id>1663833761158</Id>
					<Name><![CDATA[nextActivityEndTimer]]></Name>
					<X>1270</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="userControls">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1d / 0d]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_MINUTE]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1643270400000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[0]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[((J_EAEV)p_EV.p_energyAssetInstance).endTrip(v_tripDist_km);

starttimes.set(v_tripIndex, starttimes.get(v_tripIndex) + 10080);
endtimes.set(v_tripIndex, endtimes.get(v_tripIndex) + 10080);

v_tripIndex++;

if (v_tripIndex > starttimes.size() - 1) {
	v_tripIndex = 0;
}

nextActivityStartTimer.restart( starttimes.get(v_tripIndex) - time( MINUTE ), MINUTE);
nextActivityEndTimer.restart( endtimes.get(v_tripIndex) - time( MINUTE ), MINUTE);		
v_tripDist_km = distances.get(v_tripIndex);

//f_bepaalFlexibiliteit();]]></Action>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1663833761120</Id>
					<Name><![CDATA[f_bepaalFlexibiliteit]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1270</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[J_EAEV p_EVinstance = (J_EAEV)p_EV.p_energyAssetInstance;
double maxLaadsnelheid_kW = p_EVinstance.getElectricCapacity_kW();
double maxBatterijCap_kWh = p_EVinstance.getStorageCapacity_kWh();
double energyMargin_pct = 15.0;
double energyMargin_kWh = energyMargin_pct / 100.0 * maxBatterijCap_kWh;
double energyRequired_kWh = v_tripDist_km * p_EVinstance.getEnergyConsumption_kWhpmk();

v_chargingTarget_kWh = min( maxBatterijCap_kWh, energyRequired_kWh + energyMargin_kWh);
v_minChargingTime_min = max( 0 , ( v_chargingTarget_kWh - p_EVinstance.getCurrentStateOfCharge()*maxBatterijCap_kWh ) / maxLaadsnelheid_kW * 60 );
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1663833761122</Id>
					<Name><![CDATA[f_loadCarRides]]></Name>
					<X>1050</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[int rowIndex =  getIndex() % 581;

int nbTrips = roundToInt(main.tripsExcel.getCellNumericValue("sheet1", rowIndex + 2, 2));

for (int i = 0; i < nbTrips; i++){
	starttimes.add(main.tripsExcel.getCellNumericValue("sheet1", rowIndex + 2, 3 + i * 3));
	endtimes.add(main.tripsExcel.getCellNumericValue("sheet1", rowIndex + 2, 4 + i * 3));
	distances.add(main.tripsExcel.getCellNumericValue("sheet1", rowIndex + 2, 5 + i * 3));
}

v_tripDist_km = distances.get(0);
nextActivityStartTimer.restart( starttimes.get(0) - time( MINUTE ), MINUTE);
nextActivityEndTimer.restart( endtimes.get(0) - starttimes.get(0) - time( MINUTE ), MINUTE);	


]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1663840289034</Id>
					<Name><![CDATA[f_connectToChildHouse]]></Name>
					<X>790</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingParentNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingParentNode);
EnergyAsset EA = (EnergyAsset) ConnectingParentNode;
c_connectedEnergyAssets.add(EA);

if (EA.p_energyAssetInstance instanceof J_EAConsumption) {
	c_connectedConsumptionAssets.add(EA);
} else if (EA.p_energyAssetInstance instanceof J_EAProduction ) {
	c_connectedProductionAssets.add(EA);
} else if (EA.p_energyAssetInstance instanceof J_EAStorage ) {
	c_connectedStorageAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAStorageHeat) {
		p_buildingTempAsset = EA;
	} else if (EA.p_energyAssetInstance instanceof J_EAEV) {
		p_EV = EA;
		f_loadCarRides();
		p_EV.v_powerFraction_fr = 1;
	}
} else if (EA.p_energyAssetInstance instanceof J_EAConversion) {
	c_connectedConversionAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAConversionGasBurner || EA.p_energyAssetInstance instanceof J_EAConversionHeatPump || EA.p_energyAssetInstance instanceof J_EAConversionHeatDeliverySet ) {
		p_HeatingAsset = EA;
		//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
	} 
} else {
	traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingParentNode.getId() + " is of unknown type or null! ");
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664103942436</Id>
					<Name><![CDATA[f_chargeSimple]]></Name>
					<X>1480</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ev]]></Name>
						<Type><![CDATA[J_EAEV]]></Type>
					</Parameter>
					<Body><![CDATA[if ( ev.getCurrentStateOfCharge() < 1 ) {
	p_EV.f_updateElectricityFlows( p_baseChargingSpeed );
	v_currentChargingPower = p_baseChargingSpeed;
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664103963415</Id>
					<Name><![CDATA[f_chargeCheap]]></Name>
					<X>1480</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ev]]></Name>
						<Type><![CDATA[J_EAEV]]></Type>
					</Parameter>
					<Body><![CDATA[double SOC = ev.getCurrentStateOfCharge();
double requiredEnergyNextTrip_kWh = v_tripDist_km * ev.getEnergyConsumption_kWhpmk() + 10;
double currentEnergy_kWh = SOC * ev.getStorageCapacity_kWh();
double hoursToNextDeparture = nextActivityStartTimer.getRest(HOUR);
boolean extremelyLowSOC = SOC < v_minimumDesiredSOC;
boolean insufficientSOCForNextTrip = requiredEnergyNextTrip_kWh > currentEnergy_kWh;

if ( SOC < 1 ) {
	if ( hoursToNextDeparture < 4 && (extremelyLowSOC || insufficientSOCForNextTrip)) {
		v_currentChargingPower = p_baseChargingSpeed;
		p_EV.f_updateElectricityFlows( p_baseChargingSpeed );
	}
	else {
		//double[] priceAndPowerAvailable = v_electricityPriceProfile.getMarginalPrice( v_currentPowerElectricity_kW );
		//while (v_currentChargingPower < p_baseChargingSpeed || priceAndPowerAvailable[0] < p_chargingPriceTreshold )
			//v_currentChargingPower += min( priceAndPowerAvailable[1], p_baseChargingSpeed - v_currentChargingPower );
			//v_currentPowerElectricity_kW += min( priceAndPowerAvailable[1], p_baseChargingSpeed - v_currentChargingPower );
			//priceAndPowerAvailable = v_electricityPriceProfile.getMarginalPrice( v_currentPowerElectricity_kW );
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664103973484</Id>
					<Name><![CDATA[f_chargeSelfconsumption]]></Name>
					<X>1480</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ev]]></Name>
						<Type><![CDATA[J_EAEV]]></Type>
					</Parameter>
					<Body><![CDATA[double SOC = ev.getCurrentStateOfCharge();
double requiredEnergyNextTrip_kWh = v_tripDist_km * ev.getEnergyConsumption_kWhpmk() + 10;
double currentEnergy_kWh = SOC * ev.getStorageCapacity_kWh();
double hoursToNextDeparture = nextActivityStartTimer.getRest(HOUR);
boolean extremelyLowSOC = SOC < v_minimumDesiredSOC;
boolean insufficientSOCForNextTrip = requiredEnergyNextTrip_kWh > currentEnergy_kWh;

if ( SOC < 1 ) {
	if ( hoursToNextDeparture < 4 && (extremelyLowSOC || insufficientSOCForNextTrip)) {
		p_EV.f_updateElectricityFlows( p_baseChargingSpeed );
		v_currentChargingPower = p_baseChargingSpeed;
	}
	//else if ( false ){
		//ev.charge( min( chargingAllowanceFromGC_kW, p_baseChargingSpeed ));
		//return min( chargingAllowanceFromGC_kW, p_baseChargingSpeed );
	//}
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664103994669</Id>
					<Name><![CDATA[f_chargeBidirectional]]></Name>
					<X>1480</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ev]]></Name>
						<Type><![CDATA[J_EAEV]]></Type>
					</Parameter>
					<Body><![CDATA[double SOC = ev.getCurrentStateOfCharge();
double requiredEnergyNextTrip_kWh = v_tripDist_km * ev.getEnergyConsumption_kWhpmk() + 10;
double currentEnergy_kWh = SOC * ev.getStorageCapacity_kWh();
double hoursToNextDeparture = nextActivityStartTimer.getRest(HOUR);
boolean extremelyLowSOC = SOC < v_minimumDesiredSOC;
boolean insufficientSOCForNextTrip = requiredEnergyNextTrip_kWh > currentEnergy_kWh;

if ( SOC < 1 ) {
	if ( hoursToNextDeparture < 4 && (extremelyLowSOC || insufficientSOCForNextTrip)) {
		p_EV.f_updateElectricityFlows( p_baseChargingSpeed );
		v_currentChargingPower = p_baseChargingSpeed;
	}
	else if ( false ){
		p_EV.f_updateElectricityFlows( p_baseChargingSpeed );
		v_currentChargingPower = p_baseChargingSpeed;
	}
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664441911050</Id>
					<Name><![CDATA[f_createElectricityPriceProfile]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>790</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// electricity surplussen zitten volledig verwerkt in het prijssignaal.

// Set buy levels
double[] buyLevels = new double[] {5, p_capacity_kW};
double[] buyPrices = new double[] {0.15, 0.6};

// Set sell levels
double[] sellLevels = new double[] {- p_capacity_kW};
double[] sellPrices = new double[] {0.15};

v_electricityPriceProfile = new ElectricityPriceProfile(sellPrices, buyPrices, sellLevels, buyLevels);


//v_priceBandsCombined.clear();
double supplierPrice = 0;
double currentGridPrice = 0;
double holonPrice = 0;
double combinedPrice = 0;
//double currentPower = v_currentPowerElectricity_kW;
double currentPower = roundToDecimal( random() * 17, 2 );

if(p_ownerActor instanceof ConnectionOwner) {
	ConnectionOwner owner = (ConnectionOwner)p_ownerActor;
	supplierPrice = owner.v_electricityPrice_eurpkWh;
}

if(v_priceBandsGridNode != null) {
	currentGridPrice = v_priceBandsGridNode.floorEntry(currentPower).getValue();
	double nextLevelKey = v_priceBandsGridNode.higherKey(currentPower);
	double powerLeftInLevel = nextLevelKey - currentPower;
	double nextLevelPrice = v_priceBandsGridNode.floorEntry(nextLevelKey).getValue();
//	traceln("** ConnectionOwnerId: " + p_ownerID + " ** current powerlevel: " + currentPower + " kW, current grid price: " + currentGridPrice + " eur, power left within level: " + powerLeftInLevel + " kW, next powerlevel key: " + nextLevelKey + " kW, next level price: " + nextLevelPrice + " eur.");

	if(v_priceBandsHolon != null) {
			holonPrice = v_priceBandsHolon.floorEntry(currentPower).getValue();
	}
}

// combinatie van prikkels in Ã©Ã©n prijs, hier via simpele optelling:
combinedPrice = supplierPrice + currentGridPrice + holonPrice;
//traceln("** ConnectionOwnerId: " + p_ownerID + " ** supplier price: " + supplierPrice + ", gridNode cost:" + currentGridPrice + ", holon price: " +  holonPrice + ", all price signals summed: " + combinedPrice + " eur!");

]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664441944336</Id>
					<Name><![CDATA[f_runFixedConsumptionAssets]]></Name>
					<X>790</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(EnergyAsset ea : c_connectedConsumptionAssets) {
	if( ea.p_energyAssetType == OL_EnergyAssetType.OTHER_ELECTRICITY_CONSUMPTION ) {
		ea.f_updateElectricityFlows( main.v_currentHouseHoldOtherElectricityDemand_fr );
	} else if( ea.p_energyAssetType == OL_EnergyAssetType.HOT_WATER_CONSUMPTION ){
		ea.f_updateAllFlows( main.v_currentHouseHoldHotWaterDemand_fr );
	} else {
		traceln("household has other consumption assets than 'other electricity consumption'");
		ea.v_powerFraction_fr = 0; // To disable other asset
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664441996771</Id>
					<Name><![CDATA[f_manageHeatingAssets]]></Name>
					<X>820</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( p_buildingTempAsset != null ) {
	double tempSetpoint_degC = 20;
	double houseTemp = p_buildingTempAsset.p_energyAssetInstance.getCurrentTemperature();
	p_buildingTempAsset.p_energyAssetInstance.updateAmbientTemperature(main.v_currentAmbientTemperature_degC);	

//	traceln("f_manageHeatingAssets houseTemp = " + houseTemp);
	if (houseTemp < tempSetpoint_degC) {
		double powerDemand_kW = (tempSetpoint_degC - houseTemp) * ((J_EAStorageHeat)p_buildingTempAsset.p_energyAssetInstance).getHeatCapacity_JpK() / 3.6e6;
//		traceln("f_manageHeating Assets houseTemp = " + houseTemp + ", powerDemand_kW = "+powerDemand_kW);
		p_HeatingAsset.v_powerFraction_fr = powerDemand_kW / p_HeatingAsset.p_energyAssetInstance.getHeatCapacity_kW();
		p_buildingTempAsset.v_powerFraction_fr = powerDemand_kW / p_buildingTempAsset.p_energyAssetInstance.getHeatCapacity_kW();
	} 
	else {
		p_HeatingAsset.v_powerFraction_fr = 0;
		p_buildingTempAsset.v_powerFraction_fr = 0;
	}
}

p_HeatingAsset.f_updateAllFlows(p_HeatingAsset.v_powerFraction_fr);
p_buildingTempAsset.f_updateAllFlows(p_buildingTempAsset.v_powerFraction_fr);


// Conversion operation hard-coded test-value
for(EnergyAsset s : c_connectedConversionAssets) {
	if(s.p_energyAssetType == OL_EnergyAssetType.HEAT_PUMP_AIR) {
		//s.p_EnergyAssetTypeString.updateParameters();
		s.v_powerFraction_fr = 0;  // conversion value
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664442056289</Id>
					<Name><![CDATA[f_manageCharging]]></Name>
					<X>820</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[J_EAEV ev = null;

if ( p_EV != null ) {
	ev = (J_EAEV)p_EV.p_energyAssetInstance;
	v_currentChargingPower = 0;
	
	if ( ev.getAvailability() && ev.getCurrentStateOfCharge() < 1){
		switch (v_chargingAttitude){
			case SIMPLE:
		 		f_chargeSimple(ev);
			break;
		
			case CHEAP:
				f_chargeCheap(ev);
			break;
		
			case SELFCONSUMPTION:
				f_chargeSelfconsumption(ev);
			break;
		
			case BIDIRECTIONAL:
				f_chargeBidirectional(ev);
			break;
		}
	}
	else {
		p_EV.f_updateElectricityFlows( 0 ); 
		v_currentChargingPower = 0;
	}
	data_chargingPower.add( v_currentChargingPower );
	data_evAvailability.add( ev.getAvailability() ? 10 : 0 );
	plot_charging.updateData();
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664963959146</Id>
					<Name><![CDATA[f_runFlexAssets]]></Name>
					<X>790</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Determine EV charging
f_manageCharging();

// Determine house heating
f_manageHeatingAssets();
]]></Body>
				</Function>
			</Functions>
			<AnalysisData>
    			<DataSet>
					<Id>1664176017178</Id>
					<Name><![CDATA[data_chargingPower]]></Name>
					<X>1800</X><Y>520</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1664179200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>true</FreezeXAxis>
					<SamplesToKeep>1400</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1664176032319</Id>
					<Name><![CDATA[data_evAvailability]]></Name>
					<X>1800</X><Y>550</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1664179200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>true</FreezeXAxis>
					<SamplesToKeep>1400</SamplesToKeep>
				</DataSet>
			</AnalysisData>
			<AgentLinks>
				<AgentLink>
					<Id>1663772408662</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1663772679600</Id>
					<Name><![CDATA[main]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1663772408666</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
    			<TimePlot>
					<Id>1664175673397</Id>
					<Name><![CDATA[plot_charging]]></Name>
					<X>1160</X><Y>410</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1664179200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>610</Width>
					<Height>260</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>530</Width>
						<Height>170</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>30</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>HOUR</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[11]]></VerScaleToExpression>
					<VerScaleType>FIXED</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[EV availability]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[data_evAvailability]]></Expression>
					<Color>-1644806</Color>
					<Expression2><![CDATA[0]]></Expression2>
					<Expression2Flag>false</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Charging power]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[data_chargingPower]]></Expression>
					<Color>-256</Color>
					<Expression2><![CDATA[0]]></Expression2>
					<Expression2Flag>false</Expression2Flag>
						<PointStyle>SQUARE</PointStyle>
						<LineWidth>2.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>672</SamplesToKeep>
					<TimeWindowExpression><![CDATA[168]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>MODEL_TIME_UNITS</LabelFormat>
    			</TimePlot>
				<Rectangle>
					<Id>1664448098849</Id>
					<Name><![CDATA[rectangle]]></Name>
					<X>770</X><Y>50</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-1296</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>220</Width>
					<Height>200</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1296</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1664448121997</Id>
					<Name><![CDATA[rectangle1]]></Name>
					<X>790</X><Y>170</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-460545</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>200</Width>
					<Height>80</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-460545</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1663773690598</Id>
			<Name><![CDATA[GCBuilding]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_operateFixedConsumptionAssets(){
	f_runFixedConsumptionAssets();
}

@Override
public void f_operateFlexAssets(){
	f_runFlexAssets();
}]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_capacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_agentID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_buildingTempAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_HeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1663773690596</Id>
				<Name><![CDATA[1663773690596]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1663773690594</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1663773690597</CurrentLevel>
			<ConnectionsId>1663773690593</ConnectionsId>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1663773964560</Id>
					<Name><![CDATA[f_runFlexAssets]]></Name>
					<X>680</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664962227830</Id>
					<Name><![CDATA[f_runFixedConsumptionAssets]]></Name>
					<X>680</X><Y>350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(EnergyAsset e : c_connectedConsumptionAssets) {
	if( e.p_energyAssetType == OL_EnergyAssetType.OTHER_ELECTRICITY_CONSUMPTION ) {
		e.f_updateElectricityFlows( main.v_currentBuildingOtherElectricityDemand_fr );
	}
	else {
		traceln("household has other consumption assets than 'other electricity consumption'");
		e.v_powerFraction_fr = 0;
	}
}]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1663773690593</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1663773721466</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1663773690597</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1663773810345</Id>
			<Name><![CDATA[GCDistrictHeating]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_operateFlexAssets(){
	f_operateAssetsDistrictHeating();
}]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_capacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_agentID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_buildingTempAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_HeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1663773810343</Id>
				<Name><![CDATA[1663773810343]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1663773810341</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1663773810344</CurrentLevel>
			<ConnectionsId>1663773810340</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1664534447977</Id>
					<Name><![CDATA[b_incentiveNationalPrice]]></Name>
					<X>660</X><Y>350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664534582189</Id>
					<Name><![CDATA[b_incentiveGridNodePrice]]></Name>
					<X>660</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664534594839</Id>
					<Name><![CDATA[b_incentiveHolonPrice]]></Name>
					<X>660</X><Y>390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1663773953770</Id>
					<Name><![CDATA[f_operateAssetsDistrictHeating]]></Name>
					<X>660</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// District heating system, heating power based on temperature of buffer of heating system. (big or small) Heat transfer from DH_GridConnection to heat NetNode is based on temperature difference between heating-buffer and water in heating network
double tempSetpoint_degC = p_buildingTempAsset.p_energyAssetInstance.getSetTemperature_degC();	
double storageTemp_degC = p_buildingTempAsset.p_energyAssetInstance.getCurrentTemperature();
traceln("District heating storage temperature " + storageTemp_degC + " degC" + ", district heating network temperature " + p_parentNodeHeat.p_transportBuffer.getCurrentTemperature() + " deg C" );
double heatTransferToNetworkCoefficient_kWpK = 10;
double heatTransferToNetwork_kW = max(min(storageTemp_degC,tempSetpoint_degC)-p_parentNodeHeat.p_transportBuffer.getCurrentTemperature(), 0) * heatTransferToNetworkCoefficient_kWpK;
traceln("GCDistrictHeating f_operateAssetsDistrictHeating debug: heatTransferToNetwork_kW = "+heatTransferToNetwork_kW );

if (storageTemp_degC < tempSetpoint_degC) {
	double maxHeatingPower_kW = p_HeatingAsset.p_energyAssetInstance.getHeatCapacity_kW();
	
	p_HeatingAsset.v_powerFraction_fr = maxHeatingPower_kW/p_HeatingAsset.p_energyAssetInstance.getHeatCapacity_kW(); // Should be 1!
	p_buildingTempAsset.v_powerFraction_fr = (maxHeatingPower_kW - heatTransferToNetwork_kW) / p_buildingTempAsset.p_energyAssetInstance.getHeatCapacity_kW();
} 
else {
	p_HeatingAsset.v_powerFraction_fr = 0;
	p_buildingTempAsset.v_powerFraction_fr = - heatTransferToNetwork_kW / p_buildingTempAsset.p_energyAssetInstance.getHeatCapacity_kW();
}

p_HeatingAsset.f_updateAllFlows(p_HeatingAsset.v_powerFraction_fr);
p_buildingTempAsset.f_updateAllFlows(p_buildingTempAsset.v_powerFraction_fr);]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1663773810340</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1663774444750</Id>
					<Name><![CDATA[main]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1663773810344</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1663773842879</Id>
			<Name><![CDATA[GCWindfarm]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_capacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_agentID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_buildingTempAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_HeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1663773842877</Id>
				<Name><![CDATA[1663773842877]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1663773842875</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1663773842878</CurrentLevel>
			<ConnectionsId>1663773842874</ConnectionsId>
			<AgentLinks>
				<AgentLink>
					<Id>1663773842874</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1663774465365</Id>
					<Name><![CDATA[main]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1663773842878</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1663773857868</Id>
			<Name><![CDATA[GCSolarfarm]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_capacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_agentID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_buildingTempAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_HeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1663773857866</Id>
				<Name><![CDATA[1663773857866]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1663773857864</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1663773857867</CurrentLevel>
			<ConnectionsId>1663773857863</ConnectionsId>
			<AgentLinks>
				<AgentLink>
					<Id>1663773857863</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1663774487514</Id>
					<Name><![CDATA[main]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1663773857867</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1665137072820</Id>
			<Name><![CDATA[ESHeat]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[EnergySupplier]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_actorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentActorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedElectricityPrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedHeatPrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedMethanePrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedHydrogenPrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_variableElectricityPriceOverNational_eurpkWh]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1665137072818</Id>
				<Name><![CDATA[1665137072818]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1665216000000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1665137072816</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1665137072819</CurrentLevel>
			<ConnectionsId>1665137072815</ConnectionsId>
			<AgentLinks>
				<AgentLink>
					<Id>1665137072815</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>


			<Presentation>
				<Level>
					<Id>1665137072819</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1665137101093</Id>
			<Name><![CDATA[ESElectricity]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[EnergySupplier]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_actorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentActorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedElectricityPrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedHeatPrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedMethanePrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedHydrogenPrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_variableElectricityPriceOverNational_eurpkWh]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1665137101091</Id>
				<Name><![CDATA[1665137101091]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1665216000000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1665137101089</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1665137101092</CurrentLevel>
			<ConnectionsId>1665137101088</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1665138318727</Id>
					<Name><![CDATA[v_priceBands]]></Name>
					<X>770</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1665138682881</Id>
					<Name><![CDATA[p_energyTax_eurpkWh]]></Name>
					<X>520</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0.16]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1665138682879</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1665137113430</Id>
					<Name><![CDATA[c_clientsFixedContract]]></Name>
					<X>770</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridConnection]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1665137113434</Id>
					<Name><![CDATA[c_clientsVariableContract]]></Name>
					<X>770</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridConnection]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665138510738</Id>
					<Name><![CDATA[f_setCurrentPrices]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>770</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double consumptionTariff = 0;
double productionTariff = 0;

v_productionTariffBands = new TreeMap<Double, Double>();

v_productionTariffBands.put(-9999.0, productionTariff);
v_productionTariffBands.put(0.0, 0.0);
v_productionTariffBands.put(9999.0, consumptionTariff);]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1665137101088</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>


			<Presentation>
				<Level>
					<Id>1665137101092</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1665480522864</Id>
			<Name><![CDATA[GCIndustry]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_connectToChild(Agent ConnectingParentNode){
	//f_connectToChildHouse(ConnectingParentNode);
}

@Override
public void f_operateFixedConsumptionAssets(){
	//f_runFixedConsumptionAssets();
}
@Override 
public void f_operateFlexAssets(){
	//f_runFlexAssets();
}]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_capacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_agentID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_buildingTempAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_HeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1665480522862</Id>
				<Name><![CDATA[1665480522862]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1665561600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1665480522860</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1665480522863</CurrentLevel>
			<ConnectionsId>1665480522859</ConnectionsId>
			<AgentLinks>
				<AgentLink>
					<Id>1665480522859</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1665480565440</Id>
					<Name><![CDATA[main]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1665480522863</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
	</ActiveObjectClasses>	
	<DifferentialEquationsMethod>EULER</DifferentialEquationsMethod>
	<MixedEquationsMethod>RK45_NEWTON</MixedEquationsMethod>
	<AlgebraicEquationsMethod>MODIFIED_NEWTON</AlgebraicEquationsMethod>
	<AbsoluteAccuracy>1.0</AbsoluteAccuracy>
	<FixedTimeStep>1.0</FixedTimeStep>
	<RelativeAccuracy>1.0</RelativeAccuracy>
	<TimeAccuracy>0.1</TimeAccuracy>
	<Frame>
		<Width>1000</Width>
		<Height>600</Height>
	</Frame>
	<Database>
		<Logging>false</Logging>
		<AutoExport>false</AutoExport>
		<ShutdownCompact>false</ShutdownCompact>
		<ImportSettings>
			<ExternalConnection>
				<Id>1658495176902</Id>
				<Name><![CDATA[database]]></Name>
				<X>0</X><Y>0</Y>
				<Label><X>10</X><Y>0</Y></Label>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>true</ShowLabel>
				<DatabaseType>EXCEL_ACCESS</DatabaseType>
				<ConnectionURL><![CDATA[]]></ConnectionURL>
				<ConnectOnStartup>true</ConnectOnStartup>
				<DatabaseName><![CDATA[]]></DatabaseName>
				<ResourceReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[db_backboneConfig.xlsx]]></ClassName>
				</ResourceReference>
				<Host><![CDATA[localhost]]></Host>
				<JdbcDriverClassName><![CDATA[net.sourceforge.jtds.jdbc.Driver]]></JdbcDriverClassName>
				<Login><![CDATA[]]></Login>
				<Password><![CDATA[]]></Password>
			</ExternalConnection>
			<ExternalConnection>
				<Id>1659535432855</Id>
				<Name><![CDATA[database]]></Name>
				<X>0</X><Y>0</Y>
				<Label><X>10</X><Y>0</Y></Label>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>true</ShowLabel>
				<DatabaseType>EXCEL_ACCESS</DatabaseType>
				<ConnectionURL><![CDATA[]]></ConnectionURL>
				<ConnectOnStartup>true</ConnectOnStartup>
				<DatabaseName><![CDATA[]]></DatabaseName>
				<ResourceReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[db_defaultEnergyAssets.xlsx]]></ClassName>
				</ResourceReference>
				<Host><![CDATA[localhost]]></Host>
				<JdbcDriverClassName><![CDATA[net.sourceforge.jtds.jdbc.Driver]]></JdbcDriverClassName>
				<Login><![CDATA[]]></Login>
				<Password><![CDATA[]]></Password>
			</ExternalConnection>
			<ExternalConnection>
				<Id>1659337777421</Id>
				<Name><![CDATA[database]]></Name>
				<X>0</X><Y>0</Y>
				<Label><X>10</X><Y>0</Y></Label>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>true</ShowLabel>
				<DatabaseType>EXCEL_ACCESS</DatabaseType>
				<ConnectionURL><![CDATA[]]></ConnectionURL>
				<ConnectOnStartup>true</ConnectOnStartup>
				<DatabaseName><![CDATA[]]></DatabaseName>
				<ResourceReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[db_profiles.xlsx]]></ClassName>
				</ResourceReference>
				<Host><![CDATA[localhost]]></Host>
				<JdbcDriverClassName><![CDATA[net.sourceforge.jtds.jdbc.Driver]]></JdbcDriverClassName>
				<Login><![CDATA[]]></Login>
				<Password><![CDATA[]]></Password>
			</ExternalConnection>
			<ExternalConnection>
				<Id>1658496976208</Id>
				<Name><![CDATA[database]]></Name>
				<X>0</X><Y>0</Y>
				<Label><X>10</X><Y>0</Y></Label>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>true</ShowLabel>
				<DatabaseType>EXCEL_ACCESS</DatabaseType>
				<ConnectionURL><![CDATA[]]></ConnectionURL>
				<ConnectOnStartup>true</ConnectOnStartup>
				<DatabaseName><![CDATA[]]></DatabaseName>
				<ResourceReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[db_backboneParams.xlsx]]></ClassName>
				</ResourceReference>
				<Host><![CDATA[localhost]]></Host>
				<JdbcDriverClassName><![CDATA[net.sourceforge.jtds.jdbc.Driver]]></JdbcDriverClassName>
				<Login><![CDATA[]]></Login>
				<Password><![CDATA[]]></Password>
			</ExternalConnection>
			<TableImportSettings>
				<TableReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[config]]></ClassName>
				</TableReference>
				<ConnectionIndex>0</ConnectionIndex>
				<ExternalTableName><![CDATA["config"]]></ExternalTableName>
				<AutoImport>true</AutoImport>
			</TableImportSettings>
			<TableImportSettings>
				<TableReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[storage_assets]]></ClassName>
				</TableReference>
				<ConnectionIndex>1</ConnectionIndex>
				<ExternalTableName><![CDATA["storageAssets"]]></ExternalTableName>
				<AutoImport>true</AutoImport>
			</TableImportSettings>
			<TableImportSettings>
				<TableReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[consumption_assets]]></ClassName>
				</TableReference>
				<ConnectionIndex>1</ConnectionIndex>
				<ExternalTableName><![CDATA["consumptionAssets"]]></ExternalTableName>
				<AutoImport>true</AutoImport>
			</TableImportSettings>
			<TableImportSettings>
				<TableReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[production_assets]]></ClassName>
				</TableReference>
				<ConnectionIndex>1</ConnectionIndex>
				<ExternalTableName><![CDATA["productionAssets"]]></ExternalTableName>
				<AutoImport>true</AutoImport>
			</TableImportSettings>
			<TableImportSettings>
				<TableReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[conversion_assets]]></ClassName>
				</TableReference>
				<ConnectionIndex>1</ConnectionIndex>
				<ExternalTableName><![CDATA["conversionAssets"]]></ExternalTableName>
				<AutoImport>true</AutoImport>
			</TableImportSettings>
			<TableImportSettings>
				<TableReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[profiles]]></ClassName>
				</TableReference>
				<ConnectionIndex>2</ConnectionIndex>
				<ExternalTableName><![CDATA["profiles"]]></ExternalTableName>
				<AutoImport>true</AutoImport>
			</TableImportSettings>
			<TableImportSettings>
				<TableReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[params]]></ClassName>
				</TableReference>
				<ConnectionIndex>3</ConnectionIndex>
				<ExternalTableName><![CDATA["params"]]></ExternalTableName>
				<AutoImport>true</AutoImport>
			</TableImportSettings>
		</ImportSettings>
		<ExportSettings>
		</ExportSettings>
	</Database>
	
	<RunConfiguration ActiveObjectClassId="1658477103140">
		<Id>1658477103163</Id>
		<Name><![CDATA[RunConfiguration]]></Name>
		<MaximumMemory>4096</MaximumMemory>
		<ModelTimeProperties>
			<StopOption><![CDATA[Stop at specified date]]></StopOption>
			<InitialDate><![CDATA[1640995200000]]></InitialDate>	
			<InitialTime><![CDATA[0.0]]></InitialTime>	
			<FinalDate><![CDATA[1672531200000]]></FinalDate>	
			<FinalTime><![CDATA[8760.0]]></FinalTime>	
		</ModelTimeProperties>
		<AnimationProperties>
			<StopNever>true</StopNever>
			<ExecutionMode>realTimeScaled</ExecutionMode>
			<RealTimeScale>0.002</RealTimeScale>
			<EnableZoomAndPanning>true</EnableZoomAndPanning>
			<EnableDeveloperPanel>false</EnableDeveloperPanel>
			<ShowDeveloperPanelOnStart>false</ShowDeveloperPanelOnStart>
		</AnimationProperties>
		<Inputs>
    		<RunConfigurationInput>
				<Id>1661517220706</Id>
				<Name><![CDATA[P time step h]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_timeStep_h]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1661517213660</Id>
				<Name><![CDATA[B add kpi visuals]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[b_addKpiVisuals]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1661517224234</Id>
				<Name><![CDATA[P grid node config JSON]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_gridNodeConfigJSON]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1661517226959</Id>
				<Name><![CDATA[P actors config JSON]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_actorsConfigJSON]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1661517228035</Id>
				<Name><![CDATA[P energy assets config JSON]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_energyAssetsConfigJSON]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1663579418347</Id>
				<Name><![CDATA[P import local config jsons]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_importLocalConfigJsons]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1663597142902</Id>
				<Name><![CDATA[P force uncached]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_forceUncached]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1663577689860</Id>
				<Name><![CDATA[P parallelize]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_parallelize]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>		
		</Inputs>
		<Outputs>
    		<RunConfigurationOutput>
				<Id>1663255524588</Id>
				<Name><![CDATA[O output runSettings]]></Name>
				<OutputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[o_outputSettings]]></ItemName>
				</OutputReference>
    		</RunConfigurationOutput>
    		<RunConfigurationOutput>
				<Id>1661517229694</Id>
				<Name><![CDATA[O output actorData]]></Name>
				<OutputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[o_outputConnectionOwnerJSON]]></ItemName>
				</OutputReference>
    		</RunConfigurationOutput>
    		<RunConfigurationOutput>
				<Id>1661529672978</Id>
				<Name><![CDATA[O output exceptions]]></Name>
				<OutputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[o_outputExceptions]]></ItemName>
				</OutputReference>
    		</RunConfigurationOutput>
    		<RunConfigurationOutput>
				<Id>1663340413770</Id>
				<Name><![CDATA[O output trigger]]></Name>
				<OutputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[o_outputTrigger]]></ItemName>
				</OutputReference>
    		</RunConfigurationOutput>
		</Outputs>
	</RunConfiguration>
	<Experiments>	
		<!--   =========   Simulation Experiment   ========  -->
		<SimulationExperiment ActiveObjectClassId="1658477103140">
			<Id>1658477103156</Id>
			<Name><![CDATA[Simulation]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<CommandLineArguments><![CDATA[]]></CommandLineArguments>
			<MaximumMemory>1024</MaximumMemory>
			<RandomNumberGenerationType>fixedSeed</RandomNumberGenerationType>
			<CustomGeneratorCode>new Random()</CustomGeneratorCode>
			<SeedValue>1</SeedValue>
			<SelectionModeForSimultaneousEvents>LIFO</SelectionModeForSimultaneousEvents>
			<VmArgs><![CDATA[]]></VmArgs>
			<LoadRootFromSnapshot>false</LoadRootFromSnapshot>

			<Presentation>
				<Text>
					<Id>1658477103161</Id>
					<Name><![CDATA[text]]></Name>
					<X>50</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-12490271</Color>
					<Text><![CDATA[MainModel]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>24</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

			<Parameters>			
				<Parameter>
					<ParameterName><![CDATA[p_timeStep_h]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[b_addKpiVisuals]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_undergroundTemperature_degC]]></ParameterName>
					<ParameterValue Class="CodeValue">
						<Code><![CDATA[10]]></Code>
					</ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_gridNodeConfigJSON]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_gridConnectionConfigJSON]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_actorsConfigJSON]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_energyAssetsConfigJSON]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[j_dataOut]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[j_experimentSettingsData]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_importLocalConfigJsons]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_forceUncached]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_parallelize]]></ParameterName>
				</Parameter>
			</Parameters>			
			<PresentationProperties>
				<EnableZoomAndPanning>true</EnableZoomAndPanning>
				<ExecutionMode><![CDATA[realTimeScaled]]></ExecutionMode>
				<Title><![CDATA[MainModel : Simulation]]></Title>	
				<EnableDeveloperPanel>true</EnableDeveloperPanel>
				<ShowDeveloperPanelOnStart>false</ShowDeveloperPanelOnStart>
				<RealTimeScale>0.002</RealTimeScale>
			</PresentationProperties>
			<ModelTimeProperties>
				<StopOption><![CDATA[Stop at specified time]]></StopOption>
				<InitialDate><![CDATA[1640995200000]]></InitialDate>	
				<InitialTime><![CDATA[0.0]]></InitialTime>	
				<FinalDate><![CDATA[1672531200000]]></FinalDate>	
				<FinalTime><![CDATA[8760.0]]></FinalTime>	
			</ModelTimeProperties>
			<BypassInitialScreen>true</BypassInitialScreen>
		</SimulationExperiment>	
	</Experiments>
	<JavaClasses>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659091451342</Id>
			<Name><![CDATA[J_EAProduction]]></Name>
			<Text><![CDATA[/**
 * J_EAProduction
 */
public class J_EAProduction extends base.J_EA implements Serializable {

    /**
     * Default constructor
     */
	public J_EAProduction() {
    }

	/**
     * Constructor initializing the fields
     */
	public J_EAProduction(EnergyAsset ownerAsset, double capacityElectric_kW_,double capacityHeat_kW, double timestep_h) {
	    this.ownerAsset = ownerAsset;
	    this.capacityElectric_kW = capacityElectric_kW_;
	    this.capacityHeat_kW = capacityHeat_kW;
	    this.timestep_h = timestep_h;
//	    traceln("I am instantiated! "+this+" owned by "+ownerAsset);
	}

	@Override
    public double[] operate(double ratioOfCapacity) {
    	this.electricityProduction_kW = ratioOfCapacity * capacityElectric_kW;
    	this.heatProduction_kW = ratioOfCapacity * capacityHeat_kW;
    	energyUsed_kWh -= (electricityProduction_kW + heatProduction_kW) * timestep_h;
    	//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
    	return returnEnergyFlows();
	}

	@Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectricity_kW = " + capacityElectric_kW +" "+
			"capacityHeat_kW = " + capacityHeat_kW +" ";
	}

	public String getOwnerAgent() {
		return ownerAsset.agentInfo();
	}


	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659091479591</Id>
			<Name><![CDATA[J_EAStorage]]></Name>
			<Text><![CDATA[/**
 * J_EAStorage
 */
public class J_EAStorage extends J_EA implements Serializable {

	protected OL_EnergyCarrierType storageMedium;
	protected double storageCapacity_kWh;
	protected double stateOfCharge_r;
	protected double lossFactor_r;
	protected double timestep_h;
	protected double ambientTemperature_degC;
	protected String ambientTempType;

    /**
     * Default constructor
     */
    public J_EAStorage() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAStorage(EnergyAsset ownerAsset, double chargeCapacityElectric_kW, double chargeCapacityHeat_kW, OL_EnergyCarrierType storageMedium, double storageCapacity_kWh, double stateOfCharge, double lossFactor, double timestep_h, String ambientTempType) {
		this.ownerAsset = ownerAsset;
		this.capacityElectric_kW = chargeCapacityElectric_kW;  // capacity for charging/discharging in kW
		this.capacityHeat_kW = chargeCapacityHeat_kW;				// capacity for charging/discharging in kW
		this.storageMedium = storageMedium;
		this.storageCapacity_kWh = storageCapacity_kWh;
		this.stateOfCharge_r = stateOfCharge;
		this.lossFactor_r = lossFactor;
		this.timestep_h = timestep_h;
		this.ambientTempType = ambientTempType;
    }

    public void calculateLoss() {
    	//
    }

    public double[] operate(double ratioOfChargeCapacity_r) {
    	// traceln("storage operate! ");
    	//double[] arr = {0,0,0,0,0,0,0,0};
    	//return arr;
    	return returnEnergyFlows();
    }

    public void updateStateOfCharge( double flow_kW ) {
		stateOfCharge_r = ( (stateOfCharge_r * storageCapacity_kWh) - flow_kW * timestep_h ) / storageCapacity_kWh;
	}

	// acces current state of charge
	@Override
	public double getCurrentStateOfCharge() {
    	return stateOfCharge_r;
	}

	@Override
	public double getCurrentTemperature() {
		return 0;
	}

	@Override
	public void updateAmbientTemperature(double currentAmbientTemperature_degC) {
		//
	}

    @Override
	public String toString() {
		return super.toString();
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659091488030</Id>
			<Name><![CDATA[J_EAConversion]]></Name>
			<Text><![CDATA[/**
 * J_EAConversion
 */
public class J_EAConversion extends base.J_EA implements Serializable {

	protected double eta_r;
	protected OL_EnergyCarrierType energyCarrierProduced;
	protected OL_EnergyCarrierType energyCarrierConsumed;
	protected String ambientTempType;
	/**
     * Default constructor
     */
    public J_EAConversion() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversion(EnergyAsset ownerAssetAgent, double capacityElectric_kW, double capacityHeat_kW, double efficiency_r, OL_EnergyCarrierType energyCarrierProduced, OL_EnergyCarrierType energyCarrierConsumed, double timestep_h, String ambientTempType) {
	    this.ownerAsset = ownerAssetAgent;
	    this.capacityElectric_kW = capacityElectric_kW;
	    this.capacityHeat_kW = capacityHeat_kW;
	    this.eta_r = efficiency_r;
	    this.energyCarrierProduced = energyCarrierProduced;
	    this.energyCarrierConsumed = energyCarrierConsumed;
	    this.timestep_h = timestep_h;
	    this.ambientTempType = ambientTempType;
	}

	@Override
	public double[] operate(double ratioOfCapacity) {
		//
		double[] arr = {0,0,0,0,0,0,0,0 };
    	return arr;
	}

    @Override
	public String toString() {
		return super.toString();
	}

	public String getOwnerAgent() {
		return ownerAsset.agentInfo();
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}                         ]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659091515352</Id>
			<Name><![CDATA[J_EAPhotoVoltaic]]></Name>
			<ExcludeFromBuild>true</ExcludeFromBuild>
			<Text><![CDATA[/**
 * J_EASolarpanels
 */
public class J_EAPhotoVoltaic extends base.J_EAProduction implements Serializable {

	private EnergyAsset ownerAsset;
	private double capacityElectricity_kW;

    /**
     * Default constructor
     */
    public J_EAPhotoVoltaic() {
    }

    /**
     * Constructor initializing the fields
     */
	public J_EAPhotoVoltaic(EnergyAsset ownerAssetAgent, double capacityElectricity_kW_) {
	    this.ownerAsset = ownerAssetAgent;
	    this.capacityElectricity_kW = capacityElectricity_kW_;
	    traceln("I am instantiated! "+this+" owned by "+ownerAsset);
	}

	@Override
	public String toString() {
		return
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectricity_kW = " + capacityElectricity_kW +" ";
	}

	@Override
	public double produceElectricity(double ratioOfCapacity) {
		traceln("I produce now! solar pv @ " + (ratioOfCapacity * 100) + " %");
		return (ratioOfCapacity * capacityElectricity_kW);
	}
	@Override
    public double produceHeat(double ratioOfCapacity) {
    	return 0;
    }
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659094172861</Id>
			<Name><![CDATA[J_EAWindmill]]></Name>
			<ExcludeFromBuild>true</ExcludeFromBuild>
			<Text><![CDATA[/**
 * J_EAWindmill
 */
public class J_EAWindmill extends base.J_EAProduction implements Serializable {

	private EnergyAsset ownerAsset;
	private double capacityElectricity_kW;

    /**
     * Default constructor
     */
    public J_EAWindmill() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAWindmill(EnergyAsset ownerAsset, double capacityElectricity_kW) {
		this.ownerAsset = ownerAsset;
		this.capacityElectricity_kW = capacityElectricity_kW;
	    traceln("I am instantiated! "+this+" owned by "+ownerAsset);
    }

    @Override
	public double produceElectricity(double ratioOfCapacity) {
		traceln("I produce now! Windmill @ " + (ratioOfCapacity * 100) + " %");
		return (ratioOfCapacity * capacityElectricity_kW);
	}
    public double produceHeat(double ratioOfCapacity) {
    	return 0;
    }
	@Override
	public String toString() {
		return
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectricity_kW = " + capacityElectricity_kW +" ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659104338597</Id>
			<Name><![CDATA[J_EAOtherElectricityConsumption]]></Name>
			<ExcludeFromBuild>true</ExcludeFromBuild>
			<Text><![CDATA[/**
 * J_EAOtherElectricityConsumption
 */
public class J_EAOtherElectricityConsumption extends base.J_EAConsumption implements Serializable {

	private EnergyAsset ownerAsset;
	private double capacityElectricity_kW;
	private double capacityHeat_kW = 0;

    /**
     * Default constructor
     */
    public J_EAOtherElectricityConsumption() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAOtherElectricityConsumption(EnergyAsset ownerAsset, double capacityElectricity_kW) {
		this.ownerAsset = ownerAsset;
		this.capacityElectricity_kW = capacityElectricity_kW;
    }

	@Override
	public String toString() {
		return
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectricity_kW = " + capacityElectricity_kW +" ";
	}
	@Override
	public double consumeElectricity(double ratioOfCapacity) {
		traceln("I consume now! Other electricity consumption: @ " + (ratioOfCapacity * 100) + " %");
		return ratioOfCapacity * capacityElectricity_kW;
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659104834899</Id>
			<Name><![CDATA[J_EAConsumption]]></Name>
			<Text><![CDATA[/**
 * J_EAConsumption
 */
public class J_EAConsumption extends base.J_EA implements Serializable {
	public double yearlyDemandElectricity_kWh;
	public double yearlyDemandHeat_kWh;
	/**
     * Default constructor
     */
    public J_EAConsumption() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConsumption(EnergyAsset ownerAsset, double yearlyDemandElectricity_kWh, double yearlyDemandHeat_kWh, double timestep_h) {
		this.ownerAsset = ownerAsset;
		this.yearlyDemandElectricity_kWh = yearlyDemandElectricity_kWh;
		this.yearlyDemandHeat_kWh = yearlyDemandHeat_kWh;
		this.timestep_h = timestep_h;
    }

	@Override
    public double[] operate(double ratioOfCapacity) {
    	this.electricityConsumption_kW = ratioOfCapacity * yearlyDemandElectricity_kWh;
    	this.heatConsumption_kW = ratioOfCapacity * yearlyDemandHeat_kWh;

    	//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
    	energyUsed_kWh += (electricityConsumption_kW + heatConsumption_kW) * timestep_h;
    	return returnEnergyFlows();
   	}

	@Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"ownerAsset = " + ownerAsset +" " +
			"yearlyDemandElectricity_kWh = " + yearlyDemandElectricity_kWh +" "+
			"yearlyDemandHeat_kWh = " + yearlyDemandHeat_kWh +" ";
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659105650125</Id>
			<Name><![CDATA[J_EAPhotoThermal]]></Name>
			<ExcludeFromBuild>true</ExcludeFromBuild>
			<Text><![CDATA[/**
 * J_EAPhotoThermal
 */
public class J_EAPhotoThermal extends base.J_EAProduction implements Serializable {

	private EnergyAsset ownerAsset;
	private double capacity_kW;

    /**
     * Default constructor
     */
    public J_EAPhotoThermal() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAPhotoThermal(EnergyAsset ownerAssetAgent, double capacity_kW) {
		this.ownerAsset = ownerAssetAgent;
		this.capacity_kW = capacity_kW;
    }

	@Override
	public String toString() {
		return
			"ownerAsset = " + ownerAsset +" " +
			"p_capacity_kW = " + capacity_kW +" ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659108919926</Id>
			<Name><![CDATA[J_EA]]></Name>
			<Text><![CDATA[/**
 * J_EA
 */
public class J_EA {

	 protected EnergyAsset ownerAsset;
	 protected double capacityElectric_kW;
	 protected double capacityHeat_kW;
	 protected double energyUsed_kWh=0.0;
  	 protected double timestep_h;

	 protected double electricityProduction_kW = 0.0;
	 protected double heatProduction_kW = 0.0;
	 protected double methaneProduction_kW = 0.0;
	 protected double hydrogenProduction_kW = 0.0;
	 protected double electricityConsumption_kW = 0.0;
	 protected double methaneConsumption_kW = 0.0;
	 protected double hydrogenConsumption_kW = 0.0;
	 protected double heatConsumption_kW = 0.0;

    /**
     * Default constructor
     */
    public J_EA() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EA(EnergyAsset ownerAsset, double capacityElectric_kW, double capacityHeat_kW) {
		this.ownerAsset = ownerAsset;
		this.capacityElectric_kW = capacityElectric_kW;
		this.capacityHeat_kW = capacityHeat_kW;
    }

    public void resetFlows() {
    	//traceln("parent energyAsset reset ");
    	double electricityProduction_kW = 0;
    	double heatProduction_kW = 0;
    	double methaneProduction_kW = 0;
    	double hydrogenProduction_kW = 0;
    	double electricityConsumption_kW = 0;
    	double methaneConsumption_kW = 0;
    	double hydrogenConsumption_kW = 0;
    	double heatConsumption_kW = 0;
    }
    
    public double[] operateBounded(double ratioOfCapacity) {
    	double limitedRatioOfCapacity = min(1,max(-1, ratioOfCapacity));
    	double[] arr = operate(limitedRatioOfCapacity);
    	return arr;
    }

    public double[] operate(double ratioOfCapacity) {
    	traceln("parent energyAsset operate! ");
    	double[] arr = returnEnergyFlows(); //{electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	return arr;
    }

    public double[] returnEnergyFlows() {
    	//traceln("returning energy flows from superclass");
    	double[] arr = {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	return arr;
    }
    public double getCurrentStateOfCharge() {
    	return 0;
    }

    public double getCurrentTemperature() {
    	return 0;
    }

    public void updateAmbientTemperature(double currentAmbientTemperature_degC) {
    	// only for storage agents. Does it belong in this superclass?
    }

    public double getHeatCapacity_kW() {
    	return capacityHeat_kW;
    }

    public double getElectricCapacity_kW() {
    	return capacityElectric_kW;
    }
    
    public double getEnergyUsed_kWh() {
    	return energyUsed_kWh;    	
    }

    public double getSetTemperature_degC() {
    	return 0;
    }
    
	@Override
	public String toString() {
		return
			"ownerAsset = " + ownerAsset.getIndex() +" ";
	}

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659117174456</Id>
			<Name><![CDATA[J_EAConversionGasBurner]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionGasBurner
 */
public class J_EAConversionGasBurner extends base.J_EAConversion implements Serializable {

	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.METHANE;
    /**
     * Default constructor
     */
    public J_EAConversionGasBurner() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionGasBurner(EnergyAsset ownerAssetAgent, double capacityThermal_kW, double efficiency, double timestep_h) {
	    this.ownerAsset = ownerAssetAgent;
	    this.capacityHeat_kW = capacityThermal_kW;
	    this.eta_r = efficiency;
	    this.timestep_h = timestep_h;
	}

    @Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
		this.heatProduction_kW = capacityHeat_kW * ratioOfCapacity;
		this.methaneConsumption_kW = heatProduction_kW / eta_r;
		
		this.energyUsed_kWh += timestep_h * (methaneConsumption_kW - heatProduction_kW); // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
    }

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}
	
	@Override
	public String toString() {
		return
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"eta_r = " + this.eta_r+" ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659446215929</Id>
			<Name><![CDATA[J_EAStorageElectric]]></Name>
			<Text><![CDATA[/**
 * J_EAStorageElectric
 */
public class J_EAStorageElectric extends base.J_EAStorage implements Serializable {

	private OL_EnergyCarrierType storageMedium = OL_EnergyCarrierType.ELECTRICITY;
	private double lossFactor_r = 0;

    /**
     * Default constructor
     */
    public J_EAStorageElectric() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAStorageElectric(EnergyAsset ownerAsset, double capacityElectric_kW, double storageCapacity_kWh, double stateOfCharge_r, double timestep_h ) {
		this.ownerAsset = ownerAsset;
		this.capacityElectric_kW = capacityElectric_kW;
		this.storageCapacity_kWh = storageCapacity_kWh;
		this.stateOfCharge_r = stateOfCharge_r;
		this.timestep_h = timestep_h;
    }

	@Override
	public void calculateLoss() {
		//no loss for electric batteries modeled.
	}

	@Override
	public double[] operate(double ratioOfChargeCapacity_r) {
    	double discharge_kW = 0;
    	double deltaEnergy_kWh;   // to check the request with the energy currently in storage
    	//double sign = ratioOfChargeCapacity_r / abs( ratioOfChargeCapacity_r ); // charge or discharge

    	deltaEnergy_kWh = ( ratioOfChargeCapacity_r * capacityElectric_kW * timestep_h ) ;
    	deltaEnergy_kWh = - min( -deltaEnergy_kWh, (stateOfCharge_r * storageCapacity_kWh) ); // Prevent negative charge
    	deltaEnergy_kWh = min(deltaEnergy_kWh, (1 - stateOfCharge_r) * storageCapacity_kWh ); // Prevent overcharge

		discharge_kW = -deltaEnergy_kWh / timestep_h;

		electricityProduction_kW = max(discharge_kW, 0);
		electricityConsumption_kW = max(-discharge_kW, 0);

		updateStateOfCharge( discharge_kW );
		//double[] arr = {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
	}

	@Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"stateOfCharge_r = " + this.stateOfCharge_r+" ";
	}

	@Override
	public void updateStateOfCharge( double discharge_kW ) {
		stateOfCharge_r -= ( discharge_kW * timestep_h ) / storageCapacity_kWh;
	}

	@Override
	public double getCurrentStateOfCharge() {
    	return stateOfCharge_r;
	}

	public double getStorageCapacity() {
		return storageCapacity_kWh;
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659447107390</Id>
			<Name><![CDATA[J_EAStorageHeat]]></Name>
			<Text><![CDATA[/**
 * J_EAStorageHeat
 */
public class J_EAStorageHeat extends base.J_EAStorage implements Serializable {

	EnergyAsset ownerAsset;
	private double capacityElectric_kW = 0;
	public OL_EnergyCarrierType storageMedium = OL_EnergyCarrierType.HEAT;
	private double storageCapacity_kWh;
	private double stateOfCharge_r;
	private double lossFactor_WpK;
	private double timestep_h;
	private double temperature_degC;
	private double minTemperature_degC;
	private double maxTemperature_degC;
	private double setTemperature_degC;
	private double heatCapacity_JpK;
	private double ambientTemperature_degC;
	//private double energyUsed_kWh=0;

    /**
     * Default constructor
     */
    public J_EAStorageHeat() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAStorageHeat(EnergyAsset ownerAsset, double capacityHeat_kW, double lossFactor_WpK, double timestep_h, double initialTemperature_degC, double minTemperature_degC, double maxTemperature_degC, double setTemperature_degC, double heatCapacity_JpK, String ambientTempType ) {
		this.ownerAsset = ownerAsset;
		this.capacityHeat_kW = capacityHeat_kW;
		this.lossFactor_WpK = lossFactor_WpK;
		this.timestep_h = timestep_h;
		this.temperature_degC = initialTemperature_degC;
		this.minTemperature_degC = minTemperature_degC;
		this.maxTemperature_degC = maxTemperature_degC;
		this.setTemperature_degC = setTemperature_degC;
		this.heatCapacity_JpK = heatCapacity_JpK;
		this.ambientTempType = ambientTempType;

		this.storageCapacity_kWh = ( maxTemperature_degC - minTemperature_degC ) * heatCapacity_JpK / 3.6e+6;
		this.stateOfCharge_r = (( initialTemperature_degC - minTemperature_degC ) / (maxTemperature_degC - minTemperature_degC ) );
    }

	@Override
	public void calculateLoss() {
		double heatLoss_W = lossFactor_WpK * ( temperature_degC - ambientTemperature_degC );
		double energyLoss_kWh = ( heatLoss_W / 1000 ) * timestep_h;
		double tempDelta = - energyLoss_kWh / (heatCapacity_JpK / 3.6E6 );
		energyUsed_kWh += energyLoss_kWh;
		//traceln("Ambient temperature " + ambientTemperature_degC);
		//traceln("heatCapacity JpK " + heatCapacity_JpK );
		//traceln("tempdelta loss"+tempDelta);
		updateStateOfCharge( tempDelta );
	}

	@Override
	public double[] operate(double ratioOfChargeCapacity_r) {
		//traceln("StorageAsset Heat Operatefunctie: ambienttemperature = "+ambientTemperature_degC);
		calculateLoss(); // Updates

		double discharge_kW = 0;
    	double energyDelta_kWh = 0;   // to check the request with the energy currently in storage
    	double deltaTemp_degC;
    	//double sign = ratioOfChargeCapacity_r / abs( ratioOfChargeCapacity_r ); // charge or discharge

    	energyDelta_kWh = ( ratioOfChargeCapacity_r * capacityHeat_kW * timestep_h );
    	//traceln("capacityHeat_kW " + capacityHeat_kW);
    	deltaTemp_degC = energyDelta_kWh / (heatCapacity_JpK / 3.6E6 );
    	//traceln("tempdelta charge uncapped: "+deltaTemp_degC);
    	//deltaTemp_degC = max( deltaTemp_degC, minTemperature_degC - temperature_degC ); // Is deze functionaliteit nodig in de heatbuffer? Kan op zich geen kwaad... zal als het goed is niet aangesproken worden
    	//deltaTemp_degC = min( deltaTemp_degC, (maxTemperature_degC - temperature_degC ) ); // Is deze functionaliteit nodig in de heatbuffer?

		//double tempDelta = - energy;   // positieve energielevering verlaagt buffertemperatuur!
		//energy = energy * (heatCapacity_JpK / 3.6E6 );
		discharge_kW = - deltaTemp_degC *  (heatCapacity_JpK / 3.6E6) / timestep_h; // positieve energielevering verlaagt buffertemperatuur!

		heatProduction_kW = max(discharge_kW, 0);
		heatConsumption_kW = max(-discharge_kW, 0);
		//traceln("tempdelta charge: "+deltaTemp_degC);
		updateStateOfCharge( deltaTemp_degC );

		//double[] arr = {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
	}

	@Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"temp = " + this.temperature_degC + " " +
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"stateOfCharge_r = " + this.stateOfCharge_r+" "+
			"ambientTemperature_degC = "+this.ambientTemperature_degC+" ";
	}

	@Override
	public void updateStateOfCharge( double tempDelta_degC ) {
		temperature_degC += tempDelta_degC;
		stateOfCharge_r = ( temperature_degC - minTemperature_degC) / (maxTemperature_degC - minTemperature_degC);
	}

	@Override
	public double getCurrentStateOfCharge() {
    	return stateOfCharge_r;
	}

	@Override
	public double getCurrentTemperature() {
		return temperature_degC;
	}
	
	@Override
	public double getSetTemperature_degC() {
		return setTemperature_degC;
	}

	public double getStorageCapacity() {
		return storageCapacity_kWh;
	}

	public double getHeatCapacity_JpK() {
		return heatCapacity_JpK;
	}
	
	/*
	@Override
	public double getHeatCapacity_kW() {
    	return capacityHeat_kW;
    }
	*/

	@Override
	public void updateAmbientTemperature(double currentAmbientTemperature_degC) { // TODO: Hoe zorgen we dat we deze niet vergeten aan te roepen??
		ambientTemperature_degC = currentAmbientTemperature_degC;
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659513814164</Id>
			<Name><![CDATA[J_EAConversionHeatPump]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionHeatPump
 */
public class J_EAConversionHeatPump extends base.J_EAConversion implements Serializable {
	private double capacityHeat_kW = 0;
	private double efficiency_r;
	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.ELECTRICITY;
	private double outputTemperature_degC;
	private double baseTemperature_degC;

    /**
     * Default constructor
     */
    public J_EAConversionHeatPump() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionHeatPump(EnergyAsset ownerAssetAgent, double capacityElectric_kW, double eta_r, double baseTemperature_degC, double outputTemperature_degC, String ambientTempType) {
	    this.ownerAsset = ownerAssetAgent;
	    this.capacityElectric_kW = capacityElectric_kW;
	    this.eta_r = eta_r;
	    this.baseTemperature_degC = baseTemperature_degC;
	    this.outputTemperature_degC = outputTemperature_degC;
	    this.efficiency_r = eta_r * ( 273.15 + outputTemperature_degC ) / ( outputTemperature_degC - baseTemperature_degC );
	    this.capacityHeat_kW = capacityElectric_kW * efficiency_r;
	    this.ambientTempType = ambientTempType;
	}

	public void updateParameters(double baseTemperature_degC) {
		//
		efficiency_r = eta_r * ( 273.15 + outputTemperature_degC ) / ( outputTemperature_degC - baseTemperature_degC );
	}

	@Override
	public double[] operate(double ratioOfCapacity) {
    	this.electricityConsumption_kW = ratioOfCapacity * capacityElectric_kW;
    	this.heatProduction_kW = electricityConsumption_kW * efficiency_r;
    	
    	this.energyUsed_kWh += timestep_h * (electricityConsumption_kW - heatProduction_kW); // This represents 'losses'! For a heat-pump, this is actually energy 'production'!
    	//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
    	traceln("J_EAConversionHeatPump operate function debug | operating @ "+ratioOfCapacity*100+" % capacity ** capacityElectric_kW = "+capacityElectric_kW+", eta_r = "+eta_r+", baseTemperature_degC = "+baseTemperature_degC+", deliveryTemp_degC = "+outputTemperature_degC+", efficiency_r = "+efficiency_r+", capacityHeat_kW = "+capacityHeat_kW+". ");
    	return returnEnergyFlows();
	}

	@Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectricity_kW = " + capacityElectric_kW +" "+
			"capacityHeat_kW = " + capacityHeat_kW +" "+
			"baseTemperature_degC = " + baseTemperature_degC + " ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659534704067</Id>
			<Name><![CDATA[J_EAEV]]></Name>
			<Text><![CDATA[/**
 * J_EAEV
 */
public class J_EAEV extends base.J_EAStorage implements Serializable {

	//EnergyAsset ownerAsset;
	// protected EnergyAsset ownerAsset;
	// protected double capacityElectric_kW;
	// protected double capacityHeat_kW;
	// protected double energyUsed_kWh=0.0;
 	// protected double timestep_h;

	//private double capacityElectricity_kW;
	//private double capacityHeat_kW = 0;
	public OL_EnergyCarrierType storageMedium = OL_EnergyCarrierType.ELECTRICITY;
	private double storageCapacity_kWh;
	private double stateOfCharge_r;
	private double lossFactor_r = 0;
//	private double timestep_h;
	private double energyConsumption_kWhpmk = 0.2;
	private boolean availability = true;
	//private double energyUsed_kWh=0;

    /**
     * Default constructor
     */
    public J_EAEV() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAEV(EnergyAsset ownerAsset, double capacityElectricity_kW, double storageCapacity_kWh, double stateOfCharge_r, double timestep_h, double energyConsumption_kWhpmk ) {
		this.ownerAsset = ownerAsset;
		this.capacityElectric_kW = capacityElectricity_kW; // for EV, this is max charging power.
		this.storageCapacity_kWh = storageCapacity_kWh;
		this.stateOfCharge_r = stateOfCharge_r;
		this.timestep_h = timestep_h;
		this.energyConsumption_kWhpmk = energyConsumption_kWhpmk;
    }
    
    public double[] charge(double chargingPower_kW) {
    	// Geen availability if statement nodig, deze laadfunctie wordt alleen aangeroepen als hij ook werkelijk thuis is.
    	double deltaEnergy_kWh;

    	deltaEnergy_kWh = ( chargingPower_kW * timestep_h ) ;
    	deltaEnergy_kWh = - min( -deltaEnergy_kWh, (stateOfCharge_r * storageCapacity_kWh) ); // Prevent negative charge
    	deltaEnergy_kWh = min(deltaEnergy_kWh, (1 - stateOfCharge_r) * storageCapacity_kWh ); // Prevent overcharge
    	double finalChargingPower_kW = -deltaEnergy_kWh / timestep_h;
    	
    	// (Peter) Hier worden alleen netto flows berekend. Als we naar slimmere systemen gaat kan het relevant zijn om tussen tijdstappen te laden EN te ontladen.
		electricityProduction_kW = max(finalChargingPower_kW, 0);
		electricityConsumption_kW = max(-finalChargingPower_kW, 0);
		updateStateOfCharge( finalChargingPower_kW );
		
		return returnEnergyFlows(); 
    }
    
	@Override
	public void calculateLoss() {
		//no loss for electric batteries modeled.
	}

	@Override // momenteel verwijzen we door naar de charge funcite ipv deze operate. Die doen eigenlijk ehtzelfde maar neemt kW als input. De ratio input in deze functie wordt door de laadmodule als vermogen meegegeven
	public double[] operate(double ratioOfChargeCapacity_r) {
		return charge(ratioOfChargeCapacity_r);
		
		/*
		if (availability) {
	    	double discharge_kW = 0;
	    	double deltaEnergy_kWh;   // to check the request with the energy currently in storage
	    	//double sign = ratioOfChargeCapacity_r / abs( ratioOfChargeCapacity_r ); // charge or discharge

	    	deltaEnergy_kWh = ( ratioOfChargeCapacity_r * capacityElectric_kW * timestep_h ) ;
	    	deltaEnergy_kWh = - min( -deltaEnergy_kWh, (stateOfCharge_r * storageCapacity_kWh) ); // Prevent negative charge
	    	deltaEnergy_kWh = min(deltaEnergy_kWh, (1 - stateOfCharge_r) * storageCapacity_kWh ); // Prevent overcharge

			discharge_kW = -deltaEnergy_kWh / timestep_h;

			electricityProduction_kW = max(discharge_kW, 0);
			electricityConsumption_kW = max(-discharge_kW, 0);
			updateStateOfCharge( discharge_kW );


		}
		//double[] arr = {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
		*/
	}

	@Override
	public void updateStateOfCharge( double power_kW ) {
		stateOfCharge_r -= ( power_kW * timestep_h ) / storageCapacity_kWh;
	}

	@Override
	public double getCurrentStateOfCharge() {
    	return stateOfCharge_r;
	}

	public boolean startTrip() {
		if (availability) {
			availability = false;
			return true;
		} else {
			traceln("Trip not started because EV not available!");
			return false; // Trip not started because EV not available!
		}
	}

	public boolean endTrip(double tripDist_km) {
		if(availability) {
	//		traceln("Trip not ended because EV never left!");
			return false;
		} else {
			stateOfCharge_r -= (tripDist_km * energyConsumption_kWhpmk) / storageCapacity_kWh;
			energyUsed_kWh += tripDist_km * energyConsumption_kWhpmk;
			if (stateOfCharge_r < 0) {
//				traceln("EV in " + this.toString() + " arrived home with negative SOC ! Negative charge " + -stateOfCharge_r * storageCapacity_kWh + " kWh");
			}
			availability = true;
			return true;
		}

	}

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	public double getStorageCapacity_kWh() {
		return storageCapacity_kWh;
	}
	
	public double getEnergyConsumption_kWhpmk() {
		return energyConsumption_kWhpmk;
	}

	public boolean getAvailability() {
		return availability;
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1660131551684</Id>
			<Name><![CDATA[J_EAConversionHeatDeliverySet]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionHeatDeliverySet
 */
public class J_EAConversionHeatDeliverySet extends base.J_EAConversion implements Serializable {

	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.HEAT;
    /**
     * Default constructor
     */
    public J_EAConversionHeatDeliverySet() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionHeatDeliverySet(EnergyAsset ownerAssetAgent, double capacityThermal_kW, double efficiency) {
	    this.ownerAsset = ownerAssetAgent;
	    this.capacityHeat_kW = capacityThermal_kW;
	    this.eta_r = efficiency;
	}

    @Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
		this.heatProduction_kW = capacityHeat_kW * ratioOfCapacity;
		this.heatConsumption_kW = heatProduction_kW / eta_r;

		this.energyUsed_kWh += timestep_h * (heatConsumption_kW - heatProduction_kW); // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
    }

	@Override
	public String toString() {
		return
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"eta_r = " + this.eta_r+" ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1661266990567</Id>
			<Name><![CDATA[J_ExperimentSettingsData]]></Name>
			<Text><![CDATA[/**
 * J_ExperimentSettingsData
 */	
public class J_ExperimentSettingsData implements Serializable {

	public String timeStep_h;
	public String timeStepsElapsed;
	public String modelHoursElapsed_h;
	public String modelStartUpDuration_s;
	public String modelRunDuration_s;
	public String nGridNodes;
	public String nGridConnections;
	public String nEnergyAssets;
	public String nConnectionOwners;
	public String nEnergySuppliers;
	public String nEnergyHolons;
	public String nAdministrativeHolons;
	public String nGridOperators;
	public String nNationalEnergyMarket;
	public String totalElectricityImported_MWh;
	public String totalElectricityExported_MWh;

	 /**
     * Default constructor
     */
    public J_ExperimentSettingsData() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_ExperimentSettingsData(String timeStep_h) {
		this.timeStep_h = timeStep_h;
		this.timeStepsElapsed = "";
		this.modelHoursElapsed_h = "";
		this.modelStartUpDuration_s = "";
		this.modelRunDuration_s = "";
		this.nGridNodes = "";
		this.nGridConnections = "";
		this.nEnergyAssets = "";
		this.nConnectionOwners = "";
		this.nEnergySuppliers = "";
		this.nEnergyHolons = "";
		this.nAdministrativeHolons = "";
		this.nGridOperators = "";
		this.nNationalEnergyMarket = "";
		this.totalElectricityImported_MWh = "";
		this.totalElectricityExported_MWh = "";
    }

	@Override
	public String toString() {
		return  
			"timeStep_h = " + timeStep_h +" " +
			"timeStepsElapsed = " + timeStepsElapsed +" " +
			"modelHoursElapsed_h = " + modelHoursElapsed_h + " " +
			"modelStartUpDuration_s = " + modelStartUpDuration_s + " " +
			"modelRunDuration_s = " + modelRunDuration_s + " " +
			"nGridNodes = " + nGridNodes + " " +
			"nGridConnections = " + nGridConnections + " " +
			"nEnergyAssets = " +	nEnergyAssets + " " +
			"nConnectionOwners = " + nConnectionOwners + " " +
			"nEnergySuppliers = "+ nEnergySuppliers + " " +
			"nEnergyHolons = " + nEnergyHolons + " " +
			"nAdministrativeHolons = " + nAdministrativeHolons + " " +
			"nGridOperators = " + nGridOperators + " " +
			"nNationalEnergyMarket = " + nNationalEnergyMarket + " " +
			"totalElectricityImported_MWh = " + totalElectricityImported_MWh + " " +
			"totalElectricityExported_MWh = " + totalElectricityExported_MWh + " ";
	}
	
	public void updateData(String timeStep_h, String timeStepsElapsed, String modelHoursElapsed_h, String modelStartUpDuration_s, String modelRunDuration_s, String nGridNodes,	String nGridConnections, String nEnergyAssets, String nConnectionOwners, String nEnergySuppliers, String nEnergyHolons, String nAdministrativeHolons, String nGridOperators, String nNationalEnergyMarket, String totalElectricityImported_MWh, String totalElectricityExported_MWh) {
		this.timeStep_h = timeStep_h;
		this.timeStepsElapsed = timeStepsElapsed;
		this.modelHoursElapsed_h = modelHoursElapsed_h;
		this.modelStartUpDuration_s = modelStartUpDuration_s;
		this.modelRunDuration_s = modelRunDuration_s;
		this.nGridNodes = nGridNodes;
		this.nGridConnections = nGridConnections;
		this.nEnergyAssets = nEnergyAssets;
		this.nConnectionOwners = nConnectionOwners;
		this.nEnergySuppliers = nEnergySuppliers;
		this.nEnergyHolons = nEnergyHolons;
		this.nAdministrativeHolons = nAdministrativeHolons;
		this.nGridOperators = nGridOperators;
		this.nNationalEnergyMarket = nNationalEnergyMarket;	
		this.totalElectricityImported_MWh = totalElectricityImported_MWh;
		this.totalElectricityExported_MWh = totalElectricityExported_MWh;}
	

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1661349111073</Id>
			<Name><![CDATA[DataOut]]></Name>
			<Text><![CDATA[/**
 * DataOut
 */	
public class DataOut implements Serializable {
	
	public ArrayList connectionOwnerData = new ArrayList();
	public ArrayList runSettingsData = new ArrayList(1);

	public void clearData() {
		connectionOwnerData.clear();
		runSettingsData.clear();
	}
}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1663238817163</Id>
			<Name><![CDATA[J_ConnectionOwnerData]]></Name>
			<Text><![CDATA[/**
 * J_ConnectionOwnerData
 */	
public class J_ConnectionOwnerData implements Serializable {

	public String actorID;
	public String actorType;
	public String parentActorID;
	public String energySupplier;
	public String ownedGridConnection;
	public String energySupplierDistrictHeat;
	public String electricityVolume_kWh;
	public String heatVolume_kWh;
	public String methaneVolume_kWh;
	public String hydrogenVolume_kWh;
	public String electricityContractType;
	public String heatContractType;
	public String methaneContractType;
	public String hydrogenContractType;
	public String balanceElectricity_eur;
	public String balanceHeat_eur;
	public String balanceMethane_eur;
	public String balanceHydrogen_eur;

	 /**
     * Default constructor
     */
    public J_ConnectionOwnerData() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_ConnectionOwnerData(String actorID, String actorType, String parentActorID) {
		this.actorID = actorID;
		this.actorType = actorType;
		this.parentActorID = parentActorID;
		this.energySupplier = "";
		this.ownedGridConnection = "";
		this.energySupplierDistrictHeat = "";
		this.electricityVolume_kWh = "";
		this.heatVolume_kWh = "";
		this.methaneVolume_kWh = "";
		this.hydrogenVolume_kWh = "";
		this.electricityContractType = "";
		this.heatContractType = "";
		this.methaneContractType = "";
		this.hydrogenContractType = "";
		this.balanceElectricity_eur = "";
		this.balanceHeat_eur = "";
		this.balanceMethane_eur = "";
		this.balanceHydrogen_eur = "";
    }

	@Override
	public String toString() {
		return  
			"actorID = " + actorID +" " +
			"actorType = " + actorType +" " +
			"parentActorID = " + parentActorID +" " +
			"energySupplier = " + energySupplier +" " +
			"ownedGridConnection = " + ownedGridConnection +" " +
			"energySupplierDistrictHeat = " + energySupplierDistrictHeat +" " +
			"electricityVolume_kWh = " + electricityVolume_kWh +" " +
			"heatVolume_kWh = " + heatVolume_kWh +" " +
			"methaneVolume_kWh = " + methaneVolume_kWh +" " +
			"hydrogenVolume_kWh = " + hydrogenVolume_kWh +" " +
			"electricityContractType = " + electricityContractType +" " +
			"heatContractType = " + heatContractType +" " +
			"methaneContractType = " + methaneContractType +" " +
			"hydrogenContractType = " + hydrogenContractType +" " +
			"balanceElectricity_eur = " + balanceElectricity_eur +" " +
			"balanceHeat_eur = " + balanceHeat_eur +" " +
			"balanceMethane_eur = " + balanceMethane_eur +" " +
			"balanceHydrogen_eur = " + balanceHydrogen_eur +" ";
	}
	
	public void updateData(String actorID, String actorType, String parentActorID, Agent energySupplier, GridConnection ownedGridConnection, Agent energySupplierDistrictHeat,double electricityVolume_kWh, double heatVolume_kWh, double methaneVolume_kWh, double hydrogenVolume_kWh, String electricityContractType, String heatContractType, String methaneContractType, String hydrogenContractType, double balanceElectricity_eur, double balanceHeat_eur, double balanceMethane_eur, double balanceHydrogen_eur) {
		this.actorID = actorID;
		this.actorType = actorType;
		this.parentActorID = parentActorID;
		this.energySupplier = energySupplier.toString();
		this.ownedGridConnection = ownedGridConnection.toString();
		this.energySupplierDistrictHeat = energySupplierDistrictHeat +"";
		this.electricityVolume_kWh = electricityVolume_kWh + "";
		this.heatVolume_kWh = heatVolume_kWh  + "";
		this.methaneVolume_kWh = methaneVolume_kWh + "";
		this.hydrogenVolume_kWh = hydrogenVolume_kWh + "";
		this.electricityContractType = electricityContractType + "";
		this.heatContractType = heatContractType + "";
		this.methaneContractType = methaneContractType + "";
		this.hydrogenContractType = hydrogenContractType + "";
		this.balanceElectricity_eur = balanceElectricity_eur + "";
		this.balanceHeat_eur = balanceHeat_eur + "";
		this.balanceMethane_eur = balanceMethane_eur + "";
		this.balanceHydrogen_eur = balanceHydrogen_eur + "";
	}
	/*
	public ArrayList returnData() {
		ArrayList data = new ArrayList({actorID, actorType, parentActorID, energySupplier, ownedGridConnection.toString(), energySupplierDistrictHeat.toString(), electricityVolume_kWh, heatVolume_kWh, methaneVolume_kWh, hydrogenVolume_kWh, balanceElectricity_eur, balanceHeat_eur, balanceMethane_eur, balanceHydrogen_eur});
		return data;

	}*/
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1664436898330</Id>
			<Name><![CDATA[ElectricityPriceProfile]]></Name>
			<Text><![CDATA[/**
 * ElectricityPriceProfile
 */	
public class ElectricityPriceProfile implements Serializable {

	public double[] sellPrices;
	public double[] buyPrices;
	public double[] sellLevels;
	public double[] buyLevels;
	
    /**
     * Default constructor
     */
    public ElectricityPriceProfile(double[] sellPrices, double[] buyPrices, double[] sellLevels, double[] buyLevels) {
    	if (sellPrices.length == sellLevels.length && buyLevels.length == buyPrices.length) {
        	this.sellPrices = sellPrices;
        	this.buyPrices = buyPrices;
        	this.sellLevels = sellLevels;
        	this.buyLevels = buyLevels;
    	}
    	else {
    		traceln( "Failure in electricity profile construction, levels dont match prices");
    	}
    }
    
    public double getCostSegmented(double power_kW) {
    	double cost = 0;
    	if( power_kW < 0 || power_kW > buyLevels[buyLevels.length - 1] ) {
    		traceln( "Incorrect power input for electricity price profile ");
    	}
    	else {
        	if (buyLevels[0] > power_kW) {
        		cost = power_kW * buyPrices[0];
        	}
        	else {
        		cost += buyLevels[0] * buyPrices[0];
            	for (int i = 1; i < buyLevels.length; i++) {
            		if( buyLevels[i] > power_kW ) {
            			cost += (power_kW - buyLevels[i-1]) * buyPrices[i];
            			break;
            		}
            		else {
            			cost += (buyLevels[i] - buyLevels[i-1]) * buyPrices[i]; 
            		}
            	}
        	}
    	}
       	return cost;
    }
    
    public double getCostSimple(double power_kW) {
    	double cost = 0;
    	if( power_kW < 0 || power_kW > buyLevels[buyLevels.length - 1] ) {
    		traceln( "Incorrect power input for electricity price profile ");
    	}
       	else {

        	for (int i = 0; i < buyLevels.length; i++) {
        		if (power_kW > buyLevels[i]) {
        			cost = power_kW * buyPrices[i];
        		}
        	}
       	}
    	return cost;
    }
    
    public double getTurnoverSegmented(double power_kW) {
    	double turnover = 0;
    	if( power_kW > 0 || power_kW < sellLevels[sellLevels.length - 1] ) {
    		traceln( "Incorrect power input for electricity price profile ");
    	}
    	else {
        	if ( power_kW > sellLevels[0] ) {
        		turnover = - power_kW * sellPrices[0];
        	}
        	else {
        		turnover += - sellLevels[0] * sellPrices[0];
            	for (int i = 1; i < buyLevels.length; i++) {
            		if( power_kW > sellLevels[i] ) {
            			turnover += (power_kW - sellLevels[i-1]) * sellPrices[i];
            			break;
            		}
            		else {
            			turnover += (sellLevels[i - 1] - sellLevels[i]) * sellPrices[i]; 
            		}
            	}
        	}
    	}
       	return turnover;
    }
    
    public double getTurnoverSimple(double power_kW) {
    	double turnover = 0;
    	if( power_kW > 0 || power_kW < sellLevels[sellLevels.length - 1] ) {
    		traceln( "cant requist turnover of electricity price profile that is outside its range");
    	}
    	else {
        	for (int i = 0; i < sellLevels.length; i++) {
        		if (power_kW > sellLevels[i]) {
        			turnover = power_kW * sellPrices[i];
        		}
        	}
    	}
    	return turnover;
    }
    
    public double[] getMarginalPrice( double power_kW ) {
    	double price = 0;
    	double powerAvailable = 0;
    	if ( power_kW >= 0 ) {
    		if( power_kW > buyLevels[ buyLevels.length - 1 ] )
    		{
    			traceln("Assets are consuming more than gridconnection allows, called from electricityPriceProfile");
    			price = infinity;
    			powerAvailable = 0;
    		}
    		else {
    			for(int i = 0; i < buyLevels.length; i++) {
    				if ( power_kW < buyLevels[i] ) {
    					price = buyPrices[i];
    					powerAvailable = buyLevels[i] - power_kW;
    				}
    			}
    		}
    	}
    	else {
    		if( power_kW < sellLevels[ sellLevels.length - 1 ] )
    		{
    			traceln("Assets are producing more than gridconnection allows, called from electricityPriceProfile");
    			price = 0;
    			powerAvailable = sellLevels[sellLevels.length -1] - power_kW;
    		}
    		else {
    			for(int i = 0; i < sellLevels.length; i++) {
    				if ( power_kW > sellLevels[i] ) {
    					price = sellPrices[i];
    					if ( i == 0 ) {
    						powerAvailable = power_kW;
    					}
    					else {
    						powerAvailable = sellLevels[ i - 1 ] - power_kW;
    					}
    				}
    			}
    		}
    	}
    	return new double[] {price, powerAvailable};
    }

	@Override
	public String toString() {
		return super.toString();
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
	</JavaClasses>
	<ModelResources>
		<Resource>
			<Path><![CDATA[db_backboneConfig.xlsx]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[db_backboneParams.xlsx]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[windmill-svgrepo-com.png]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[solarfarm.png]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[db_profiles.xlsx]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[db_defaultEnergyAssets.xlsx]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[AlbatrossProcessedVehicleTrips.xlsx]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[config_actors_300_gridConnections.txt]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[config_energyAssets_300_gridConnections.txt]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[config_gridConnections_300_gridConnections.txt]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[config_gridNodes_300_gridConnections.txt]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
	</ModelResources>
    <RequiredLibraryReference>
		<LibraryName><![CDATA[com.anylogic.libraries.modules.markup_descriptors]]></LibraryName>
		<VersionMajor>1</VersionMajor>
		<VersionMinor>0</VersionMinor>
		<VersionBuild>0</VersionBuild>
    </RequiredLibraryReference>
    <RequiredLibraryReference>
		<LibraryName><![CDATA[com.anylogic.libraries.processmodeling]]></LibraryName>
		<VersionMajor>8</VersionMajor>
		<VersionMinor>0</VersionMinor>
		<VersionBuild>5</VersionBuild>
    </RequiredLibraryReference>
	<CloudModelUuid><![CDATA[53e7a979-51f1-4324-8d8b-637b1e29a1a5]]></CloudModelUuid>
</Model>
</AnyLogicWorkspace>