<?xml version="1.0" encoding="UTF-8"?>
<!--
*************************************************
	         AnyLogic Project File 
*************************************************	         
-->
<AnyLogicWorkspace WorkspaceVersion="1.9" AnyLogicVersion="8.8.1.202210270952" AlpVersion="8.7.7">
<Model>
	<Id>1658477103134</Id>
	<Name><![CDATA[Base]]></Name>
	<EngineVersion>6</EngineVersion>
	<JavaPackageName><![CDATA[base]]></JavaPackageName>
	<ModelTimeUnit><![CDATA[Hour]]></ModelTimeUnit>
	<OptionLists>
		<OptionList>
			<Id>1658478100573</Id>
			<Name><![CDATA[OL_GridNodeType]]></Name>
			<Option>
				<Id>1658478100574</Id>
				<Name><![CDATA[HSMS]]></Name>
			</Option>
			<Option>
				<Id>1658478100575</Id>
				<Name><![CDATA[MSLS]]></Name>
			</Option>
			<Option>
				<Id>1659705289295</Id>
				<Name><![CDATA[HT]]></Name>
			</Option>
			<Option>
				<Id>1659705303447</Id>
				<Name><![CDATA[MT]]></Name>
			</Option>
			<Option>
				<Id>1659705308600</Id>
				<Name><![CDATA[LT]]></Name>
			</Option>
			<Option>
				<Id>1659705310310</Id>
				<Name><![CDATA[LT5thgen]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659117289326</Id>
			<Name><![CDATA[OL_EnergyCarrierType]]></Name>
			<Option>
				<Id>1659117289850</Id>
				<Name><![CDATA[ELECTRICITY]]></Name>
			</Option>
			<Option>
				<Id>1659117296810</Id>
				<Name><![CDATA[METHANE]]></Name>
			</Option>
			<Option>
				<Id>1659117299915</Id>
				<Name><![CDATA[HEAT]]></Name>
			</Option>
			<Option>
				<Id>1659117304956</Id>
				<Name><![CDATA[HYDROGEN]]></Name>
			</Option>
			<Option>
				<Id>1668600528877</Id>
				<Name><![CDATA[DIESEL]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659118262286</Id>
			<Name><![CDATA[OL_GridConnectionCategory]]></Name>
			<Option>
				<Id>1659118262287</Id>
				<Name><![CDATA[HOUSE]]></Name>
			</Option>
			<Option>
				<Id>1659118262288</Id>
				<Name><![CDATA[BUILDING]]></Name>
			</Option>
			<Option>
				<Id>1659118262289</Id>
				<Name><![CDATA[WINDFARM]]></Name>
			</Option>
			<Option>
				<Id>1659118262290</Id>
				<Name><![CDATA[SOLARFARM]]></Name>
			</Option>
			<Option>
				<Id>1660052337329</Id>
				<Name><![CDATA[DISTRICTHEATING]]></Name>
			</Option>
			<Option>
				<Id>1665480199198</Id>
				<Name><![CDATA[INDUSTRY]]></Name>
			</Option>
			<Option>
				<Id>1666957097189</Id>
				<Name><![CDATA[GRIDBATTERY]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659118272924</Id>
			<Name><![CDATA[OL_GridConnectionType]]></Name>
			<Option>
				<Id>1659118284642</Id>
				<Name><![CDATA[DETACHED]]></Name>
			</Option>
			<Option>
				<Id>1659118298339</Id>
				<Name><![CDATA[SEMIDETACHED]]></Name>
			</Option>
			<Option>
				<Id>1659118307632</Id>
				<Name><![CDATA[CORNER]]></Name>
			</Option>
			<Option>
				<Id>1659118321493</Id>
				<Name><![CDATA[TERRACED]]></Name>
			</Option>
			<Option>
				<Id>1659118323157</Id>
				<Name><![CDATA[APPARTMENT]]></Name>
			</Option>
			<Option>
				<Id>1659118328423</Id>
				<Name><![CDATA[HIGHRISE]]></Name>
			</Option>
			<Option>
				<Id>1659118330290</Id>
				<Name><![CDATA[STORE]]></Name>
			</Option>
			<Option>
				<Id>1659118342822</Id>
				<Name><![CDATA[OFFICE]]></Name>
			</Option>
			<Option>
				<Id>1659118344195</Id>
				<Name><![CDATA[SCHOOL]]></Name>
			</Option>
			<Option>
				<Id>1661512420149</Id>
				<Name><![CDATA[MT]]></Name>
			</Option>
			<Option>
				<Id>1664543832529</Id>
				<Name><![CDATA[HT]]></Name>
			</Option>
			<Option>
				<Id>1664543845215</Id>
				<Name><![CDATA[NONE]]></Name>
			</Option>
			<Option>
				<Id>1665480208045</Id>
				<Name><![CDATA[STEEL]]></Name>
			</Option>
			<Option>
				<Id>1665480220730</Id>
				<Name><![CDATA[INDUSTRY_OTHER]]></Name>
			</Option>
			<Option>
				<Id>1666967705762</Id>
				<Name><![CDATA[LOGISTICS]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659118426374</Id>
			<Name><![CDATA[OL_EnergyAssetType]]></Name>
			<Option>
				<Id>1669816033364</Id>
				<Name><![CDATA[ELECTRICITY_DEMAND]]></Name>
			</Option>
			<Option>
				<Id>1669815514091</Id>
				<Name><![CDATA[HEAT_DEMAND]]></Name>
			</Option>
			<Option>
				<Id>1659118426728</Id>
				<Name><![CDATA[WINDMILL]]></Name>
			</Option>
			<Option>
				<Id>1659118437009</Id>
				<Name><![CDATA[PHOTOVOLTAIC]]></Name>
			</Option>
			<Option>
				<Id>1659118482977</Id>
				<Name><![CDATA[PHOTOTHERMAL]]></Name>
			</Option>
			<Option>
				<Id>1659118532364</Id>
				<Name><![CDATA[GAS_BURNER]]></Name>
			</Option>
			<Option>
				<Id>1659454936646</Id>
				<Name><![CDATA[HEAT_PUMP_AIR]]></Name>
			</Option>
			<Option>
				<Id>1659454948025</Id>
				<Name><![CDATA[HEAT_PUMP_GROUND]]></Name>
			</Option>
			<Option>
				<Id>1659454952726</Id>
				<Name><![CDATA[STORAGE_HEAT]]></Name>
			</Option>
			<Option>
				<Id>1659703216848</Id>
				<Name><![CDATA[STORAGE_ELECTRIC]]></Name>
			</Option>
			<Option>
				<Id>1659954815659</Id>
				<Name><![CDATA[HOT_WATER_CONSUMPTION]]></Name>
			</Option>
			<Option>
				<Id>1660134509899</Id>
				<Name><![CDATA[HEAT_DELIVERY_SET]]></Name>
			</Option>
			<Option>
				<Id>1665501765513</Id>
				<Name><![CDATA[METHANE_FURNACE]]></Name>
			</Option>
			<Option>
				<Id>1665501776892</Id>
				<Name><![CDATA[HYDROGEN_FURNACE]]></Name>
			</Option>
			<Option>
				<Id>1666267116036</Id>
				<Name><![CDATA[BOILER]]></Name>
			</Option>
			<Option>
				<Id>1660202624229</Id>
				<Name><![CDATA[ELECTRIC_VEHICLE]]></Name>
			</Option>
			<Option>
				<Id>1666950754271</Id>
				<Name><![CDATA[ELECTRIC_HEAVY_GOODS_VEHICLE]]></Name>
			</Option>
			<Option>
				<Id>1668602156278</Id>
				<Name><![CDATA[DIESEL_VEHICLE]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659525715752</Id>
			<Name><![CDATA[OL_EAConversionTypes]]></Name>
			<Option>
				<Id>1659535854305</Id>
				<Name><![CDATA[HEATPUMP]]></Name>
			</Option>
			<Option>
				<Id>1659535860604</Id>
				<Name><![CDATA[GASBURNER]]></Name>
			</Option>
			<Option>
				<Id>1659535864564</Id>
				<Name><![CDATA[ELECTROLYSER]]></Name>
			</Option>
			<Option>
				<Id>1659535868209</Id>
				<Name><![CDATA[EBOILER]]></Name>
			</Option>
			<Option>
				<Id>1660131462165</Id>
				<Name><![CDATA[HEATDELIVERYSET]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659525726440</Id>
			<Name><![CDATA[OL_EAProductionTypes]]></Name>
			<Option>
				<Id>1659535893345</Id>
				<Name><![CDATA[PHOTOVOLTAIC]]></Name>
			</Option>
			<Option>
				<Id>1659535901330</Id>
				<Name><![CDATA[PHOTOTHERMAL]]></Name>
			</Option>
			<Option>
				<Id>1659950311558</Id>
				<Name><![CDATA[WINDMILL]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659525736586</Id>
			<Name><![CDATA[OL_EAConsumptionTypes]]></Name>
			<Option>
				<Id>1659535824593</Id>
				<Name><![CDATA[ELECTRICITY]]></Name>
			</Option>
			<Option>
				<Id>1659535830792</Id>
				<Name><![CDATA[HEAT]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659525748543</Id>
			<Name><![CDATA[OL_EAStorageTypes]]></Name>
			<Option>
				<Id>1659535943908</Id>
				<Name><![CDATA[ELECTRIC_BATTERY]]></Name>
			</Option>
			<Option>
				<Id>1659535950717</Id>
				<Name><![CDATA[ELECTRIC_VEHICLE]]></Name>
			</Option>
			<Option>
				<Id>1659535949187</Id>
				<Name><![CDATA[HEAT]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659535485693</Id>
			<Name><![CDATA[OL_EACategories]]></Name>
			<Option>
				<Id>1659535486263</Id>
				<Name><![CDATA[CONSUMPTION]]></Name>
			</Option>
			<Option>
				<Id>1659535492572</Id>
				<Name><![CDATA[CONVERSION]]></Name>
			</Option>
			<Option>
				<Id>1659535495564</Id>
				<Name><![CDATA[PRODUCTION]]></Name>
			</Option>
			<Option>
				<Id>1659535498309</Id>
				<Name><![CDATA[STORAGE]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659701773383</Id>
			<Name><![CDATA[OL_EAPresetConsumptionAssets]]></Name>
			<Option>
				<Id>1659701782496</Id>
				<Name><![CDATA[House_hot_water]]></Name>
			</Option>
			<Option>
				<Id>1659701773953</Id>
				<Name><![CDATA[House_other_electricity]]></Name>
			</Option>
			<Option>
				<Id>1659701788868</Id>
				<Name><![CDATA[Office_other_electricity]]></Name>
			</Option>
			<Option>
				<Id>1659701795639</Id>
				<Name><![CDATA[Store_other_electricity]]></Name>
			</Option>
			<Option>
				<Id>1665497737979</Id>
				<Name><![CDATA[Industry_steel_electricity]]></Name>
			</Option>
			<Option>
				<Id>1665497737980</Id>
				<Name><![CDATA[Industry_steel_heat]]></Name>
			</Option>
			<Option>
				<Id>1665497737981</Id>
				<Name><![CDATA[Industry_other_electricity]]></Name>
			</Option>
			<Option>
				<Id>1665497737982</Id>
				<Name><![CDATA[Industry_other_heat]]></Name>
			</Option>
			<Option>
				<Id>1667399177906</Id>
				<Name><![CDATA[Logistics_fleet_hgv_E]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659711659517</Id>
			<Name><![CDATA[OL_EAPresetConversionAssets]]></Name>
			<Option>
				<Id>1659711661606</Id>
				<Name><![CDATA[House_heatpump_MT_S]]></Name>
			</Option>
			<Option>
				<Id>1659711661607</Id>
				<Name><![CDATA[House_heatpump_MT_M]]></Name>
			</Option>
			<Option>
				<Id>1659711661608</Id>
				<Name><![CDATA[House_heatpump_MT_L]]></Name>
			</Option>
			<Option>
				<Id>1659711661609</Id>
				<Name><![CDATA[House_gas_burner]]></Name>
			</Option>
			<Option>
				<Id>1659711661610</Id>
				<Name><![CDATA[Electrolyser]]></Name>
			</Option>
			<Option>
				<Id>1660054094472</Id>
				<Name><![CDATA[DH_gas_burner_S]]></Name>
			</Option>
			<Option>
				<Id>1660131437985</Id>
				<Name><![CDATA[House_DH_heatdeliveryset]]></Name>
			</Option>
			<Option>
				<Id>1664544072424</Id>
				<Name><![CDATA[DH_heat_pump_HT_S]]></Name>
			</Option>
			<Option>
				<Id>1665500961507</Id>
				<Name><![CDATA[Industrial_methane_furnace]]></Name>
			</Option>
			<Option>
				<Id>1665500969196</Id>
				<Name><![CDATA[Industrial_hydrogen_furnace]]></Name>
			</Option>
			<Option>
				<Id>1666267164287</Id>
				<Name><![CDATA[DH_boiler_L]]></Name>
			</Option>
			<Option>
				<Id>1667996031710</Id>
				<Name><![CDATA[Building_gas_burner_60kW]]></Name>
			</Option>
			<Option>
				<Id>1667996045195</Id>
				<Name><![CDATA[Building_heatpump_20kW]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659950471000</Id>
			<Name><![CDATA[OL_EAPresetProductionAssets]]></Name>
			<Option>
				<Id>1659950531538</Id>
				<Name><![CDATA[House_solarpanels_S]]></Name>
			</Option>
			<Option>
				<Id>1659950534060</Id>
				<Name><![CDATA[House_solarpanels_M]]></Name>
			</Option>
			<Option>
				<Id>1659950555546</Id>
				<Name><![CDATA[House_solarpanels_L]]></Name>
			</Option>
			<Option>
				<Id>1659950562453</Id>
				<Name><![CDATA[Windmill_3MW]]></Name>
			</Option>
			<Option>
				<Id>1659950566729</Id>
				<Name><![CDATA[Windmill_5MW]]></Name>
			</Option>
			<Option>
				<Id>1659950570261</Id>
				<Name><![CDATA[Windmill_7MW]]></Name>
			</Option>
			<Option>
				<Id>1659970013275</Id>
				<Name><![CDATA[Solarpanels_0MW]]></Name>
			</Option>
			<Option>
				<Id>1667995960684</Id>
				<Name><![CDATA[Solarpanels_1MW]]></Name>
			</Option>
			<Option>
				<Id>1667995977424</Id>
				<Name><![CDATA[Solarpanels_2MW]]></Name>
			</Option>
			<Option>
				<Id>1667995970571</Id>
				<Name><![CDATA[Solarpanels_3MW]]></Name>
			</Option>
			<Option>
				<Id>1667995986536</Id>
				<Name><![CDATA[Solarpanels_4MW]]></Name>
			</Option>
			<Option>
				<Id>1667996880047</Id>
				<Name><![CDATA[Solarpanels_5MW]]></Name>
			</Option>
			<Option>
				<Id>1667995988427</Id>
				<Name><![CDATA[Solarpanels_10MW]]></Name>
			</Option>
			<Option>
				<Id>1667995990541</Id>
				<Name><![CDATA[Building_solarpanels_0kWp]]></Name>
			</Option>
			<Option>
				<Id>1667996008098</Id>
				<Name><![CDATA[Building_solarpanels_1kWp]]></Name>
			</Option>
			<Option>
				<Id>1667996006832</Id>
				<Name><![CDATA[Building_solarpanels_2kWp]]></Name>
			</Option>
			<Option>
				<Id>1667996013583</Id>
				<Name><![CDATA[Building_solarpanels_3kWp]]></Name>
			</Option>
			<Option>
				<Id>1667996015832</Id>
				<Name><![CDATA[Building_solarpanels_4kWp]]></Name>
			</Option>
			<Option>
				<Id>1667996018938</Id>
				<Name><![CDATA[Building_solarpanels_5kWp]]></Name>
			</Option>
			<Option>
				<Id>1667996020759</Id>
				<Name><![CDATA[Building_solarpanels_10kWp]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1660055228680</Id>
			<Name><![CDATA[OL_EAPresetStorageAssets]]></Name>
			<Option>
				<Id>1660055281773</Id>
				<Name><![CDATA[House_battery]]></Name>
			</Option>
			<Option>
				<Id>1660055281774</Id>
				<Name><![CDATA[House_heatmodel_A]]></Name>
			</Option>
			<Option>
				<Id>1660055281775</Id>
				<Name><![CDATA[House_heatmodel_B]]></Name>
			</Option>
			<Option>
				<Id>1660055281776</Id>
				<Name><![CDATA[House_heatmodel_C]]></Name>
			</Option>
			<Option>
				<Id>1660055281777</Id>
				<Name><![CDATA[House_heatmodel_D]]></Name>
			</Option>
			<Option>
				<Id>1660055281778</Id>
				<Name><![CDATA[House_heatmodel_E]]></Name>
			</Option>
			<Option>
				<Id>1660055281779</Id>
				<Name><![CDATA[House_heatmodel_F]]></Name>
			</Option>
			<Option>
				<Id>1660055281780</Id>
				<Name><![CDATA[House_heatmodel_G]]></Name>
			</Option>
			<Option>
				<Id>1660055281781</Id>
				<Name><![CDATA[EV]]></Name>
			</Option>
			<Option>
				<Id>1660055439251</Id>
				<Name><![CDATA[District_Heating_heat_buffer_HT_S]]></Name>
			</Option>
			<Option>
				<Id>1664536366729</Id>
				<Name><![CDATA[District_Heating_network_HT_S]]></Name>
			</Option>
			<Option>
				<Id>1664541052353</Id>
				<Name><![CDATA[District_Heating_network_MT_S]]></Name>
			</Option>
			<Option>
				<Id>1666959280721</Id>
				<Name><![CDATA[Grid_battery_1MWh]]></Name>
			</Option>
			<Option>
				<Id>1667757454119</Id>
				<Name><![CDATA[EHGV]]></Name>
			</Option>
			<Option>
				<Id>1667464089952</Id>
				<Name><![CDATA[Grid_battery_10MWh]]></Name>
			</Option>
			<Option>
				<Id>1667995942136</Id>
				<Name><![CDATA[Grid_battery_0MWh]]></Name>
			</Option>
			<Option>
				<Id>1667996898857</Id>
				<Name><![CDATA[Grid_battery_5MWh]]></Name>
			</Option>
			<Option>
				<Id>1668594477547</Id>
				<Name><![CDATA[EHGV_x50]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1660226249511</Id>
			<Name><![CDATA[OL_ActorType]]></Name>
			<Option>
				<Id>1660226249512</Id>
				<Name><![CDATA[CONNECTIONOWNER]]></Name>
			</Option>
			<Option>
				<Id>1660226249513</Id>
				<Name><![CDATA[ADMINISTRATIVEHOLON]]></Name>
			</Option>
			<Option>
				<Id>1660226249514</Id>
				<Name><![CDATA[ENERGYSUPPLIER]]></Name>
			</Option>
			<Option>
				<Id>1660226249515</Id>
				<Name><![CDATA[ENERGYHOLON]]></Name>
			</Option>
			<Option>
				<Id>1660577544099</Id>
				<Name><![CDATA[GRIDOPERATOR]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1660743989498</Id>
			<Name><![CDATA[OL_ContractType]]></Name>
			<Option>
				<Id>1660743990769</Id>
				<Name><![CDATA[ELECTRICITY_VARIABLE]]></Name>
			</Option>
			<Option>
				<Id>1660744001037</Id>
				<Name><![CDATA[ELECTRICITY_FIXED]]></Name>
			</Option>
			<Option>
				<Id>1660744101216</Id>
				<Name><![CDATA[HEAT_FIXED]]></Name>
			</Option>
			<Option>
				<Id>1660744105865</Id>
				<Name><![CDATA[METHANE_FIXED]]></Name>
			</Option>
			<Option>
				<Id>1660746114431</Id>
				<Name><![CDATA[HYDROGEN_FIXED]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1665486884039</Id>
			<Name><![CDATA[OL_GridConnectionHeatingType]]></Name>
			<Option>
				<Id>1665486884694</Id>
				<Name><![CDATA[GASBURNER]]></Name>
			</Option>
			<Option>
				<Id>1665486892834</Id>
				<Name><![CDATA[HEATPUMP_AIR]]></Name>
			</Option>
			<Option>
				<Id>1665486897604</Id>
				<Name><![CDATA[DISTRICTHEAT]]></Name>
			</Option>
			<Option>
				<Id>1665486901407</Id>
				<Name><![CDATA[NONE]]></Name>
			</Option>
			<Option>
				<Id>1665488083020</Id>
				<Name><![CDATA[HEATPUMP_GASPEAK]]></Name>
			</Option>
			<Option>
				<Id>1665488094233</Id>
				<Name><![CDATA[GASFIRED]]></Name>
			</Option>
			<Option>
				<Id>1665501223992</Id>
				<Name><![CDATA[HYDROGENFIRED]]></Name>
			</Option>
			<Option>
				<Id>1666258251099</Id>
				<Name><![CDATA[HEATPUMP_BOILERPEAK]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1665487983362</Id>
			<Name><![CDATA[OL_GridConnectionIsolationLabel]]></Name>
			<Option>
				<Id>1665487983978</Id>
				<Name><![CDATA[A]]></Name>
			</Option>
			<Option>
				<Id>1665487986412</Id>
				<Name><![CDATA[B]]></Name>
			</Option>
			<Option>
				<Id>1665487986996</Id>
				<Name><![CDATA[C]]></Name>
			</Option>
			<Option>
				<Id>1665487987672</Id>
				<Name><![CDATA[D]]></Name>
			</Option>
			<Option>
				<Id>1665487988212</Id>
				<Name><![CDATA[E]]></Name>
			</Option>
			<Option>
				<Id>1665487988752</Id>
				<Name><![CDATA[F]]></Name>
			</Option>
			<Option>
				<Id>1665487989247</Id>
				<Name><![CDATA[G]]></Name>
			</Option>
			<Option>
				<Id>1665487989742</Id>
				<Name><![CDATA[NONE]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1667742453792</Id>
			<Name><![CDATA[OL_MobilityPatternType]]></Name>
			<Option>
				<Id>1667742462468</Id>
				<Name><![CDATA[TRUCK]]></Name>
			</Option>
			<Option>
				<Id>1667742466151</Id>
				<Name><![CDATA[PRIVATE_VEHICLE]]></Name>
			</Option>
			<Option>
				<Id>1667742486158</Id>
				<Name><![CDATA[BUS]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1668361027279</Id>
			<Name><![CDATA[OL_ChargingAttitude]]></Name>
			<Option>
				<Id>1668361027280</Id>
				<Name><![CDATA[SIMPLE]]></Name>
			</Option>
			<Option>
				<Id>1668368194052</Id>
				<Name><![CDATA[MAX_SPREAD]]></Name>
			</Option>
			<Option>
				<Id>1668371973959</Id>
				<Name><![CDATA[MAX_POWER]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1668693527446</Id>
			<Name><![CDATA[OL_BatteryOperationMode]]></Name>
			<Option>
				<Id>1668693549846</Id>
				<Name><![CDATA[BALANCE]]></Name>
			</Option>
			<Option>
				<Id>1668693554312</Id>
				<Name><![CDATA[PRICE]]></Name>
			</Option>
		</OptionList>
	</OptionLists>
	<ActiveObjectClasses>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658477103140</Id>
			<Name><![CDATA[Main]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Import><![CDATA[import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.node.ObjectNode;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.node.ArrayNode;
import com.fasterxml.jackson.databind.node.TextNode;
import com.fasterxml.jackson.databind.node.NumericNode;
import com.fasterxml.jackson.core.type.TypeReference;
import java.io.FileOutputStream;
import java.util.stream.Stream;
import java.util.Dictionary.*;
import java.util.Hashtable.*;
import java.util.*;
import java.util.stream.Collectors;

import java.io.*;
import java.io.File;
import java.io.IOException;]]></Import>
			<StartupCode><![CDATA[double startTime = System.currentTimeMillis();
v_timeOfModelStart_ms = startTime;
traceln("--------------------------");
traceln("======= STARTING UP =======");
traceln("--------------------------");
traceln("");

// Get input
if( p_importLocalConfigJsons ) { f_importConfigs() ;}
f_readConfig();
f_loadParameters();

// Populate the model
f_configureBackBone();
if( b_addKpiVisuals ) { add_kpiVisuals() ;}

j_dataOut = new DataOut();
j_experimentSettingsData = new J_ExperimentSettingsData();
j_totalCostData = new J_TotalCostData();

double endTime = System.currentTimeMillis();
double duration = endTime - startTime;
v_modelStartUpDuration_s = roundToDecimal(duration / 1000, 3);

traceln(" ");
traceln("*** Start up finished *** ");
traceln("*** Start up duration: "+ v_modelStartUpDuration_s + " s ***");
traceln(" ");]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658477103138</Id>
				<Name><![CDATA[1658477103138]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658563200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[p_timeStep_h]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658477103136</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658477103139</CurrentLevel>
			<ConnectionsId>1658477103135</ConnectionsId>
			<Outputs>
				<Output>
					<Id>1661516161016</Id>
					<Name><![CDATA[o_outputConnectionOwnerJSON]]></Name>
					<X>-920</X><Y>690</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[String]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<ComputationMoment>MANUALLY</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1661587200000</ComputationDate>
				</Output>
				<Output>
					<Id>1661529224106</Id>
					<Name><![CDATA[o_outputExceptions]]></Name>
					<X>-920</X><Y>710</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[String]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<ComputationMoment>MANUALLY</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1661587200000</ComputationDate>
				</Output>
				<Output>
					<Id>1663238746791</Id>
					<Name><![CDATA[o_outputSettings]]></Name>
					<X>-920</X><Y>730</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[String]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<ComputationMoment>MANUALLY</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1663315200000</ComputationDate>
				</Output>
				<Output>
					<Id>1663255244236</Id>
					<Name><![CDATA[o_outputTrigger]]></Name>
					<X>-920</X><Y>790</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[double]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<Value Class="CodeValue">
						<Code><![CDATA[f_returnKPIData(true)]]></Code>
					</Value>
					<ComputationMoment>ON_SIMULATION_END</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1663315200000</ComputationDate>
				</Output>
				<Output>
					<Id>1666880542545</Id>
					<Name><![CDATA[o_totalCostData]]></Name>
					<X>-920</X><Y>750</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[String]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<ComputationMoment>MANUALLY</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1666944000000</ComputationDate>
				</Output>
			</Outputs>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1659356181110</Id>
					<Name><![CDATA[v_currentHouseHoldOtherElectricityDemand_fr]]></Name>
					<Description><![CDATA[Fraction of yearly demand in MWh per hour, multiplied by demand in MWh per year = MW for that hour]]></Description>
					<X>540</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659356201846</Id>
					<Name><![CDATA[v_currentWindPowerNormalized_r]]></Name>
					<X>540</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659356216131</Id>
					<Name><![CDATA[v_currentSolarPowerNormalized_r]]></Name>
					<X>540</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659364131698</Id>
					<Name><![CDATA[v_currentAmbientTemperature_degC]]></Name>
					<X>540</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663238634515</Id>
					<Name><![CDATA[v_timeStepsElapsed]]></Name>
					<X>830</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663243393136</Id>
					<Name><![CDATA[v_timeOfModelStart_ms]]></Name>
					<X>830</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663246198254</Id>
					<Name><![CDATA[v_modelStartUpDuration_s]]></Name>
					<X>830</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664530118871</Id>
					<Name><![CDATA[v_currentBuildingOtherElectricityDemand_fr]]></Name>
					<Description><![CDATA[Fraction of yearly demand in MWh per hour, multiplied by demand in MWh per year = MW for that hour]]></Description>
					<X>540</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664533236896</Id>
					<Name><![CDATA[v_currentHouseHoldHotWaterDemand_fr]]></Name>
					<X>540</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665499321012</Id>
					<Name><![CDATA[v_currentIndustrySteelElectricityDemand_fr]]></Name>
					<X>540</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665499340739</Id>
					<Name><![CDATA[v_currentIndustrySteelHeatDemand_fr]]></Name>
					<X>540</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665499362356</Id>
					<Name><![CDATA[v_currentIndustryOtherElectricityDemand_fr]]></Name>
					<X>540</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665499375110</Id>
					<Name><![CDATA[v_currentIndustryOtherHeatDemand_fr]]></Name>
					<X>540</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666879575045</Id>
					<Name><![CDATA[v_gridNodePeakLoadElectricityMSLS_kW]]></Name>
					<Description><![CDATA[Absolute piekbelastingen MSLS-nodes over de modelrun opgeteld voor externe berekening netinfrastructuurkosten.

@author: JorritvandenHouten
@since: 27-10-2022]]></Description>
					<X>-560</X><Y>580</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666879592543</Id>
					<Name><![CDATA[v_gridNodePeakLoadElectricityHSMS_kW]]></Name>
					<Description><![CDATA[Absolute piekbelasting(en) HSMS-node(s) over de modelrun opgeteld voor externe berekening netinfrastructuurkosten.

@author: JorritvandenHouten
@since: 27-10-2022]]></Description>
					<X>-560</X><Y>600</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666945456285</Id>
					<Name><![CDATA[v_totalElectricityImport_MWh]]></Name>
					<Description><![CDATA[Totale import van net-electriciteit het systeem in over de modelrun, gelijk aan de electriciteit geïmporteerd via de HSMS gridnode(s). Berekend aan het einde van de modelrun in f_sumGridNodeLoads(). Gebruikt voor totale kosten-berekening buiten het model en voor model-verificatie.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>-560</X><Y>660</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666945464449</Id>
					<Name><![CDATA[v_totalElectricityExport_MWh]]></Name>
					<Description><![CDATA[Totale export van net-electriciteit het systeem uit over de modelrun, gelijk aan de electriciteit geëxporteerd via de HSMS gridnode(s). Berekend aan het einde van de modelrun in f_sumGridNodeLoads().  Gebruikt voor totale kosten-berekening buiten het model en voor model-verificatie.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>-560</X><Y>680</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666945472961</Id>
					<Name><![CDATA[v_totalMethaneImport_MWh]]></Name>
					<Description><![CDATA[Totale import van methaan het systeem in over de modelrun, gelijk aan de methaan geïmporteerd door alle gridconnections. Berekend aan het einde van de modelrun in f_sumMolecularEnergyFlows(). Gebruikt voor totale kosten-berekening buiten het model en voor model-verificatie.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>-560</X><Y>700</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666945480077</Id>
					<Name><![CDATA[v_totalHydrogenImport_MWh]]></Name>
					<Description><![CDATA[Totale import van methaan het systeem in over de modelrun, gelijk aan de methaan geïmporteerd door alle gridconnections. Berekend aan het einde van de modelrun in f_sumMolecularEnergyFlows(). Gebruikt voor totale kosten-berekening buiten het model en voor model-verificatie.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>-560</X><Y>740</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666945779438</Id>
					<Name><![CDATA[v_totalHydrogenExport_MWh]]></Name>
					<Description><![CDATA[Totale export van waterstof het systeem uit over de modelrun, gelijk aan de waterstof geexporteerd door alle gridconnections. Berekend aan het einde van de modelrun in f_sumMolecularEnergyFlows(). Gebruikt voor totale kosten-berekening buiten het model en voor model-verificatie.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>-560</X><Y>760</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666945977336</Id>
					<Name><![CDATA[v_totalMethaneExport_MWh]]></Name>
					<Description><![CDATA[Totale export van methaan het systeem uit over de modelrun, gelijk aan de methaan geexporteerd door alle gridconnections. Berekend aan het einde van de modelrun in f_sumMolecularEnergyFlows(). Gebruikt voor totale kosten-berekening buiten het model en voor model-verificatie.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>-560</X><Y>720</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666979598282</Id>
					<Name><![CDATA[v_totalBatteryChargeAmount_MWh]]></Name>
					<X>-560</X><Y>810</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666979615893</Id>
					<Name><![CDATA[v_totalBatteryDischargeAmount_MWh]]></Name>
					<X>-560</X><Y>830</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666979627442</Id>
					<Name><![CDATA[v_totalBatteryInstalledCapacity_MWh]]></Name>
					<X>-560</X><Y>850</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667397284001</Id>
					<Name><![CDATA[v_currentLogisticsFleetEDemand_fr]]></Name>
					<X>540</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668613097127</Id>
					<Name><![CDATA[v_totalDieselImport_MWh]]></Name>
					<X>-560</X><Y>780</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669026980656</Id>
					<Name><![CDATA[v_totalBatteryEnergyUsed_MWh]]></Name>
					<X>-560</X><Y>950</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1658496701675</Id>
					<Name><![CDATA[p_timeStep_h]]></Name>
					<Description><![CDATA[Model timestep in uren. Kan in experimenten aangepast worden naar wens.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>-990</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0.25]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1658496701673</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658752734133</Id>
					<Name><![CDATA[b_addKpiVisuals]]></Name>
					<Description><![CDATA[Schakelaar om optionele visualisatie-agent te creëren.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-990</X><Y>460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[true]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1658752734131</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1659521098545</Id>
					<Name><![CDATA[p_undergroundTemperature_degC]]></Name>
					<Description><![CDATA[Constante ondergrondtemperatuur voor gebruik in bijv. loss-functions voor heatStorage en efficientieberekeningen van bodemwarmtepompen. Per modelrun ingelezen vanuit externe database en gelinkte excelsheet.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-990</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1659521098543</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1661500135010</Id>
					<Name><![CDATA[p_gridNodeConfigJSON]]></Name>
					<X>-390</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1661500135008</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1661509540475</Id>
					<Name><![CDATA[p_gridConnectionConfigJSON]]></Name>
					<X>-390</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1661509540473</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1661510358303</Id>
					<Name><![CDATA[p_actorsConfigJSON]]></Name>
					<X>-390</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1661510358301</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1661510407466</Id>
					<Name><![CDATA[p_energyAssetsConfigJSON]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-1270</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA["[{\"index\":0,\"agenttype\":\"energyAsset\",\"id\":\"a1\",\"type\":\"PRODUCTION\",\"type2\":\"WINDMILL\",\"parent\":\"b25\",\"capacity_electric_kw\":3000,\"capacity_heat_kw\":0},{\"index\":1,\"agenttype\":\"energyAsset\",\"id\":\"a2\",\"type\":\"PRODUCTION\",\"type2\":\"WINDMILL\",\"parent\":\"b25\",\"capacity_electric_kw\":5000,\"capacity_heat_kw\":0},{\"index\":2,\"agenttype\":\"energyAsset\",\"id\":\"a3\",\"type\":\"PRODUCTION\",\"type2\":\"WINDMILL\",\"parent\":\"b26\",\"capacity_electric_kw\":5000,\"capacity_heat_kw\":0},{\"index\":3,\"agenttype\":\"energyAsset\",\"id\":\"a4\",\"type\":\"PRODUCTION\",\"type2\":\"WINDMILL\",\"parent\":\"b26\",\"capacity_electric_kw\":3000,\"capacity_heat_kw\":0},{\"index\":4,\"agenttype\":\"energyAsset\",\"id\":\"a5\",\"type\":\"PRODUCTION\",\"type2\":\"PHOTOVOLTAIC\",\"parent\":\"b27\",\"capacity_electric_kw\":1000,\"capacity_heat_kw\":0},{\"index\":5,\"agenttype\":\"energyAsset\",\"id\":\"a6\",\"type\":\"PRODUCTION\",\"type2\":\"PHOTOVOLTAIC\",\"parent\":\"b27\",\"capacity_electric_kw\":1000,\"capacity_heat_kw\":0}]"]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1661510407464</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1663239405341</Id>
					<Name><![CDATA[j_dataOut]]></Name>
					<X>-920</X><Y>620</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[DataOut]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1663239405339</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1663242364390</Id>
					<Name><![CDATA[j_experimentSettingsData]]></Name>
					<X>-900</X><Y>640</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_ExperimentSettingsData]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1663242364388</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1663318124014</Id>
					<Name><![CDATA[p_importLocalConfigJsons]]></Name>
					<Description><![CDATA[Vink dit aan als je experimenten wil doen met jsons op de schijf. Uitzetten voor gebruik in de cloud!

@author: JorritvandenHouten
@since: Sprint 7]]></Description>
					<X>-990</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[true]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1663318124012</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1663325373671</Id>
					<Name><![CDATA[p_forceUncached]]></Name>
					<Description><![CDATA[Niet gebruikt in model zelf, kan vrij gewijzigd worden om uncached cloud experiments te forceren

@author: JorritvandenHouten
@since: Sprint 7]]></Description>
					<X>-990</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1663325373669</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1663577621793</Id>
					<Name><![CDATA[p_parallelize]]></Name>
					<Description><![CDATA[Model timestep in uren. Kan in experimenten aangepast worden naar wens.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>-990</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1663577621791</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1665505197939</Id>
					<Name><![CDATA[p_policiesConfigJSON]]></Name>
					<X>-390</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1665505197937</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1666880315951</Id>
					<Name><![CDATA[j_totalCostData]]></Name>
					<X>-900</X><Y>660</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_TotalCostData]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1666880315949</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1661504944109</Id>
					<Name><![CDATA[parsedJSONGridNodes]]></Name>
					<X>-320</X><Y>-130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[HashMap]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1661510454747</Id>
					<Name><![CDATA[parsedJSONGridConnections]]></Name>
					<X>-320</X><Y>-110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[HashMap]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1661510457715</Id>
					<Name><![CDATA[parsedJSONActors]]></Name>
					<X>-320</X><Y>-90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[HashMap]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1661510460035</Id>
					<Name><![CDATA[parsedJSONEnergyAssets]]></Name>
					<X>-320</X><Y>-70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[HashMap]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663238323139</Id>
					<Name><![CDATA[c_connectionOwners]]></Name>
					<X>1110</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[ConnectionOwner]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663251681035</Id>
					<Name><![CDATA[c_gridNodesHSMS]]></Name>
					<X>1110</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663252052482</Id>
					<Name><![CDATA[c_gridNodesMSLS]]></Name>
					<X>1110</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663312177330</Id>
					<Name><![CDATA[c_gridConnections]]></Name>
					<X>1110</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridConnection]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663336485480</Id>
					<Name><![CDATA[c_gridNodesHeat]]></Name>
					<X>1110</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664539599603</Id>
					<Name><![CDATA[c_gridNodes]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-1270</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664953351408</Id>
					<Name><![CDATA[c_productionAssets]]></Name>
					<X>1110</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1665492426842</Id>
					<Name><![CDATA[c_ambientAirDependentAssets]]></Name>
					<X>1110</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1665505167864</Id>
					<Name><![CDATA[parsedJSONPolicies]]></Name>
					<X>-320</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[HashMap]]></ElementClass>
						<ValueElementClass><![CDATA[Object]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666884023719</Id>
					<Name><![CDATA[c_globalElectricityImportProfile_MWhph]]></Name>
					<X>-730</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666884311850</Id>
					<Name><![CDATA[c_globalElectricityExportProfile_MWhph]]></Name>
					<X>-730</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666978650654</Id>
					<Name><![CDATA[c_storageAssets]]></Name>
					<X>1110</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666981403077</Id>
					<Name><![CDATA[c_totalBatteryChargeAmount_MWh]]></Name>
					<X>-560</X><Y>870</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[String]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666984250257</Id>
					<Name><![CDATA[c_totalBatteryDischargeAmount_MWh]]></Name>
					<X>-560</X><Y>890</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[String]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666984296429</Id>
					<Name><![CDATA[c_totalBatteryInstalledCapacity_MWh]]></Name>
					<X>-560</X><Y>910</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[String]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1667300034779</Id>
					<Name><![CDATA[c_totalBatteryUnitsInstalled]]></Name>
					<X>-560</X><Y>930</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[String]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1667553304068</Id>
					<Name><![CDATA[c_timesOfNodePeakLoads_h]]></Name>
					<X>-560</X><Y>620</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[String]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1668007771830</Id>
					<Name><![CDATA[c_globalEVChargingProfile_kWhph]]></Name>
					<X>-730</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1668007790848</Id>
					<Name><![CDATA[c_globalEHGVChargingProfile_kWhph]]></Name>
					<X>-730</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1668007805687</Id>
					<Name><![CDATA[c_globalBatteryChargingProfile_kWhph]]></Name>
					<X>-730</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1669725679330</Id>
					<Name><![CDATA[c_gridConnectionOverload_fr]]></Name>
					<X>-560</X><Y>640</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[String]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Events>
				<Event>
					<Id>1658497469833</Id>
					<Name><![CDATA[e_calculateEnergyBalance]]></Name>
					<Description><![CDATA[Trigger voor energieberekeningen in de model backbone. Volgorde is belangrijk voor consistente resultaten.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>50</X><Y>670</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1658563200000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[0]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[p_timeStep_h]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[// Update tijdreeksen in leesbare variabelen
f_updateTimeseries();

// Update productie van alle productieassets binnen
//f_calculateProductionAssetOutput();

// Operate consumption assets and update flows
//f_calculateConsumptionAssets();

// Operate assets on each gridConnection
f_calculateGridConnectionFlows();

// Calculate grid node flows
f_calculateGridnodeFlows();

// Financial accounting of energy flows
f_calculateFinancialFlows();

// Update elektriciteitsprijzen
f_determinePricesForNextTimestep();

if (b_addKpiVisuals) {
	kpiVisuals(0).f_updateVisuals();
}

v_timeStepsElapsed ++;
]]></Action>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658478826439</Id>
					<Name><![CDATA[f_configureBackBone]]></Name>
					<Description><![CDATA[Generieke functie die flexibele modelconfiguratie mogelijk maakt op basis van externe data. Expliciet gemodelleerd om profiling en volgorde van initialisatie te kunnen controleren.

@param: none
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-720</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[f_createActors();
f_createGridNodes();
f_createGridConnections();
f_setActorPolicies();]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658494691805</Id>
					<Name><![CDATA[f_readConfig]]></Name>
					<Description><![CDATA[Functie om handmatig databases te updaten vanuit custom database connection objecten (niet aanwezig als het model is opgeslagen met Gillis' AnyLogic-versie). Gebruikt om mogelijk externe database-connecties (via URLs) te kunnen implementeren, en voor profiling doeleinden.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-720</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// create a mapper to parse the JSON file
ObjectMapper mapper = new ObjectMapper();

// open the json file using java.io.File and cast it to an ArrayList
//GridNode config
try {
parsedJSONGridNodes = mapper.readValue(
		p_gridNodeConfigJSON,    // <--- THIS PART CHANGED!
		ArrayList.class);

} catch (IOException e) {
e.printStackTrace();
update_o_outputExceptions(e.getMessage());
}

//GridConnection config
try {
parsedJSONGridConnections = mapper.readValue(
		p_gridConnectionConfigJSON,    // <--- THIS PART CHANGED!
		ArrayList.class);

} catch (IOException e) {
e.printStackTrace();
update_o_outputExceptions(e.getMessage());
}

//Actor config
try {
parsedJSONActors = mapper.readValue(
		p_actorsConfigJSON,    // <--- THIS PART CHANGED!
		ArrayList.class);

} catch (IOException e) {
e.printStackTrace();
update_o_outputExceptions(e.getMessage());
}

// Policies config
try {
parsedJSONPolicies = mapper.readValue(
		p_policiesConfigJSON,    // <--- THIS PART CHANGED!
		ArrayList.class);

} catch (IOException e) {
e.printStackTrace();
update_o_outputExceptions(e.getMessage());
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658496886351</Id>
					<Name><![CDATA[f_readParameters]]></Name>
					<Description><![CDATA[Functie om handmatig de parameterdatabase te updaten vanuit custom database connection object (niet aanwezig als het model is opgeslagen met Gillis' AnyLogic-versie). Gebruikt om mogelijk externe database-connecties (via URLs) te kunnen implementeren, en voor profiling doeleinden.

@since: Sprint 6
@author: Jorrit]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-1270</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// read backbone config database
ModelDatabase sheet1 = getEngine().getModelDatabase();
Connection sourceConnection = db_backboneParams.getConnection();
Connection targetConnection = sheet1.getConnection();
sheet1.importFromExternalDB(sourceConnection, "params", "params", true, true);
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659085548820</Id>
					<Name><![CDATA[f_addDefaultEnergyAssets]]></Name>
					<Description><![CDATA[Functie om default energy assets toe te kunnen kennen aan netConnection-agent op basis van hun type. Nu ook gebruikt als testbed van de model backbone.

@param: none
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-1270</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for (GridConnection n : c_gridConnections) {
	OL_GridConnectionCategory gridConnectionCategory = n.p_gridConnectionCategory;
	OL_GridConnectionType gridConnectionType = n.p_gridConnectionType;
	OL_GridConnectionHeatingType heatingType = n.p_heatingType;
	
	if( gridConnectionCategory == OL_GridConnectionCategory.HOUSE ) {
		OL_GridConnectionIsolationLabel isolationLabel = ((GCHouse)n).p_isolationLabel;
		// testing import of default energyAsset
		//f_addPresetConsumptionAsset( n, OL_EAPresetConsumptionAssets.House_other_electricity);
		//f_addPresetConsumptionAsset( n, OL_EAPresetConsumptionAssets.House_hot_water );

		/*switch(isolationLabel) {
			case A:
				f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_heatmodel_A);
			break;
			case B:
				f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_heatmodel_B);
			break;
			case C:
				f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_heatmodel_C);
			break;
			case D:
				f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_heatmodel_D);
			break;
			case E:
				f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_heatmodel_E);
			break;
			case F:
				f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_heatmodel_F);
			break;
			case G:
				f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.House_heatmodel_G);
			break;
			default:
				traceln("f_addDefaultEnergyAssets: house without valid label");
			break;
		}
		*/
		if( n.p_parentNodeHeatID != null && heatingType == DISTRICTHEAT ) {
	//		f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.House_DH_heatdeliveryset );
		}
		else if(heatingType == OL_GridConnectionHeatingType.GASBURNER ) {
	//		f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.House_gas_burner);
		}
		else if(heatingType == OL_GridConnectionHeatingType.HEATPUMP_GASPEAK) {
	//		f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.House_heatpump_MT_M);
	//		f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.House_gas_burner);
		}
//		f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.EV);
	}

	if( gridConnectionCategory == OL_GridConnectionCategory.BUILDING ) {
		switch(gridConnectionType) {
			case OFFICE:
				//f_addPresetConsumptionAsset( n, OL_EAPresetConsumptionAssets.Office_other_electricity);
			break;
			case STORE:
				//f_addPresetConsumptionAsset( n, OL_EAPresetConsumptionAssets.Store_other_electricity);
			break;
			case LOGISTICS:
				//f_addPresetConsumptionAsset( n, OL_EAPresetConsumptionAssets.Store_other_electricity);
			break;
			default:
				traceln("f_addDefaultEnergyAssets: not a valid building type!");
			break;
		}

		if( n.p_parentNodeHeatID != null ) {
	//		f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.House_DH_heatdeliveryset );
		}
		else {
	//		f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.House_gas_burner);
		}
	}

	if( gridConnectionCategory == OL_GridConnectionCategory.DISTRICTHEATING )  {
		//f_addPresetStorageAsset( n, OL_EAPresetStorageAssets.District_Heating_heat_buffer_HT_S );

		switch( heatingType ) {
			case GASFIRED:
	//			f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.DH_gas_burner_S );
			break;
			case HEATPUMP_GASPEAK:
	//			f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.DH_heat_pump_HT_S );
	//			f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.DH_gas_burner_S );
			break;
			case HEATPUMP_BOILERPEAK:
	//			f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.DH_heat_pump_HT_S );
	//			f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.DH_boiler_L );
			break;
			default:
				traceln("no such DH heat source modeled yet");
			break;
		}
	}

	if( gridConnectionCategory == OL_GridConnectionCategory.INDUSTRY ) {
		switch( gridConnectionType ) {
			case STEEL:
				traceln("steel industry for setup");
				f_addPresetConsumptionAsset( n, OL_EAPresetConsumptionAssets.Industry_steel_electricity );
				f_addPresetConsumptionAsset( n, OL_EAPresetConsumptionAssets.Industry_steel_heat );
			break;
			case INDUSTRY_OTHER:
				traceln("other industry for setup");
				//f_addPresetConsumptionAsset( n, OL_EAPresetConsumptionAssets.Industry_other_electricity );
				//f_addPresetConsumptionAsset( n, OL_EAPresetConsumptionAssets.Industry_other_heat );  // Commented out to focus on electricity for now [GH 08/11/2022]
			break;
			default:
				traceln("exception: no default energy assets defined for this industry type!");
			break;
		}

		switch( heatingType ) {
			case GASFIRED:
	//			f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.Industrial_methane_furnace );
			break;
			case HYDROGENFIRED:
	//			f_addPresetConversionAsset( n, OL_EAPresetConversionAssets.Industrial_hydrogen_furnace );
			break;
		}
	}


}

for(GridNode g : c_gridNodesHeat) {
	OL_GridNodeType nodeType = g.p_nodeType;

	if( nodeType == OL_GridNodeType.HT ) {
		//traceln("f_addDefaultEnergyAssets debug: heat network storage asset added for gridNode "+g.toString());
		f_addPresetStorageAsset( g, OL_EAPresetStorageAssets.District_Heating_network_HT_S );
	}
	else if( nodeType == OL_GridNodeType.MT ) {
		//traceln("f_addDefaultEnergyAssets debug: heat network storage asset added for gridNode "+g.toString());
		f_addPresetStorageAsset( g, OL_EAPresetStorageAssets.District_Heating_network_MT_S );
	}
}
//});
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659111937777</Id>
					<Name><![CDATA[f_loadParameters]]></Name>
					<Description><![CDATA[Functie om parameterwaarden extern (data-agnost) in te laden bij model startup, expliciet gemodelleerd voor profiling-doeleinden.
@param: none
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-720</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Set backbone physical parameters
p_undergroundTemperature_degC = (double) selectFrom(params)
	.where(params.parameter.eq("p_undergroundTemperature_degC"))
	.firstResult(params.value);]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659700031259</Id>
					<Name><![CDATA[f_addPresetConsumptionAsset]]></Name>
					<Description><![CDATA[Generieke functie gebruikt om default energy assets van type CONSUMPTION met bijbehorende parameterwaarden toe te kunnen voegen.

@param: ownerAgent gridconnection waar de energyAsset op aangesloten is (in principe een netConnection).
@param: consumptionAssetPreset een van de beschikbare default energy assets van type CONSUMPTION
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-1270</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ownerAgent]]></Name>
						<Type><![CDATA[Object]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[consumptionAssetPreset]]></Name>
						<Type><![CDATA[OL_EAPresetConsumptionAssets]]></Type>
					</Parameter>
					<Body><![CDATA[String parentAgentID;

if( ownerAgent instanceof GridConnection ) {
	ownerAgent = (GridConnection)ownerAgent;
	parentAgentID = ((GridConnection) ownerAgent).p_agentID;
}
else if(ownerAgent instanceof GridNode ){
	ownerAgent = (GridNode)ownerAgent;
	parentAgentID = ((GridNode) ownerAgent).p_agentID;
}
else {
	parentAgentID = ownerAgent.toString();
	ownerAgent = (GridConnection)findFirst(c_gridConnections, p->p.p_agentID.equals(parentAgentID));
}

List< Tuple > data = selectFrom( consumption_assets ).where( consumption_assets.name.eq( consumptionAssetPreset ) ).
list();
if( data.size() == 0 ) {
	traceln("f_addPresetConsumptionAsset: unlisted preset consumption asset '"+consumptionAssetPreset+"'! Nothing added");
}

double yearlyDemandElectricity_kWh = 0;
double yearlyDemandHeat_kWh = 0;
OL_EnergyAssetType assetType = null;

for( Tuple tup : data ) {
	assetType = tup.get( consumption_assets.energy_asset_type );
	yearlyDemandElectricity_kWh = tup.get( consumption_assets.yearly_demand_electricity_kwh );
	yearlyDemandHeat_kWh = tup.get( consumption_assets.yearly_demand_heat_kwh );
}

EnergyAsset e = add_pop_energyAssets( null, parentAgentID,  assetType, consumptionAssetPreset.toString() );
e.f_instantiateConsumerAsset( assetType, yearlyDemandElectricity_kWh, yearlyDemandHeat_kWh );
e.f_connectToParentNode( (Agent)ownerAgent );
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659711553858</Id>
					<Name><![CDATA[f_addPresetConversionAsset]]></Name>
					<Description><![CDATA[Generieke functie gebruikt om default energy assets van type CONVERSION met bijbehorende parameterwaarden toe te kunnen voegen.

@param: ownerAgent gridconnection waar de energyAsset op aangesloten is (in principe een netConnection).
@param: conversionAssetPreset een van de beschikbare default energy assets van type CONVERSION
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-1270</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ownerAgent]]></Name>
						<Type><![CDATA[Object]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[conversionAssetPreset]]></Name>
						<Type><![CDATA[OL_EAPresetConversionAssets]]></Type>
					</Parameter>
					<Body><![CDATA[String parentAgentID;

if( ownerAgent instanceof GridConnection ) {
	ownerAgent = (GridConnection)ownerAgent;
	parentAgentID = ((GridConnection) ownerAgent).p_agentID;
}
else if( ownerAgent instanceof GridNode ){
	ownerAgent = (GridNode)ownerAgent;
	parentAgentID = ((GridNode) ownerAgent).p_agentID;
}
else {
	parentAgentID = ownerAgent.toString();
	ownerAgent = (GridConnection)findFirst(c_gridConnections, p->p.p_agentID.equals(parentAgentID));
}

List< Tuple > data = selectFrom( conversion_assets ).where( conversion_assets.name.eq( conversionAssetPreset ) ).
list();

OL_EnergyAssetType assetType = null;
double capacityElectricity_kW = 0;
double capacityHeat_kW = 0;
double eta_r = 0;
double deliveryTemp_degC = 0;
String ambientTempType = "";
double energyConsumption_kWhpkm = 0;
double vehicleScaling = 0;

for( Tuple tup : data ) {
	assetType = tup.get( conversion_assets.energy_asset_type );
	capacityElectricity_kW = tup.get( conversion_assets.capacity_electricity_kw );
	capacityHeat_kW = tup.get( conversion_assets.capacity_heat_kw );
	eta_r = tup.get( conversion_assets.eta_r );
	deliveryTemp_degC = tup.get( conversion_assets.delivery_temp_deg_c );
	ambientTempType = tup.get( conversion_assets.ambient_temp_type );
	energyConsumption_kWhpkm = tup.get( conversion_assets.energy_consumption_kwhpkm );
	vehicleScaling = tup.get( conversion_assets.vehicle_scaling );
}

EnergyAsset e = add_pop_energyAssets( null, parentAgentID, assetType, conversionAssetPreset.toString() );
e.f_instantiateConverterAsset( assetType, capacityElectricity_kW, capacityHeat_kW, eta_r, deliveryTemp_degC, ambientTempType, energyConsumption_kWhpkm, vehicleScaling  );
e.f_connectToParentNode( (Agent)ownerAgent );]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659969608266</Id>
					<Name><![CDATA[f_addPresetProductionAsset]]></Name>
					<Description><![CDATA[Generieke functie gebruikt om default energy assets van type PRODUCTION met bijbehorende parameterwaarden toe te kunnen voegen.

@param: ownerAgent gridconnection waar de energyAsset op aangesloten is (in principe een netConnection).
@param: productionAssetPreset een van de beschikbare default energy assets van type PRODUCTION
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-1270</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ownerAgent]]></Name>
						<Type><![CDATA[Object]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[productionAssetPreset]]></Name>
						<Type><![CDATA[OL_EAPresetProductionAssets]]></Type>
					</Parameter>
					<Body><![CDATA[String parentAgentID;

if( ownerAgent instanceof GridConnection ) {
	ownerAgent = (GridConnection)ownerAgent;
	parentAgentID = ((GridConnection) ownerAgent).p_agentID;
}
else if( ownerAgent instanceof GridNode ){
	ownerAgent = (GridNode)ownerAgent;
	parentAgentID = ((GridNode) ownerAgent).p_agentID;
}
else {
	parentAgentID = ownerAgent.toString();
	ownerAgent = (GridConnection)findFirst(c_gridConnections, p->p.p_agentID.equals(parentAgentID));
}

List< Tuple > data = selectFrom( production_assets ).where( production_assets.name.eq( productionAssetPreset ) ).
list();

double capacityElectricity_kW = 0;
double capacityHeat_kW = 0;
OL_EnergyAssetType assetType = null;

for( Tuple tup : data ) {
	assetType = tup.get( production_assets.energy_asset_type );
	capacityElectricity_kW = tup.get( production_assets.capacity_electricity_kw );
	capacityHeat_kW = tup.get( production_assets.capacity_heat_kw );
}

EnergyAsset e = add_pop_energyAssets( null, parentAgentID, assetType, productionAssetPreset.toString() );
e.f_instantiateProducerAsset( assetType, capacityElectricity_kW, capacityHeat_kW );
e.f_connectToParentNode( (Agent)ownerAgent );
c_productionAssets.add(e);
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660055523949</Id>
					<Name><![CDATA[f_addPresetStorageAsset]]></Name>
					<Description><![CDATA[Generieke functie gebruikt om default energy assets van type STORAGE met bijbehorende parameterwaarden toe te kunnen voegen.

@param: ownerAgent gridconnection waar de energyAsset op aangesloten is (in principe een netConnection).
@param: storageAssetPreset een van de beschikbare default energy assets van type STORAGE
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-720</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ownerAgent]]></Name>
						<Type><![CDATA[Object]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[storageAssetPreset]]></Name>
						<Type><![CDATA[OL_EAPresetStorageAssets]]></Type>
					</Parameter>
					<Body><![CDATA[//Determine parent agent
String parentAgentID;
if( ownerAgent instanceof GridConnection ) {
	ownerAgent = (GridConnection)ownerAgent;
	parentAgentID = ((GridConnection) ownerAgent).p_agentID;
}
else if ( ownerAgent instanceof GridNode ) {
	ownerAgent = (GridNode)ownerAgent;
	parentAgentID = ((GridNode) ownerAgent).p_agentID;
}
else {
	parentAgentID = ownerAgent.toString();
	ownerAgent = (GridConnection)findFirst(c_gridConnections, p->p.p_agentID.equals(parentAgentID));
}

//Get preset input from DB
List< Tuple > data = selectFrom( storage_assets ).where( storage_assets.name.eq( storageAssetPreset ) ).
list();

OL_EnergyAssetType assetType = null;
String energyAssetPresetName = storageAssetPreset.toString();
double capacityElectricity_kW = 0;
double capacityHeat_kW = 0;
double stateOfCharge_r = 0;
double lossFactor_WpK = 0;
double storageCapacity_kWh = 0;
double heatCapacity_JpK = 0;
double minTemperature_degC = 0;
double maxTemperature_degC = 0;
double setTemperature_degC = 0;
String ambientTempType = "";
double energyConsumption_kWhpkm = 0;
double vehicleScaling = 1;

for( Tuple tup : data ) {
	assetType = tup.get( storage_assets.energy_asset_type );
	capacityElectricity_kW = tup.get( storage_assets.capacity_electricity_kw );
	capacityHeat_kW = tup.get( storage_assets.capacity_heat_kw );
	stateOfCharge_r =  tup.get( storage_assets.state_of_charge_r );
	lossFactor_WpK =  tup.get( storage_assets.loss_factor_wpk );
	storageCapacity_kWh =  tup.get( storage_assets.storage_capacity_kwh );
	heatCapacity_JpK =  tup.get( storage_assets.heat_capacity_jpk );
	minTemperature_degC = tup.get( storage_assets.min_temp_degc);
	maxTemperature_degC = tup.get( storage_assets.max_temp_degc);
	setTemperature_degC = tup.get( storage_assets.set_temp_degc);
	ambientTempType = tup.get( storage_assets.ambient_temp_type);
	energyConsumption_kWhpkm = tup.get (storage_assets.energy_consumption_kwhpkm);
	vehicleScaling = tup.get(storage_assets.vehicle_scaling);
}

//traceln("f_addPresetStorageAsset: Preset Storage Asset added: " + storageAssetPreset+", stateOfCharge = " + stateOfCharge_r+", minT = "+minTemperature_degC+", maxT = "+ maxTemperature_degC + ", setT = "+ setTemperature_degC+", ambientTempType = "+ambientTempType);
EnergyAsset e = add_pop_energyAssets( null, parentAgentID, assetType, storageAssetPreset.toString() );
//traceln("f_addPresetStorageAsset "+ assetType +" "+ capacityElectricity_kW + " " + capacityHeat_kW + " "+  stateOfCharge_r + " " + lossFactor_WpK +" " + storageCapacity_kWh + " " + heatCapacity_JpK + " "+  minTemperature_degC + " " + maxTemperature_degC + "" +  setTemperature_degC + "" +  ambientTempType );
e.f_instantiateStorageAsset( assetType, capacityElectricity_kW, capacityHeat_kW, stateOfCharge_r, lossFactor_WpK, storageCapacity_kWh, heatCapacity_JpK, minTemperature_degC, maxTemperature_degC, setTemperature_degC, ambientTempType, energyConsumption_kWhpkm, vehicleScaling );
e.f_connectToParentNode( (Agent)ownerAgent );
c_storageAssets.add(e);

// update static ambient temperature once for underground types
if( ambientTempType != null && ambientTempType.equals("GROUND") ) {
	e.p_energyAssetInstance.updateAmbientTemperature( p_undergroundTemperature_degC );
}
if( ambientTempType != null && ambientTempType.equals("AIR") ) {
	e.p_energyAssetInstance.updateAmbientTemperature( v_currentAmbientTemperature_degC );
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1661328014569</Id>
					<Name><![CDATA[f_returnKPIData]]></Name>
					<Description><![CDATA[Executed on simulation end to export data.

@author: JorritvandenHouten
@since: Sprint 6]]></Description>
					<X>-920</X><Y>600</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[writeToDisk]]></Name>
						<Type><![CDATA[boolean]]></Type>
					</Parameter>
					<Body><![CDATA[traceln("");
traceln("--------------------------");
traceln("====== RUN FINISHED ======");
traceln("--------------------------");
traceln("");


for (EnergyHolon e : pop_energyHolons) {
	e.f_returnKPIData();
}

ObjectMapper mapper = new ObjectMapper();

//DataOut great_succes = new DataOut();
j_dataOut.clearData();

// Bereken netvlak-data:
f_sumGridNodeLoads();
f_sumMolecularEnergyFlows();
f_sumBatteryUse();

//c_connectionOwners.parallelStream().forEach(c -> {
traceln("connectionOwners left: "+pop_connectionOwners.size());
traceln("connectionOwners in list: "+c_connectionOwners.size());
for(ConnectionOwner c : pop_connectionOwners) {
	try {
		c.j_ConnectionOwnerData.updateData(c.p_actorID, c.p_actorType, c.p_parentActorID, c.p_energySupplier, c.v_ownedGridConnection, c.v_energySupplierDistrictHeat, roundToDecimal( c.v_electricityVolume_kWh, 2 ), roundToDecimal( c.v_heatVolume_kWh, 2), roundToDecimal( c.v_methaneVolume_kWh, 2), roundToDecimal( c.v_hydrogenVolume_kWh, 2 ), c.v_electricityContractType.toString(), c.v_heatContractType.toString(), c.v_methaneContractType.toString(), c.v_hydrogenContractType.toString(), roundToDecimal( c.v_balanceElectricity_eur, 2), roundToDecimal( c.v_balanceHeat_eur, 2), roundToDecimal( c.v_balanceMethane_eur, 2), roundToDecimal( c.v_balanceHydrogen_eur, 2));
		J_ConnectionOwnerData data = c.j_ConnectionOwnerData;
	//traceln(data);
		j_dataOut.connectionOwnerData.add(data);
	} catch (Exception e) {
		e.printStackTrace();
	}
//});
}
double batteryStoredEnergyDeltaSinceStart_MWh = v_totalBatteryChargeAmount_MWh - v_totalBatteryDischargeAmount_MWh - v_totalBatteryEnergyUsed_MWh;
if (batteryStoredEnergyDeltaSinceStart_MWh == Double.NaN) {
	batteryStoredEnergyDeltaSinceStart_MWh = 0;
}

traceln("Electricity imported: "+ v_totalElectricityImport_MWh + " MWh");
traceln("Electricity exported: "+ v_totalElectricityExport_MWh + " MWh");
traceln("Electricity delta in batteries: "+ batteryStoredEnergyDeltaSinceStart_MWh + " MWh");

//Total energy consumption and production
traceln("");
traceln("__--** CONSUMPTION PER ASSET **--__");
double energyProduced_MWh = 0;
double energyConsumed_MWh = 0;
for (EnergyAsset e : pop_energyAssets) {
	double EnergyUsed_kWh = e.p_energyAssetInstance.getEnergyUsed_kWh();
	traceln("EnergyAsset " + e.getIndex() + " of type " + e.p_defaultEnergyAssetPresetName + " used " + roundToInt(EnergyUsed_kWh) + " kWh energy");
	if (EnergyUsed_kWh > 0) {
		energyConsumed_MWh += roundToDecimal(EnergyUsed_kWh/1000,2);
	} else {
		energyProduced_MWh -= roundToDecimal(EnergyUsed_kWh/1000,2);
	}
}

traceln("");
traceln("__--** Totals **--__");
traceln("Energy consumed: "+ energyConsumed_MWh + " MWh");
traceln("Energy produced: "+ energyProduced_MWh + " MWh");
// TODO: Make sure this calculation is correct when all energy carriers are 'active'! Only checked for electricity
traceln("");
//Total selfconsumption, selfsufficiency
double totalSelfConsumption_fr = 1 - (v_totalElectricityExport_MWh + v_totalMethaneExport_MWh + v_totalHydrogenExport_MWh)/energyProduced_MWh;
double totalSelfSufficiency_fr = 1 - (v_totalElectricityImport_MWh + v_totalMethaneImport_MWh + v_totalHydrogenImport_MWh + v_totalDieselImport_MWh - batteryStoredEnergyDeltaSinceStart_MWh )/energyConsumed_MWh; // Doesn't account for changes in battery-SOC!

//									roundToDecimal( totalSelfConsumption_fr, 3 ) + "",
//									roundToDecimal( totalSelfSufficiency_fr, 3 ) + "")
//double totalSelfSufficiency_fr = 1 - (v_electricityImported_kWh + v_methaneImported_kWh + v_hydrogenImported_kWh + v_heatImported_kWh)/energyConsumed_kWh;

double totalSelfSufficiency_fr_check = (energyProduced_MWh - (v_totalElectricityExport_MWh + v_totalMethaneExport_MWh + v_totalHydrogenExport_MWh))/energyConsumed_MWh;
traceln("Model-wide selfconsumption: " + totalSelfConsumption_fr + "%");
traceln("Model-wide selfsufficiency: " + totalSelfSufficiency_fr + "%, doublecheck " + totalSelfSufficiency_fr_check);
traceln("MS node peak load: " + v_gridNodePeakLoadElectricityMSLS_kW + " kW at hour: " + c_timesOfNodePeakLoads_h);

double modelRunDuration_s = roundToDecimal( ( System.currentTimeMillis() - v_timeOfModelStart_ms ) / 1000 - v_modelStartUpDuration_s, 3);

// add Total Cost KPI data:
j_totalCostData.updateData( roundToDecimal( v_gridNodePeakLoadElectricityHSMS_kW, 2 ),
							roundToDecimal( v_gridNodePeakLoadElectricityMSLS_kW, 2 ),
							c_timesOfNodePeakLoads_h,
							c_gridConnectionOverload_fr,
							v_totalElectricityImport_MWh,
							v_totalElectricityExport_MWh,
							v_totalMethaneImport_MWh,
							v_totalMethaneExport_MWh,
							v_totalHydrogenImport_MWh,
							v_totalHydrogenExport_MWh,
							v_totalDieselImport_MWh,
							c_totalBatteryUnitsInstalled,
							c_totalBatteryChargeAmount_MWh,
							c_totalBatteryDischargeAmount_MWh,
							c_totalBatteryInstalledCapacity_MWh,
							c_globalElectricityImportProfile_MWhph,
							c_globalElectricityExportProfile_MWhph,
							c_globalEVChargingProfile_kWhph,
							c_globalEHGVChargingProfile_kWhph,
							c_globalBatteryChargingProfile_kWhph,
							totalSelfConsumption_fr,
							totalSelfSufficiency_fr,
							energyConsumed_MWh,
							energyProduced_MWh);


j_dataOut.totalCostData.add(j_totalCostData);

j_experimentSettingsData.updateData( p_timeStep_h+"",
									v_timeStepsElapsed+"",
									time(HOUR) + "",
									v_modelStartUpDuration_s + "",
									modelRunDuration_s + "",
									pop_gridNodes.size() + "",
									c_gridConnections.size() + "",
									pop_energyAssets.size() + "",
									pop_connectionOwners.size() + "",
									pop_energySuppliers.size() + "",
									pop_energyHolons.size() + "",
									pop_administrativeHolons.size() + "",
									pop_gridOperators.size() + "",
									1 + "" );

j_dataOut.runSettingsData.add(j_experimentSettingsData);

traceln("Model run duration: " + modelRunDuration_s + " seconds");

    //System.out.println(json);

String AgentDataJson = "";
String settingsJson = "";
String totalCostDataJson = "";

try {
	AgentDataJson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString( j_dataOut.connectionOwnerData );
	settingsJson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString( j_dataOut.runSettingsData );
	totalCostDataJson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString( j_dataOut.totalCostData );
	update_o_outputConnectionOwnerJSON( AgentDataJson );
	update_o_outputSettings( settingsJson );
	update_o_totalCostData( totalCostDataJson );
} catch(IOException e) {
	e.printStackTrace();
}

traceln("");
traceln("");
try {
    if(writeToDisk) {
    	traceln("Succes.... YES!");
    	mapper.writerWithDefaultPrettyPrinter().writeValue(
		new File(".\\OutputAgentData.json"), j_dataOut.connectionOwnerData );

	   	mapper.writerWithDefaultPrettyPrinter().writeValue(
		new File(".\\OutputRunSettingsData.json"), j_dataOut.runSettingsData );
//		traceln("file succes");

		mapper.writerWithDefaultPrettyPrinter().writeValue(
		new File(".\\OutputTotalCostData.json"), j_dataOut.totalCostData );

	}
} catch (IOException e) {
//   traceln("exception generating output");
    e.printStackTrace();
}

return 1;
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1661530837893</Id>
					<Name><![CDATA[f_importConfigs]]></Name>
					<X>-720</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[p_gridNodeConfigJSON = t_configGridNodes.readString().replaceAll("^\"|\"$", "");
p_gridConnectionConfigJSON = t_configGridConnections.readString().replaceAll("^\"|\"$", "");
//p_energyAssetsConfigJSON = t_configEnergyAssets.readString().replaceAll("^\"|\"$", "");
p_actorsConfigJSON = t_configActors.readString().replaceAll("^\"|\"$", "");
p_policiesConfigJSON = t_configPolicies.readString().replaceAll("^\"|\"$", "");]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664894248130</Id>
					<Name><![CDATA[f_determinePricesForNextTimestep]]></Name>
					<X>50</X><Y>800</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Update the dayaheadprice
nationalEnergyMarket.f_updateEnergyPrice();

//
for (EnergySupplier e : pop_energySuppliers) {
	e.f_updateEnergyPrice();
}
for (GridOperator g : pop_gridOperators) {
	g.f_updateCongestionTariff();
}
for (EnergyHolon e : pop_energyHolons) {
	//e.f_updateEnergyPrice();
	//e.f_updateOtherIncentives();
	//e.f_setPriceBandsExperiment();
}

for (ConnectionOwner c : pop_connectionOwners) {
	c.f_updateIncentives();
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664952601107</Id>
					<Name><![CDATA[f_updateTimeseries]]></Name>
					<X>50</X><Y>700</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double t_h = v_timeStepsElapsed * p_timeStep_h;

v_currentHouseHoldOtherElectricityDemand_fr = tf_p_house_e_demand_other(t_h);
v_currentBuildingOtherElectricityDemand_fr = tf_p_building_e_demand_other(t_h);
v_currentHouseHoldHotWaterDemand_fr = tf_p_house_h_demand_hot_water(t_h);
v_currentWindPowerNormalized_r = tf_p_wind_e_normalized(t_h);
v_currentSolarPowerNormalized_r = tf_p_solar_e_normalized(t_h);
v_currentAmbientTemperature_degC = tf_ambientTemperature_degC(t_h);
v_currentIndustrySteelElectricityDemand_fr = tf_p_industry_steel_e_demand(t_h);
v_currentIndustrySteelHeatDemand_fr = tf_p_industry_steel_h_demand(t_h);
v_currentIndustryOtherElectricityDemand_fr = tf_p_industry_other_e_demand(t_h);
v_currentIndustryOtherHeatDemand_fr = tf_p_industry_other_h_demand(t_h);
v_currentLogisticsFleetEDemand_fr = tf_p_logistics_fleet_e_hgv(t_h);
//traceln("Time hour " + time(HOUR) + ", t_h " + t_h + ", fleet demand " + v_currentLogisticsFleetEDemand_fr);
for( EnergyAsset e : c_ambientAirDependentAssets ) {
	if( e.p_energyAssetInstance instanceof J_EAStorageHeat ) {
		((J_EAStorageHeat)e.p_energyAssetInstance).updateAmbientTemperature( v_currentAmbientTemperature_degC );
	}
	else if( e.p_energyAssetInstance instanceof J_EAConversionHeatPump ) {
		((J_EAConversionHeatPump)e.p_energyAssetInstance).updateAmbientTemp( v_currentAmbientTemperature_degC );
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664953001985</Id>
					<Name><![CDATA[f_calculateProductionAssetOutput]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-1270</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(EnergyAsset e : c_productionAssets) {
	if( e.p_energyAssetType == OL_EnergyAssetType.PHOTOVOLTAIC) {
		e.f_updateElectricityFlows( v_currentSolarPowerNormalized_r );
	}
	else if(e.p_energyAssetType == OL_EnergyAssetType.WINDMILL) {
		e.f_updateElectricityFlows( v_currentWindPowerNormalized_r );
	}
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664956272768</Id>
					<Name><![CDATA[f_calculateConsumptionAssets]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-1270</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(GridConnection gc : c_gridConnections) {
	gc.f_operateFixedConsumptionAssets();
	gc.f_operateFlexAssets();
	gc.f_updateFlows();
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665051878402</Id>
					<Name><![CDATA[f_calculateGridnodeFlows]]></Name>
					<X>50</X><Y>750</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double currentElectricityImport_kW = 0;
double currentElectricityExport_kW = 0;

for(GridNode n : c_gridNodesHeat) {
	n.f_calculateEnergyBalance();
}
for(GridNode n : c_gridNodesMSLS) {
	n.f_calculateEnergyBalance();
}
for(GridNode n : c_gridNodesHSMS) {
	n.f_calculateEnergyBalance();
	currentElectricityImport_kW += max(0, n.v_currentLoadElectricity_kW );
	currentElectricityExport_kW += - min(0, n.v_currentLoadElectricity_kW );
}

final double currentImport_MWh = currentElectricityImport_kW * p_timeStep_h / 1000;
final double currentExport_MWh = currentElectricityExport_kW * p_timeStep_h / 1000;
int timeIndex = (int)floor( time(HOUR) );

c_globalElectricityImportProfile_MWhph.computeIfPresent( timeIndex, (key, val) -> roundToDecimal( val + currentImport_MWh, 4 ));
c_globalElectricityImportProfile_MWhph.computeIfAbsent( timeIndex, k -> currentImport_MWh );
c_globalElectricityExportProfile_MWhph.computeIfPresent( timeIndex, (key, val) -> roundToDecimal( val + currentExport_MWh, 4 ));
c_globalElectricityExportProfile_MWhph.computeIfAbsent( timeIndex, k -> currentExport_MWh );

double currentEVLoad_kWhph = 0;
double currentEHGVLoad_kWhph = 0;
for(EnergyAsset e : pop_energyAssets) {
	if( e.p_defaultEnergyAssetPresetName.equals("EV") ) {
		//traceln("EV power queried!!!");
		currentEVLoad_kWhph += (e.v_currentProductionElectricity_kW - e.v_currentConsumptionElectricity_kW) * p_timeStep_h;
	}
	if( e.p_defaultEnergyAssetPresetName.equals("EHGV") ) {
		//traceln("EHGV power queried!!!");
		currentEHGVLoad_kWhph += (e.v_currentProductionElectricity_kW - e.v_currentConsumptionElectricity_kW) * p_timeStep_h;
	}
}
final double totalEVLoad_kWhph = currentEVLoad_kWhph;
final double totalEHGVLoad_kWhph = currentEHGVLoad_kWhph;
c_globalEVChargingProfile_kWhph.computeIfPresent( timeIndex, (key, val) -> roundToDecimal( val + totalEVLoad_kWhph, 2 ));
c_globalEVChargingProfile_kWhph.computeIfAbsent( timeIndex, k -> totalEVLoad_kWhph );

c_globalEHGVChargingProfile_kWhph.computeIfPresent( timeIndex, (key, val) -> roundToDecimal( val + totalEHGVLoad_kWhph, 2 ));
c_globalEHGVChargingProfile_kWhph.computeIfAbsent( timeIndex, k -> totalEHGVLoad_kWhph );

double currentBatteryLoad_kWhph = 0;
for( EnergyAsset e : c_storageAssets ) {
	if(e.p_energyAssetInstance.getClass().equals(J_EAStorageElectric.class)) {
		currentBatteryLoad_kWhph += (e.v_currentProductionElectricity_kW - e.v_currentConsumptionElectricity_kW) * p_timeStep_h;
	}
}

final double totalBatteryLoad_kWhph = currentBatteryLoad_kWhph;
c_globalBatteryChargingProfile_kWhph.computeIfPresent( timeIndex, (key, val) -> roundToDecimal( val + totalBatteryLoad_kWhph, 2 ));
c_globalBatteryChargingProfile_kWhph.computeIfAbsent( timeIndex, k -> totalBatteryLoad_kWhph );
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665051962956</Id>
					<Name><![CDATA[f_calculateFinancialFlows]]></Name>
					<X>50</X><Y>775</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for (ConnectionOwner c : pop_connectionOwners) {
	c.f_updateFinances();
}
for (EnergyHolon h : pop_energyHolons) {
	h.f_updateFinances();
}
for (EnergySupplier e : pop_energySuppliers) {
	e.f_updateFinances();
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665505562898</Id>
					<Name><![CDATA[f_setActorPolicies]]></Name>
					<X>-700</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[HashMap<String, String> policyMap = new HashMap<String, String>();
for (HashMap policy : parsedJSONPolicies) {
   policyMap.put(policy.get("parameter").toString(), policy.get("value").toString());
}

traceln("policy map: " + policyMap);

//OL_ChargingAttitude DefaultEVChargingAttitude = OL_ChargingAttitude.valueOf((String)policyMap.get("EV_charging_attitude_standard"));
double v_congestionAllowanceLevel_kW = Double.parseDouble( policyMap.get("Grid_MS_congestion_allowance_level_kW") );
double v_congestionPrice_eurpkWh = Double.parseDouble( policyMap.get("Grid_MS_congestion_price_eurpkWh") );
double v_congestionThreshold_fr = Double.parseDouble( policyMap.get("Grid_MS_congestion_threshold_fr") );
boolean b_congestionPricingConsumption = Boolean.parseBoolean( policyMap.get("Grid_MS_congestion_pricing_consumption_eurpkWh") );
boolean b_congestionPricingProduction = Boolean.parseBoolean( policyMap.get("Grid_MS_congestion_pricing_production_eurpkWh") );

// get global energy pricing values
double v_fixedElectricityPrice_eurpkWh = Double.parseDouble( policyMap.get("Fixed_electricity_price_eurpkWh") );
double v_energySupplierMarginOnElectricityPrice_eurpkWh = Double.parseDouble( policyMap.get("Energy_supplier_electricity_price_margin_eurpkWh") );
double v_fixedElectricityFeedInTariff_eurpkWh = Double.parseDouble( policyMap.get("Fixed_electricity_feed_in_tariff_eurpkWh") );
double v_fixedHeatPrice_eurpkWh = Double.parseDouble( policyMap.get( "Fixed_heat_price_eurpkWh" ) );
double v_fixedMethanePrice_eurpkWh = Double.parseDouble( policyMap.get( "Fixed_methane_price_eurpkWh" ) );
double v_fixedHydrogenPrice_eurpkWh = Double.parseDouble( policyMap.get( "Fixed_hydrogen_price_eurpkWh" ) );
double v_fixedDieselPrice_eurpkWh = Double.parseDouble( policyMap.get( "Fixed_diesel_price_eurpkWh" ) );

// get global battery charging parameter(s)
int v_timeBufferForSpreadCharging_min = Integer.parseInt( policyMap.get("Time_buffer_for_spread_charging_min") );

// configure actor policy values
for( GCHouse h : Houses ) {
	//h.v_chargingAttitude = DefaultEVChargingAttitude;
}

for( GridConnection c: c_gridConnections ) {
	c.v_additionalTimeSpreadCharging_MIN = v_timeBufferForSpreadCharging_min;
}

for(GridOperator g : pop_gridOperators) {
	g.v_congestionAllowanceLevel_kW = v_congestionAllowanceLevel_kW;
	g.v_congestionPriceConsumption_eurpkWh = v_congestionPrice_eurpkWh;
	g.v_congestionPriceProduction_eurpkWh = - v_congestionPrice_eurpkWh;
	g.v_congestionThreshold_fr = v_congestionThreshold_fr;
	g.b_congestionPricingConsumption = b_congestionPricingConsumption;
	g.b_congestionPricingProduction = b_congestionPricingProduction;
}

// configure actor policy values
for( EnergySupplier e : pop_energySuppliers ) {
	e.set_p_fixedElectricityPrice_eurpkWh( v_fixedElectricityPrice_eurpkWh );
	e.set_p_fixedHeatPrice_eurpkWh( v_fixedHeatPrice_eurpkWh );
	e.set_p_fixedMethanePrice_eurpkWh( v_fixedMethanePrice_eurpkWh );
	e.set_p_fixedHydrogenPrice_eurpkWh( v_fixedHydrogenPrice_eurpkWh );
	e.set_p_variableElectricityPriceOverNational_eurpkWh( v_energySupplierMarginOnElectricityPrice_eurpkWh );
	e.set_p_fixedFeedinTariff_eurpkWh( v_fixedElectricityFeedInTariff_eurpkWh );
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666879523873</Id>
					<Name><![CDATA[f_sumGridNodeLoads]]></Name>
					<Description><![CDATA[Bereken belasting per netvlak in het model (elektriciteit, absolute waarde) voor kosten-berekeningen gebied buiten het model.

@author: Jorrit
@since: 27-10-2022]]></Description>
					<X>-750</X><Y>600</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Bereken belasting per netvlak in het model (elektriciteit, absolute waarde) voor kosten-berekeningen gebied.
for(GridNode h : c_gridNodesHSMS ) {
	v_gridNodePeakLoadElectricityHSMS_kW += h.v_peakLoadAbsoluteElectricity_kW;
	v_totalElectricityImport_MWh += h.v_electricityDrawn_kWh / 1000;
	v_totalElectricityExport_MWh += h.v_electricityDelivered_kWh / 1000;
	c_timesOfNodePeakLoads_h.put(h.p_agentID, h.v_timeOfPeakLoad_h);
}

for(GridNode m : c_gridNodesMSLS ) {
	v_gridNodePeakLoadElectricityMSLS_kW += m.v_peakLoadAbsoluteElectricity_kW;
	c_timesOfNodePeakLoads_h.put(m.p_agentID, m.v_timeOfPeakLoad_h);
}

for(GridConnection g: c_gridConnections){
    c_gridConnectionOverload_fr.put(g.p_agentID, g.v_maxConnectionLoad_fr);
}



]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666945497935</Id>
					<Name><![CDATA[f_sumMolecularEnergyFlows]]></Name>
					<Description><![CDATA[Bereken invoer en uitvoer van energiedragers naast elektriciteit (methaan, waterstof) voor totale kostenberekening en model-verificatie. Aangeroepen in f_returnKPIData aan het einde van de modelrun.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>-750</X><Y>620</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(GridConnection g : c_gridConnections ) {
	v_totalMethaneImport_MWh += g.v_methaneDrawn_kWh / 1000;
	v_totalMethaneExport_MWh += g.v_methaneDelivered_kWh / 1000;
	v_totalHydrogenImport_MWh += g.v_hydrogenDrawn_kWh / 1000;
	v_totalHydrogenExport_MWh += g.v_hydrogenDelivered_kWh / 1000;
	v_totalDieselImport_MWh += g.v_dieselDrawn_kWh / 1000;
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666978595555</Id>
					<Name><![CDATA[f_sumBatteryUse]]></Name>
					<X>-750</X><Y>640</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_totalBatteryDischargeAmount_MWh = 0;
v_totalBatteryChargeAmount_MWh = 0;
v_totalBatteryInstalledCapacity_MWh = 0;

for(EnergyAsset e : c_storageAssets ) {
	if( e.p_energyAssetInstance instanceof J_EAStorageElectric ) {
		//traceln("triggered!!"+e.p_energyAssetInstance.toString());

		c_totalBatteryUnitsInstalled.computeIfPresent( e.p_defaultEnergyAssetPresetName, (key, val) ->val + 1.0 );
		c_totalBatteryUnitsInstalled.computeIfAbsent( e.p_defaultEnergyAssetPresetName, k -> 1.0 );

		c_totalBatteryChargeAmount_MWh.computeIfPresent( e.p_defaultEnergyAssetPresetName, (key, val) -> roundToDecimal( val + ((J_EAStorageElectric)e.p_energyAssetInstance).getTotalChargeAmount_kWh() / 1000, 2 ));
		c_totalBatteryChargeAmount_MWh.computeIfAbsent( e.p_defaultEnergyAssetPresetName, k -> ((J_EAStorageElectric)e.p_energyAssetInstance).getTotalChargeAmount_kWh() / 1000 );
		c_totalBatteryDischargeAmount_MWh.computeIfPresent( e.p_defaultEnergyAssetPresetName, (key, val) -> roundToDecimal( val + ((J_EAStorageElectric)e.p_energyAssetInstance).getTotalDischargeAmount_kWh() / 1000, 2 ));
		c_totalBatteryDischargeAmount_MWh.computeIfAbsent( e.p_defaultEnergyAssetPresetName, k -> ((J_EAStorageElectric)e.p_energyAssetInstance).getTotalDischargeAmount_kWh() / 1000 );
		c_totalBatteryInstalledCapacity_MWh.computeIfPresent( e.p_defaultEnergyAssetPresetName, (key, val) -> roundToDecimal( val + ((J_EAStorageElectric)e.p_energyAssetInstance).getStorageCapacity_kWh() / 1000, 2 ));
		c_totalBatteryInstalledCapacity_MWh.computeIfAbsent( e.p_defaultEnergyAssetPresetName, k -> ((J_EAStorageElectric)e.p_energyAssetInstance).getStorageCapacity_kWh() / 1000 );

		v_totalBatteryDischargeAmount_MWh += ((J_EAStorageElectric)e.p_energyAssetInstance).getTotalDischargeAmount_kWh() / 1000;
		v_totalBatteryChargeAmount_MWh += ((J_EAStorageElectric)e.p_energyAssetInstance).getTotalChargeAmount_kWh() / 1000;
		v_totalBatteryInstalledCapacity_MWh += ((J_EAStorageElectric)e.p_energyAssetInstance).getStorageCapacity_kWh() / 1000;
		v_totalBatteryEnergyUsed_MWh += ((J_EAStorageElectric)e.p_energyAssetInstance).getEnergyUsed_kWh() / 1000;
		//traceln( ((J_EAStorageElectric)e.p_energyAssetInstance).getStorageCapacity() / 1000 );
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668528129020</Id>
					<Name><![CDATA[f_calculateGridConnectionFlows]]></Name>
					<X>50</X><Y>725</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(GridConnection gc : c_gridConnections) {
	//gc.f_operateFixedConsumptionAssets();
	//gc.f_operateFlexAssets();
	//gc.f_updateFlows();
	gc.f_calculateEnergyBalance();
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669130265565</Id>
					<Name><![CDATA[f_createActors]]></Name>
					<X>-700</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[ArrayList actorContracts = new ArrayList();

for(HashMap data : parsedJSONActors)
{
    String actorID = data.get( "id" ).toString();
    OL_ActorType actorcategory = OL_ActorType.valueOf((String)data.get( "category" ));
    String type = data.get( "type" ) == null? null : String.valueOf(data.get( "type" )); //traceln(actortype.toString());
    String parentActorID = String.valueOf(data.get( "parent_actor" ));
    actorContracts = data.get( "contracts") == null? null : (ArrayList)data.get( "contracts");
	double NonFirmATOCapacity = data.get( "nfATO_capacity_kw" ) == null? 0.0 : (Double)data.get( "nfATO_capacity_kw" );
    double NonFirmATOStarttime = data.get( "nfATO_starttime" ) == null? 0.0 : (Double)data.get( "nfATO_starttime" );
	double NonFirmATOEndtime = data.get( "nfATO_endtime" ) == null? 0.0 : (Double)data.get( "nfATO_endtime" );
	double ConnectionCapacity_kW = data.get( "connectionCapacity_kW") == null? 0.0 : (Double)data.get( "connectionCapacity_kW" );
	
	if (actorcategory.equals(OL_ActorType.CONNECTIONOWNER) ) {
	    ConnectionOwner Actor = add_pop_connectionOwners();
	    Actor.set_p_actorID( actorID );
	    Actor.set_p_actorType( type );
	    Actor.set_p_parentActorID( parentActorID );
	    Actor.set_p_actorContractList( actorContracts );
   		Actor.f_setContractValues();
	    Actor.j_ConnectionOwnerData = new J_ConnectionOwnerData(actorID, type, parentActorID);
	    c_connectionOwners.add(Actor);
	    
    } else if (actorcategory.equals(OL_ActorType.ENERGYSUPPLIER) ) {
		EnergySupplier Actor = add_pop_energySuppliers();
		Actor.set_p_actorID( actorID );
		Actor.set_p_actorType( type );
		Actor.set_p_parentActorID( parentActorID );

    } else if (actorcategory.equals(OL_ActorType.ENERGYHOLON) ) {
	    EnergyHolon Actor = add_pop_energyHolons();
	    Actor.set_p_actorID( actorID );
	    Actor.set_p_actorType( type );
	    Actor.set_p_parentActorID( parentActorID );
	    Actor.set_p_actorContractList( actorContracts );
   		Actor.f_setContractValues();
		Actor.set_p_nfatoEnd_HR( NonFirmATOEndtime );
  		Actor.set_p_nfatoStart_HR( NonFirmATOStarttime);
  		Actor.set_p_nfatoLvl_kW( NonFirmATOCapacity );
  		//Actor.set_p_connectionCapacity_kW( ConnectionCapacity_kW );
	    
    } else if (actorcategory.equals(OL_ActorType.GRIDOPERATOR) ) {
	    GridOperator Actor = add_pop_gridOperators();
	    Actor.set_p_actorID( actorID );
	    Actor.set_p_actorType( type );
	    Actor.set_p_parentActorID( parentActorID );
    }
}

for (EnergyHolon a : pop_energyHolons) {
	a.f_connectToParentActor();
	a.f_initialize();
}
for (ConnectionOwner a : pop_connectionOwners) {
	a.f_connectToParentActor();
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669130286710</Id>
					<Name><![CDATA[f_createGridNodes]]></Name>
					<X>-700</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[String nodeID;
OL_GridNodeType nodetype;
OL_EnergyCarrierType energytype;
String nodeparent;
int nodecapacity;
String nodeoperator;

for(HashMap data : parsedJSONGridNodes)
{
   	nodeID = data.get("id").toString();
	nodetype = OL_GridNodeType.valueOf((String)data.get("type"));
	energytype = OL_EnergyCarrierType.valueOf((String)data.get("category"));
	nodeparent = (String) data.get("parent");
	nodecapacity =((Double)data.get("capacity_kw")).intValue();
	nodeoperator = String.valueOf(data.get("owner_actor"));
	//traceln("data "+"id= "+nodeID +", nodetype = "+nodetype +", energytype = "+ energytype+", nodeparent = "+ nodeparent+", capacity = "+ nodecapacity+ ", ownerOperator = "+ nodeoperator);
	//traceln(data.toString());

	GridNode GridNode = add_pop_gridNodes( nodeID, nodeparent, nodetype, energytype, nodecapacity, null, null, nodeoperator );
	//traceln("agent "+nodeID+" added by JSON!");
	switch( GridNode.p_nodeType ) {
		case HSMS:
			c_gridNodesHSMS.add(GridNode);
		break;
		case MSLS:
			c_gridNodesMSLS.add(GridNode);
		break;
		case HT:
			c_gridNodesHeat.add(GridNode);
		break;
		case MT:
			c_gridNodesHeat.add(GridNode);
		break;
		default:
			traceln("Gridnode not added to collection!");
		break;
	}
}

// do this only after all GridNodes have been created! Or connections might be missed
for( GridNode g : pop_gridNodes ) {
	g.f_connectToParentNode();
}

]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669130296250</Id>
					<Name><![CDATA[f_createGridConnections]]></Name>
					<X>-700</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[ArrayList gridConnectionEnergyAssets = new ArrayList();
GridConnection GC;

for(HashMap data : parsedJSONGridConnections) {
    String gridConnectionID = data.get( "id" ).toString();
	String ownerActorID = data.get ( "owner_actor" ).toString();
	OL_GridConnectionCategory gridConnectionCategory = OL_GridConnectionCategory.valueOf((String)data.get( "category" ));
	gridConnectionEnergyAssets = (ArrayList)data.get( "assets");
    
    OL_GridConnectionType gridConnectionType = data.get( "type" ) == null? null : OL_GridConnectionType.valueOf((String)data.get( "type" ));
    String gridConnectionParentElectric = data.get( "parent_electric" ) == null ? null : data.get( "parent_electric" ).toString(); //
    String gridConnectionParentHeat = data.get( "parent_heat" ) == null ? null : (String)data.get( "parent_heat" ); //
    Double gridConnectionCapacity = data.get( "capacity_kw" ) == null ? null : (Double)data.get( "capacity_kw" ); //
    Double gridConnectionNonFirmATOCapacity = data.get( "nfATO_capacity_kw" ) == null? 0 : (Double)data.get( "nfATO_capacity_kw" );
    Double gridConnectionNonFirmATOStarttime = data.get( "nfATO_starttime" ) == null? 0 : (Double)data.get( "nfATO_starttime" );
	Double gridConnectionNonFirmATOEndtime = data.get( "nfATO_endtime" ) == null? 0 : (Double)data.get( "nfATO_endtime" );
    OL_ChargingAttitude gridConnectionChargingAttitude = data.get( "charging_mode" ) == null? OL_ChargingAttitude.MAX_POWER : OL_ChargingAttitude.valueOf((String)data.get("charging_mode"));
    OL_BatteryOperationMode gridConnectionBatteryMode = data.get( "battery_mode" ) == null? OL_BatteryOperationMode.BALANCE : OL_BatteryOperationMode.valueOf((String)data.get("battery_mode"));
	OL_GridConnectionIsolationLabel gridConnectionIsolationLabel = data.get( "insulation_label" ) == null? null : OL_GridConnectionIsolationLabel.valueOf((String)data.get( "insulation_label" ));
	OL_GridConnectionHeatingType gridConnectionHeatingType = data.get( "heating_type" ) == null? null : OL_GridConnectionHeatingType.valueOf((String)data.get( "heating_type" ));
	
	//traceln("data: " + "id = " + gridConnectionID + ", category = " + gridConnectionCategory + ", connectionType = " + gridConnectionType + ", parentElectric" + gridConnectionParentElectric + ", parentHeat = " + gridConnectionParentHeat + ", capacity = " + gridConnectionCapacity + "owner_actor = "+ ownerActorID);
	switch(gridConnectionCategory) {
		case HOUSE:
			GC = add_Houses();
			((GCHouse)GC).set_p_isolationLabel( gridConnectionIsolationLabel );
			((GCHouse)GC).f_createPresetStorageHeat();
	 	break;
 		case BUILDING:
 			GC = add_Buildings( );
		break;
		case INDUSTRY:
	 		GC = add_Industries();
	 	break;
		case DISTRICTHEATING:
	 		GC = add_DistrictHeatingSystems();
		break;
		case WINDFARM:
	 		GC = add_Windfarms();
	 	break;
	 	case SOLARFARM:
	 		GC = add_Solarfarms();
	 	break;
	 	case GRIDBATTERY:
	 		GC = add_GridBatteries();
	 	break;
	 	default:
	 		GC = null;
	 		traceln("No subagent defined for this gridConnection type!" + gridConnectionCategory);
	 	break;
 	}
 	//Set parameters
 	GC.set_p_agentID( gridConnectionID );
	GC.set_p_gridConnectionCategory( gridConnectionCategory );
	GC.set_p_gridConnectionType( gridConnectionType );
	GC.set_p_connectionCapacity_kW( gridConnectionCapacity );
	GC.set_p_parentNodeElectricID( gridConnectionParentElectric );
	GC.set_p_parentNodeHeatID( gridConnectionParentHeat );
	GC.set_p_ownerID( ownerActorID );
	GC.set_p_heatingType( gridConnectionHeatingType );
	GC.set_p_energyAssetList( (ArrayList)gridConnectionEnergyAssets );
	GC.set_p_batteryOperationMode( gridConnectionBatteryMode );
	GC.set_p_chargingAttitudeVehicles( gridConnectionChargingAttitude );
	GC.set_p_nfatoEnd_HR( gridConnectionNonFirmATOEndtime );
	GC.set_p_nfatoStart_HR( gridConnectionNonFirmATOStarttime);
	GC.set_p_nfatoLvl_kW( gridConnectionNonFirmATOCapacity );
	
	//Initialize
	GC.f_initialize();
	c_gridConnections.add(GC);
}

for (GridConnection g: c_gridConnections) {
	if(g.p_parentNodeHeat instanceof GridNode && g.p_ownerActor instanceof ConnectionOwner) {
			ConnectionOwner o = (ConnectionOwner)g.p_ownerActor;
			List<GridConnection> heatSuppliers = filter( g.p_parentNodeHeat.subConnections.getConnections(), p -> p.p_gridConnectionCategory.equals(DISTRICTHEATING));
			//traceln("connection id: "+g.p_agentID+", heatEnergySupplier: "+heatSuppliers+ ", owneractor: "+heatSuppliers.get(0).p_ownerActor);
			o.v_energySupplierDistrictHeat = heatSuppliers.get(0).p_ownerActor;
	}
}]]></Body>
				</Function>
			</Functions>
			<TableFunctions>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1659337870276</Id>
					<Name><![CDATA[tf_p_house_e_demand_other]]></Name>
					<Description><![CDATA[Genormaliseerde tijdreeksdata per uur voor household other electricity demand (koeling, verlichting etc.), ingelezen vanuit externe (aanpasbare) database.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-990</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[house_e_demand_other]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1659337941636</Id>
					<Name><![CDATA[tf_p_wind_e_normalized]]></Name>
					<Description><![CDATA[Genormaliseerde tijdreeksdata per uur voor productie van wind-energie, ingelezen vanuit externe (aanpasbare) database.

@source: ETM-curves genormaliseerd met opgesteld vermogen
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-990</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[wind_e_prod_normalized]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1659337995740</Id>
					<Name><![CDATA[tf_p_solar_e_normalized]]></Name>
					<Description><![CDATA[Genormaliseerde tijdreeksdata per uur voor productie van zonne-energie (pv en thermisch), ingelezen vanuit externe (aanpasbare) database.

@source: ETM-curves genormaliseerd met opgesteld vermogen
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-990</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[solar_e_prod_normalized]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1659364114491</Id>
					<Name><![CDATA[tf_ambientTemperature_degC]]></Name>
					<Description><![CDATA[Genormaliseerde tijdreeksdata per uur voor buitentemperatuur.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-990</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[ambienttemperature_degc]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1664529919197</Id>
					<Name><![CDATA[tf_p_building_e_demand_other]]></Name>
					<X>-990</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[building_e_demand_other]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1664533224315</Id>
					<Name><![CDATA[tf_p_house_h_demand_hot_water]]></Name>
					<X>-990</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[house_h_demand_hot_water]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1665499046358</Id>
					<Name><![CDATA[tf_p_building_h_demand]]></Name>
					<X>-990</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[building_h_demand]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1665499121634</Id>
					<Name><![CDATA[tf_p_industry_steel_e_demand]]></Name>
					<X>-990</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[industry_steel_e_demand]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1665499133914</Id>
					<Name><![CDATA[tf_p_industry_steel_h_demand]]></Name>
					<X>-990</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[industry_steel_h_demand]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1665499150900</Id>
					<Name><![CDATA[tf_p_industry_other_e_demand]]></Name>
					<X>-990</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[industry_other_e_demand]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1665499166838</Id>
					<Name><![CDATA[tf_p_industry_other_h_demand]]></Name>
					<X>-990</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[industry_other_h_demand]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1667396912514</Id>
					<Name><![CDATA[tf_p_logistics_fleet_e_hgv]]></Name>
					<X>-990</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>NEAREST</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[logistics_fleet_e_hgv]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
			</TableFunctions>
			<Connectivity>
				<TextFile>
					<Id>1661530848985</Id>
					<Name><![CDATA[t_configActors]]></Name>
					<X>-389.5</X><Y>169.5</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<Url><![CDATA[]]></Url>
					<ResourceReference>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[cases/industry_case/dayahead_gopacs_collective_actors.txt]]></ClassName>
					</ResourceReference>
					<FileMode>READ</FileMode>
					<CharsetName>UTF-8</CharsetName>
					<Separators></Separators>
				</TextFile>
				<TextFile>
					<Id>1661787440318</Id>
					<Name><![CDATA[t_configGridNodes]]></Name>
					<X>-388.5</X><Y>128.5</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<Url><![CDATA[]]></Url>
					<ResourceReference>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[cases/industry_case/industry_case_gridnodes.txt]]></ClassName>
					</ResourceReference>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators></Separators>
				</TextFile>
				<TextFile>
					<Id>1661787454498</Id>
					<Name><![CDATA[t_configGridConnections]]></Name>
					<X>-388.5</X><Y>148.5</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<Url><![CDATA[]]></Url>
					<ResourceReference>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[cases/industry_case/industry_case_gridconnections.txt]]></ClassName>
					</ResourceReference>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators></Separators>
				</TextFile>
				<TextFile>
					<Id>1661787463188</Id>
					<Name><![CDATA[t_configEnergyAssets]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-1270</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<Url><![CDATA[]]></Url>
					<ResourceReference>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[MVPCase1BedrijventerreinBasicExplicit_config_energyAssets.txt]]></ClassName>
					</ResourceReference>
					<FileMode>READ</FileMode>
					<CharsetName>null</CharsetName>
					<Separators></Separators>
				</TextFile>
				<TextFile>
					<Id>1665504172690</Id>
					<Name><![CDATA[t_configPolicies]]></Name>
					<X>-389.5</X><Y>189.5</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<FileType>FILE</FileType>
					<Url><![CDATA[../CaseDefinitions/industry_case/industry_case_policies.txt]]></Url>
					<ResourceReference>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[cases/industry_case/industry_case_policies.txt]]></ClassName>
					</ResourceReference>
					<FileMode>READ</FileMode>
					<CharsetName>UTF-8</CharsetName>
					<Separators></Separators>
				</TextFile>
				<ExcelFile>
					<Id>1660141188744</Id>
					<Name><![CDATA[inputHouseholdTrips]]></Name>
					<X>-389.5</X><Y>89</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ResourceReference>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[AlbatrossProcessedVehicleTrips.xlsx]]></ClassName>
					</ResourceReference>
					<SaveInSnapshot>false</SaveInSnapshot>
					<LoadOnStartup>true</LoadOnStartup>
					<SaveOnDispose>true</SaveOnDispose>
				</ExcelFile>
				<ExcelFile>
					<Id>1667758923284</Id>
					<Name><![CDATA[inputTruckTrips]]></Name>
					<X>-389.5</X><Y>69</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ResourceReference>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[inputTruckTripPatterns.xlsx]]></ClassName>
					</ResourceReference>
					<SaveInSnapshot>false</SaveInSnapshot>
					<LoadOnStartup>true</LoadOnStartup>
					<SaveOnDispose>true</SaveOnDispose>
				</ExcelFile>
			</Connectivity>
			<AgentLinks>
				<AgentLink>
					<Id>1658477103135</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<EmbeddedObjects>
				<EmbeddedObject>
					<Id>1658477403183</Id>
					<Name><![CDATA[pop_gridNodes]]></Name>
					<X>280</X><Y>70</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GridNode]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GridNode]]></ClassName>
							<ItemName><![CDATA[1658477288306]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nodeType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_transportBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerGridOperator]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridNodeOwnerID]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1658499683452</Id>
					<Name><![CDATA[pop_gridConnections]]></Name>
					<X>280</X><Y>120</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GridConnection]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GridConnection]]></ClassName>
							<ItemName><![CDATA[1658499438201]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ThermalStorageAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1658499722957</Id>
					<Name><![CDATA[pop_energyAssets]]></Name>
					<X>280</X><Y>90</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[EnergyAsset]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[EnergyAsset]]></ClassName>
							<ItemName><![CDATA[1658499506318]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_energyAssetInstance]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentAgentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_defaultEnergyAssetPresetName]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1658752704931</Id>
					<Name><![CDATA[kpiVisuals]]></Name>
					<Description><![CDATA[Optionele visualisatie-agent met eenvoudige visuals voor model inspectie, monitoring en debugging. Kan aangezet worden met de parameter b_addKpiVisuals, maar model draait ook zonder.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>70</X><Y>460</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[KpiVisuals]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[KpiVisuals]]></ClassName>
							<ItemName><![CDATA[1658752695709]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_individualMode]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660730126216</Id>
					<Name><![CDATA[pop_connectionOwners]]></Name>
					<X>70</X><Y>270</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[ConnectionOwner]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[ConnectionOwner]]></ClassName>
							<ItemName><![CDATA[1660224852392]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energySupplier]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_holonParent]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_electricityContractType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatContractType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_methaneContractType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_hydrogenContractType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorContractList]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731786332</Id>
					<Name><![CDATA[pop_energySuppliers]]></Name>
					<X>70</X><Y>290</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[EnergySupplier]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[EnergySupplier]]></ClassName>
							<ItemName><![CDATA[1660731377982]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActor]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_fixedElectricityPrice_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_fixedHeatPrice_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_fixedMethanePrice_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_fixedHydrogenPrice_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_variableElectricityPriceOverNational_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_fixedFeedinTariff_eurpkWh]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731820965</Id>
					<Name><![CDATA[pop_energyHolons]]></Name>
					<X>70</X><Y>310</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[EnergyHolon]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[EnergyHolon]]></ClassName>
							<ItemName><![CDATA[1660731375014]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energySupplier]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorContractList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731850501</Id>
					<Name><![CDATA[pop_gridOperators]]></Name>
					<X>70</X><Y>350</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GridOperator]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GridOperator]]></ClassName>
							<ItemName><![CDATA[1660731380913]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActor]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[1]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731876775</Id>
					<Name><![CDATA[nationalEnergyMarket]]></Name>
					<X>70</X><Y>420</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[NationalEnergyMarket]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[NationalEnergyMarket]]></ClassName>
							<ItemName><![CDATA[1660731384413]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
					</Parameters>
					<ReplicationFlag>false</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialSpeedCode Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
					</InitialSpeedCode>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>SPECIFIED_NUMBER</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731999276</Id>
					<Name><![CDATA[pop_administrativeHolons]]></Name>
					<X>70</X><Y>330</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[AdministrativeHolon]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[AdministrativeHolon]]></ClassName>
							<ItemName><![CDATA[1660731364523]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663772677806</Id>
					<Name><![CDATA[Houses]]></Name>
					<X>70</X><Y>70</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GCHouse]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GCHouse]]></ClassName>
							<ItemName><![CDATA[1663772408665]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ThermalStorageAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_isolationLabel]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_DHWAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663773716929</Id>
					<Name><![CDATA[Buildings]]></Name>
					<X>70</X><Y>90</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GCBuilding]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GCBuilding]]></ClassName>
							<ItemName><![CDATA[1663773690596]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ThermalStorageAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663774441970</Id>
					<Name><![CDATA[DistrictHeatingSystems]]></Name>
					<X>70</X><Y>140</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GCDistrictHeating]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GCDistrictHeating]]></ClassName>
							<ItemName><![CDATA[1663773810343]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ThermalStorageAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663774461816</Id>
					<Name><![CDATA[Windfarms]]></Name>
					<X>70</X><Y>180</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GCWindfarm]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GCWindfarm]]></ClassName>
							<ItemName><![CDATA[1663773842877]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ThermalStorageAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663774484695</Id>
					<Name><![CDATA[Solarfarms]]></Name>
					<X>70</X><Y>200</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GCSolarfarm]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GCSolarfarm]]></ClassName>
							<ItemName><![CDATA[1663773857866]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ThermalStorageAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1665480562790</Id>
					<Name><![CDATA[Industries]]></Name>
					<X>70</X><Y>110</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GCIndustry]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GCIndustry]]></ClassName>
							<ItemName><![CDATA[1665480522862]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ThermalStorageAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1666957373353</Id>
					<Name><![CDATA[GridBatteries]]></Name>
					<X>70</X><Y>160</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[GCGridBattery]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[GCGridBattery]]></ClassName>
							<ItemName><![CDATA[1666956363817]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_agentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ThermalStorageAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectric]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeat]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerActor]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_HR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1667745003892</Id>
					<Name><![CDATA[mobilityTrackers]]></Name>
					<X>70</X><Y>440</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<PresentationId>1667745003893</PresentationId>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[MobilityTracker]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[MobilityTracker]]></ClassName>
							<ItemName><![CDATA[1667726338855]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_mobilityPatternType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnection]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_vehicleIndex]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_vehicleInstance]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
			</EmbeddedObjects>

			<Presentation>
				<Level>
					<Id>1658477103139</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Rectangle>
					<Id>1665052211228</Id>
					<Name><![CDATA[rectangle]]></Name>
					<X>-1020</X><Y>0</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Lock>true</Lock>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>3</LineWidth>
					<LineColor>-16744448</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>930</Width>
					<Height>480</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1659709739366</Id>
					<Name><![CDATA[text]]></Name>
					<X>-1000</X><Y>56</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Tijdreeksdata:]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>14</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1659709765242</Id>
					<Name><![CDATA[text1]]></Name>
					<X>-1010</X><Y>330</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Parameters uit database:]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>14</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Rectangle>
					<Id>1665052264314</Id>
					<Name><![CDATA[rectangle1]]></Name>
					<X>-960</X><Y>520</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Lock>true</Lock>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>3</LineWidth>
					<LineColor>-3308225</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>660</Width>
					<Height>480</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1665052603927</Id>
					<Name><![CDATA[rectangle2]]></Name>
					<X>-1019</X><Y>1</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16744448</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>169</Width>
					<Height>40</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1665052191319</Id>
					<Name><![CDATA[text3]]></Name>
					<X>-984</X><Y>8</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16744448</Color>
					<Text><![CDATA[Input]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>18</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Rectangle>
					<Id>1665052678662</Id>
					<Name><![CDATA[rectangle3]]></Name>
					<X>-959</X><Y>521</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-3308225</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>149</Width>
					<Height>40</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1665052678664</Id>
					<Name><![CDATA[text5]]></Name>
					<X>-925</X><Y>527</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-3308225</Color>
					<Text><![CDATA[Output
]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>18</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1668602188368</Id>
					<Name><![CDATA[text4]]></Name>
					<X>60</X><Y>30</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Neighborhood gridconnections]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1668602188372</Id>
					<Name><![CDATA[line2]]></Name>
					<X>40</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>190</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1668602207232</Id>
					<Name><![CDATA[text6]]></Name>
					<X>320</X><Y>30</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Infra & assets]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1668602207235</Id>
					<Name><![CDATA[line3]]></Name>
					<X>260</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>180</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1668602284894</Id>
					<Name><![CDATA[line4]]></Name>
					<X>40</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>190</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1668602284900</Id>
					<Name><![CDATA[text7]]></Name>
					<X>110</X><Y>230</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Actors]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1668602384222</Id>
					<Name><![CDATA[line5]]></Name>
					<X>40</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>190</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1668602384225</Id>
					<Name><![CDATA[text8]]></Name>
					<X>130</X><Y>380</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Other populations]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Line>
					<Id>1668602513058</Id>
					<Name><![CDATA[line6]]></Name>
					<X>520</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>460</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1668602513060</Id>
					<Name><![CDATA[text9]]></Name>
					<X>760</X><Y>30</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Variables]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
				<EmbeddedObjectPresentation>
					<Id>1667745003893</Id>
					<Name><![CDATA[mobilityTrackers_presentation]]></Name>
					<X>160</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<DrawingMode>AGENT_CURRENT_POSITION</DrawingMode>
					<ScaleType>AUTOMATICALLY_CALCULATED</ScaleType>
					<GISScaleForRealEmbeddedObjectPresentationSize>1000</GISScaleForRealEmbeddedObjectPresentationSize>
					<GISScaleForFixedEmbeddedObjectPresentationSize>1000000000</GISScaleForFixedEmbeddedObjectPresentationSize>
					<Latitude>0.0</Latitude>
					<Longitude>0.0</Longitude>
				</EmbeddedObjectPresentation>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658477288308</Id>
			<Name><![CDATA[GridNode]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<StartupCode><![CDATA[/*
if (p_energyType.equals(OL_EnergyCarrierType.HEAT)) {
	double capacityHeat_kW = 1000;
	double lossFactor_WpK = 100;
	double InitialStateOfCharge_degC = 60;
	double heatCapacity_JpK = 1e7;
	double soilTemperature_degC = main.p_undergroundTemperature_degC;
	p_transportBuffer = new J_EAStorageHeat(null, capacityHeat_kW, lossFactor_WpK, main.p_timeStep_h, InitialStateOfCharge_degC, 10, 90, heatCapacity_JpK);
	p_transportBuffer.updateAmbientTemperature(soilTemperature_degC);
}*/]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658477288306</Id>
				<Name><![CDATA[1658477288306]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658563200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658477288304</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658477288307</CurrentLevel>
			<ConnectionsId>1658477288303</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1658497430333</Id>
					<Name><![CDATA[v_currentLoadElectricity_kW]]></Name>
					<X>50</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1658497443523</Id>
					<Name><![CDATA[v_currentPowerLost_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>210</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660122738711</Id>
					<Name><![CDATA[v_currentLoadMethane_kW]]></Name>
					<X>50</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660122738713</Id>
					<Name><![CDATA[v_currentLoadHeat_kW]]></Name>
					<X>50</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660122738715</Id>
					<Name><![CDATA[v_currentLoadHydrogen_kW]]></Name>
					<X>50</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693601</Id>
					<Name><![CDATA[v_electricityDrawn_kWh]]></Name>
					<X>50</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693603</Id>
					<Name><![CDATA[v_methaneDrawn_kWh]]></Name>
					<X>50</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693605</Id>
					<Name><![CDATA[v_heatDrawn_kWh]]></Name>
					<X>50</X><Y>580</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693607</Id>
					<Name><![CDATA[v_hydrogenDrawn_kWh]]></Name>
					<X>50</X><Y>560</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693609</Id>
					<Name><![CDATA[v_electricityDelivered_kWh]]></Name>
					<X>230</X><Y>519</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693611</Id>
					<Name><![CDATA[v_methaneDelivered_kWh]]></Name>
					<X>230</X><Y>539</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693613</Id>
					<Name><![CDATA[v_heatDelivered_kWh]]></Name>
					<X>230</X><Y>579</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693615</Id>
					<Name><![CDATA[v_hydrogenDelivered_kWh]]></Name>
					<X>230</X><Y>559</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665061187538</Id>
					<Name><![CDATA[v_congested]]></Name>
					<X>800</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666594510176</Id>
					<Name><![CDATA[v_congestionMode]]></Name>
					<X>800</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[String]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666878219776</Id>
					<Name><![CDATA[v_peakLoadAbsoluteElectricity_kW]]></Name>
					<Description><![CDATA[Houdt de piekbelasting in kW over de modelrun bij (absolute waarde) voor kostenberekeningen netverzwaringen (totale gebiedskosten). Geupdate in f_calculateEnergyBalance.

@author: Jorrit
@since: 27-10-2022]]></Description>
					<X>240</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666878695816</Id>
					<Name><![CDATA[v_loadFactor_fr]]></Name>
					<Description><![CDATA[In electrical engineering the load factor is defined as the average load divided by the peak load in a specified time period.[1] It is a measure of the utilization rate, or efficiency.
geupdate vanuit

@author: Jorrit
@since: 27-10-2022]]></Description>
					<X>240</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666878761221</Id>
					<Name><![CDATA[v_averageAbsoluteLoadElectricity_kW]]></Name>
					<Description><![CDATA[Average load over model runtime in kW.

@author: Jorrit
@since: 27-10-2022]]></Description>
					<X>240</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667553127377</Id>
					<Name><![CDATA[v_timeOfPeakLoad_h]]></Name>
					<X>240</X><Y>350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668600984923</Id>
					<Name><![CDATA[v_currentLoadElectricityLowPassed_kW]]></Name>
					<X>280</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[1000]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668603168061</Id>
					<Name><![CDATA[v_lowPassFactor_fr]]></Name>
					<X>280</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[min(1,0.8*1.2*main.p_timeStep_h)]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1658477613290</Id>
					<Name><![CDATA[p_agentID]]></Name>
					<X>50</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658477613288</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658480610309</Id>
					<Name><![CDATA[p_parentNodeID]]></Name>
					<X>50</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658480610307</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658492575878</Id>
					<Name><![CDATA[p_nodeType]]></Name>
					<X>50</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridNodeType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658492575876</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658492864101</Id>
					<Name><![CDATA[p_energyType]]></Name>
					<X>50</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_EnergyCarrierType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658492864099</Id>
							<Label><![CDATA[p_energyType]]></Label>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658493496878</Id>
					<Name><![CDATA[p_capacity_kW]]></Name>
					<X>50</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1658493496876</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660635056957</Id>
					<Name><![CDATA[p_transportBuffer]]></Name>
					<X>240</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EAStorageHeat]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1660635056955</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1664465663237</Id>
					<Name><![CDATA[p_ownerGridOperator]]></Name>
					<X>240</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[GridOperator]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1664465663235</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1664466130593</Id>
					<Name><![CDATA[p_gridNodeOwnerID]]></Name>
					<X>50</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1664466130591</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1658751320739</Id>
					<Name><![CDATA[c_electricityFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1660122738701</Id>
					<Name><![CDATA[c_heatFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1660122738703</Id>
					<Name><![CDATA[c_methaneFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1660122738705</Id>
					<Name><![CDATA[c_hydrogenFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>410</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960213</Id>
					<Name><![CDATA[c_connectedEnergyAssets]]></Name>
					<X>780</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960219</Id>
					<Name><![CDATA[c_connectedStorageAssets]]></Name>
					<X>800</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960221</Id>
					<Name><![CDATA[c_connectedConsumptionAssets]]></Name>
					<X>800</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960223</Id>
					<Name><![CDATA[c_connectedProductionAssets]]></Name>
					<X>800</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960226</Id>
					<Name><![CDATA[c_connectedConversionAssets]]></Name>
					<X>800</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666560357503</Id>
					<Name><![CDATA[c_electricityGridConnections]]></Name>
					<X>780</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridConnection]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658495336616</Id>
					<Name><![CDATA[f_connectToParentNode]]></Name>
					<X>50</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[GridNode myParentNode = findFirst(main.pop_gridNodes, p->p.p_agentID.equals(p_parentNodeID));
if( myParentNode instanceof GridNode ) {
	superConnection.connectTo(myParentNode);
	myParentNode.f_connectToChild(this);
}

GridOperator myParentGridOperator = findFirst(main.pop_gridOperators, p->p.p_actorID.equals(p_gridNodeOwnerID)) ;
if( myParentGridOperator instanceof GridOperator) {
	p_ownerGridOperator = myParentGridOperator;
//superConnection.connectTo(myParentGridOperator);
	myParentGridOperator.f_connectToChild(this, p_energyType);
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658495630251</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>50</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingChildNode);

if ( ConnectingChildNode instanceof GridConnection) {
	 //||
	 //ConnectingChildNode instanceof GCBuilding ||
	 //ConnectingChildNode instanceof GCIndustry)
	 
	 c_electricityGridConnections.add( (GridConnection)ConnectingChildNode );
}

if( ConnectingChildNode instanceof EnergyAsset ) {
	EnergyAsset EA = (EnergyAsset) ConnectingChildNode;
	c_connectedEnergyAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAConsumption) {
		c_connectedConsumptionAssets.add(EA);
	} else if (EA.p_energyAssetInstance instanceof J_EAProduction ) {
		c_connectedProductionAssets.add(EA);
	} else if (EA.p_energyAssetInstance instanceof J_EAStorage ) {
		c_connectedStorageAssets.add(EA);
		if (EA.p_energyAssetInstance instanceof J_EAStorageHeat) {
			p_transportBuffer = (J_EAStorageHeat)EA.p_energyAssetInstance;
		}
	} else if (EA.p_energyAssetInstance instanceof J_EAConversion) {
		c_connectedConversionAssets.add(EA);
//	if (EA.p_energyAssetInstance instanceof J_EAConversionGasBurner || EA.p_energyAssetInstance instanceof J_EAConversionHeatPump || EA.p_energyAssetInstance instanceof J_EAConversionHeatDeliverySet ) {
	//	p_HeatingAsset = EA;
//		//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
//	}
	} else {
		traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingChildNode.getId() + " is of unknown type or null! ");
	}
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658751236578</Id>
					<Name><![CDATA[f_calculateEnergyBalance]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>210</X><Y>390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// clear energy-balance for the next timestep
c_electricityFlows.clear();
v_currentLoadElectricity_kW = 0;

// determine the net electricity flow from all subconnections
for( Agent a : subConnections.getConnections() )
{
	if( a instanceof NetConnection )
	{
		//traceln("NetConnection!");
		a = (NetConnection)a;
		c_electricityFlows.put(a, ((NetConnection) a).v_currentPowerElectricity_kW);
		v_currentLoadElectricity_kW += ((NetConnection) a).v_currentPowerElectricity_kW;
	}
	else if( a instanceof EnergyAsset )
	{
		//traceln("EnergyAsset!");
		a = (EnergyAsset)a;
		c_electricityFlows.put(a, ((EnergyAsset) a).v_currentProductionElectricity_kW);
		v_currentLoadElectricity_kW += ((EnergyAsset) a).v_currentProductionElectricity_kW;
	}
	else if( a instanceof NetNode )
	{
		//traceln("NetNode!");
		a = (NetNode)a;
		c_electricityFlows.put(a,((NetNode) a).v_currentLoadElectricity_kW);
		v_currentLoadElectricity_kW += ((NetNode) a).v_currentLoadElectricity_kW;
	}
}

//traceln( "total load: "+v_currentPower_kW );]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660122738707</Id>
					<Name><![CDATA[f_calculateEnergyBalance]]></Name>
					<X>50</X><Y>350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// clear energy-balance for the next timestep
/*c_electricityFlows.clear();
c_methaneFlows.clear();
c_hydrogenFlows.clear();
c_heatFlows.clear();*/

v_currentLoadElectricity_kW = 0;
v_currentLoadMethane_kW = 0;
v_currentLoadHydrogen_kW = 0;
v_currentLoadHeat_kW = 0;

// determine the net energy flows from all subconnections by nodetype

for( Agent a : subConnections.getConnections() )
{
	if( a instanceof GridNode ) {
		switch(p_energyType) {
			case ELECTRICITY:
				//c_electricityFlows.put(a, ((GridNode) a).v_currentLoadElectricity_kW);
				v_currentLoadElectricity_kW += ((GridNode) a).v_currentLoadElectricity_kW;
			break;
			case METHANE:
				//c_methaneFlows.put(a, ((GridNode) a).v_currentLoadMethane_kW);
				v_currentLoadMethane_kW += ((GridNode) a).v_currentLoadMethane_kW;
			break;
			case HYDROGEN:
				//c_hydrogenFlows.put(a, ((GridNode) a).v_currentLoadHydrogen_kW);
				v_currentLoadHydrogen_kW += ((GridNode) a).v_currentLoadHydrogen_kW;
			break;
			case HEAT:
				//c_heatFlows.put(a, ((GridNode) a).v_currentLoadHeat_kW);
				v_currentLoadHeat_kW += ((GridNode) a).v_currentLoadHeat_kW;
			break;
			default:
				//
			break;
		}
	}

	if( a instanceof GridConnection ) {
		switch(p_energyType) {
			case ELECTRICITY:
				//c_electricityFlows.put(a, ((GridConnection) a).v_currentPowerElectricity_kW);
				v_currentLoadElectricity_kW += ((GridConnection) a).v_currentPowerElectricity_kW;

			break;
			case METHANE:
				//c_methaneFlows.put(a, ((GridConnection) a).v_currentPowerMethane_kW);
				v_currentLoadMethane_kW += ((GridConnection) a).v_currentPowerMethane_kW;

			break;
			case HYDROGEN:
				//c_hydrogenFlows.put(a, ((GridConnection) a).v_currentPowerHydrogen_kW);
				v_currentLoadHydrogen_kW += ((GridConnection) a).v_currentPowerHydrogen_kW;

			break;
			case HEAT:
				//c_heatFlows.put(a, ((GridConnection) a).v_currentPowerHeat_kW);
				v_currentLoadHeat_kW += ((GridConnection) a).v_currentPowerHeat_kW;

			break;
			default:
				//
			break;
		}
	}
}

if( abs( v_currentLoadElectricity_kW ) > abs(v_peakLoadAbsoluteElectricity_kW) ) { // store maximum absolute load, but retain sign!
	v_peakLoadAbsoluteElectricity_kW = abs( v_currentLoadElectricity_kW );
	v_timeOfPeakLoad_h = time(HOUR);
}

// Low-pass filtered grid load
//double lowPassFraction = min(1,1*1.2*main.p_timeStep_h); // smaller value results in more filtering
v_currentLoadElectricityLowPassed_kW += v_lowPassFactor_fr * ( v_currentLoadElectricity_kW - v_currentLoadElectricityLowPassed_kW );


if (p_energyType.equals(OL_EnergyCarrierType.HEAT)) { // Thermal load goes into transportBuffer
	double v_powerFraction_fr = -v_currentLoadHeat_kW / p_transportBuffer.getHeatCapacity_kW();
	p_transportBuffer.operate(v_powerFraction_fr);
	//traceln("DistrictHeating network water temperature " + p_transportBuffer.getCurrentTemperature() + " deg C, buffer power fraction " + v_powerFraction_fr * 100 + " %, transportbuffer HeatCapacity_kW " + p_transportBuffer.getHeatCapacity_kW());
}

//traceln("GridNode " + p_agentID + " update at time " + time(HOUR));
f_nodeMetering();]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660216693598</Id>
					<Name><![CDATA[f_nodeMetering]]></Name>
					<X>50</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_electricityDrawn_kWh += max(v_currentLoadElectricity_kW, 0)*main.p_timeStep_h;
v_electricityDelivered_kWh += max(-v_currentLoadElectricity_kW, 0)*main.p_timeStep_h;

v_methaneDrawn_kWh += max(v_currentLoadMethane_kW, 0)*main.p_timeStep_h;
v_methaneDelivered_kWh += max(-v_currentLoadMethane_kW, 0)*main.p_timeStep_h;

v_hydrogenDrawn_kWh += max(v_currentLoadHydrogen_kW, 0)*main.p_timeStep_h;
v_hydrogenDelivered_kWh += max(-v_currentLoadHydrogen_kW, 0)*main.p_timeStep_h;

v_heatDrawn_kWh += max(v_currentLoadHeat_kW, 0)*main.p_timeStep_h;
v_heatDelivered_kWh += max(-v_currentLoadHeat_kW, 0)*main.p_timeStep_h;

v_averageAbsoluteLoadElectricity_kW = ( v_electricityDrawn_kWh + v_electricityDelivered_kWh ) / time(HOUR);
v_loadFactor_fr = v_averageAbsoluteLoadElectricity_kW / abs(v_peakLoadAbsoluteElectricity_kW);]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666556555538</Id>
					<Name><![CDATA[f_setConsumptionCongestionTariff]]></Name>
					<X>800</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[price_eurpkWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[allowance_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[for (GridConnection gc: c_electricityGridConnections){
	// we gaan nu nog even uit van vaste congestietarieven en limiten
	ConnectionOwner owner = ((ConnectionOwner)gc.p_ownerActor);
	//if( !owner.v_congestionTariff_b ) {
		owner.v_buyCongestionPrice_eurpkWh = price_eurpkWh;
		owner.v_congestionTariffAllowance_kW = allowance_kW;
		//owner.v_congestionTariff_b = true; // This is controlled by the contract between connectionOwner and GridOperator! Do not overwrite from here!
		//owner.v_updatePriceBands_b = true;
		owner.v_congestionMode = v_congestionMode;
	//}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666556578433</Id>
					<Name><![CDATA[f_setProductionCongestionTariff]]></Name>
					<X>800</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[price_eurpkWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[allowance_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[for (GridConnection gc: c_electricityGridConnections){
	// we gaan nu nog even uit van vaste congestietarieven en limiten
	ConnectionOwner owner = ((ConnectionOwner)gc.p_ownerActor);
	//if( !owner.v_congestionTariff_b ) {
		owner.v_sellCongestionPrice_eurpkWh = price_eurpkWh;
		owner.v_congestionTariffAllowance_kW = -allowance_kW;
		//owner.v_congestionTariff_b = true; // This is controlled by the contract between connectionOwner and GridOperator! Do not overwrite from here!
		//owner.v_updatePriceBands_b = true;
		owner.v_congestionMode = v_congestionMode;
	//}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666560316436</Id>
					<Name><![CDATA[f_resetCongestionTariffs]]></Name>
					<Description><![CDATA[Gridoperator roept deze functie alleen aan als deze node vorige tijdstap congested was maar nu niet meer.]]></Description>
					<X>800</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for (GridConnection gc: c_electricityGridConnections){
	ConnectionOwner owner = ((ConnectionOwner)gc.p_ownerActor);
	//owner.v_congestionTariff_b = false;
	//owner.v_updatePriceBands_b = true;
	owner.v_buyCongestionPrice_eurpkWh = 0;
	owner.v_sellCongestionPrice_eurpkWh = 0;
	owner.v_congestionTariffAllowance_kW = 0;
	owner.v_congestionMode = v_congestionMode;
}]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658477288303</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<OnReceive><![CDATA[//v_gridNodePriceBands = msg;
subConnections.sendToAllConnected(msg);]]></OnReceive>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[TreeMap<Double, Double>]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658495297995</Id>
					<Name><![CDATA[superConnection]]></Name>
					<X>200</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>SINGLE_LINK</AgentLinkType>
					<AgentReferenceId>1658477288308</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658495597148</Id>
					<Name><![CDATA[subConnections]]></Name>
					<X>200</X><Y>-20</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658477403925</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1658477288307</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658499438203</Id>
			<Name><![CDATA[GridConnection]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Import><![CDATA[import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.node.ObjectNode;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.node.ArrayNode;
import com.fasterxml.jackson.databind.node.TextNode;
import com.fasterxml.jackson.databind.node.NumericNode;
import com.fasterxml.jackson.core.json.JsonReadFeature;
import java.io.IOException;
import java.util.Scanner;
import java.util.*;
import java.util.stream.Collectors;
import java.io.*;]]></Import>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658499438201</Id>
				<Name><![CDATA[1658499438201]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658563200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658499438199</Id>
				<Name><![CDATA[scale]]></Name>
				<X>30</X><Y>-260</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658499438202</CurrentLevel>
			<ConnectionsId>1658499438198</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1658499590783</Id>
					<Name><![CDATA[v_currentPowerElectricity_kW]]></Name>
					<X>50</X><Y>450</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1658501011313</Id>
					<Name><![CDATA[v_currentPowerLost_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659355078476</Id>
					<Name><![CDATA[v_currentPowerMethane_kW]]></Name>
					<X>340</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659355091165</Id>
					<Name><![CDATA[v_currentPowerHeat_kW]]></Name>
					<X>340</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659513167233</Id>
					<Name><![CDATA[v_currentPowerHydrogen_kW]]></Name>
					<X>340</X><Y>500</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212770046</Id>
					<Name><![CDATA[v_electricityDrawn_kWh]]></Name>
					<X>530</X><Y>500</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212770048</Id>
					<Name><![CDATA[v_methaneDrawn_kWh]]></Name>
					<X>530</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212770050</Id>
					<Name><![CDATA[v_heatDrawn_kWh]]></Name>
					<X>530</X><Y>560</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212770052</Id>
					<Name><![CDATA[v_hydrogenDrawn_kWh]]></Name>
					<X>530</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212876472</Id>
					<Name><![CDATA[v_electricityDelivered_kWh]]></Name>
					<X>710</X><Y>499</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212876474</Id>
					<Name><![CDATA[v_methaneDelivered_kWh]]></Name>
					<X>710</X><Y>519</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212876476</Id>
					<Name><![CDATA[v_heatDelivered_kWh]]></Name>
					<X>710</X><Y>559</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212876478</Id>
					<Name><![CDATA[v_hydrogenDelivered_kWh]]></Name>
					<X>710</X><Y>539</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660561907004</Id>
					<Name><![CDATA[v_totalEnergyUsed_kWh]]></Name>
					<X>530</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660561920117</Id>
					<Name><![CDATA[v_totalEnergyProduced_kWh]]></Name>
					<X>710</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660567920170</Id>
					<Name><![CDATA[v_selfConsumption_fr]]></Name>
					<X>40</X><Y>410</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660567920172</Id>
					<Name><![CDATA[v_selfSufficiency_fr]]></Name>
					<X>40</X><Y>390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666282164534</Id>
					<Name><![CDATA[v_previousPowerElectricity_kW]]></Name>
					<X>50</X><Y>570</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667746610980</Id>
					<Name><![CDATA[v_vehicleIndex]]></Name>
					<Description><![CDATA[Wordt gebruikt om voertuigen aan assets te koppelen tijden initialisatie.]]></Description>
					<X>-190</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667902447354</Id>
					<Name><![CDATA[v_chargingPower_kW]]></Name>
					<X>70</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668359062406</Id>
					<Name><![CDATA[v_allowedCapacity_kW]]></Name>
					<X>40</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668370002883</Id>
					<Name><![CDATA[v_additionalTimeSpreadCharging_MIN]]></Name>
					<Description><![CDATA[In the charging attitude MAX_SPREAD the vehicles can be planned to be full some time before their actual departure. ]]></Description>
					<X>250</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[60]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668610729237</Id>
					<Name><![CDATA[v_fixedConsumptionPower_kW]]></Name>
					<X>70</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668610741368</Id>
					<Name><![CDATA[v_productionPower_kW]]></Name>
					<X>70</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668610757391</Id>
					<Name><![CDATA[v_batteryPower_kW]]></Name>
					<X>70</X><Y>550</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668611038479</Id>
					<Name><![CDATA[v_conversionPower_kW]]></Name>
					<X>70</X><Y>510</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668605322171</Id>
					<Name><![CDATA[v_currentPowerDiesel_kW]]></Name>
					<X>340</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668605338517</Id>
					<Name><![CDATA[v_dieselDrawn_kWh]]></Name>
					<X>530</X><Y>580</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668605479367</Id>
					<Name><![CDATA[v_dieselDelivered_kWh]]></Name>
					<X>710</X><Y>580</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668695288481</Id>
					<Name><![CDATA[v_electricityPriceLowPassed_eurpkWh]]></Name>
					<X>930</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0.3]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668695288483</Id>
					<Name><![CDATA[v_lowPassFactor_fr]]></Name>
					<X>930</X><Y>510</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[min(1,.01*1.2*main.p_timeStep_h)]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668695288485</Id>
					<Name><![CDATA[v_batterySOC_fr]]></Name>
					<X>930</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0.01]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669725778092</Id>
					<Name><![CDATA[v_maxConnectionLoad_fr]]></Name>
					<X>40</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1670254349157</Id>
					<Name><![CDATA[v_enable_nfATO_b]]></Name>
					<X>40</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1658499438204</Id>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
					<X>250</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionCategory]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>0</Id>
							<Label><![CDATA[p_netConnectionCategory]]></Label>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658500076242</Id>
					<Name><![CDATA[p_gridConnectionType]]></Name>
					<X>250</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658500076240</Id>
							<Label><![CDATA[p_netConnectionType]]></Label>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658500122113</Id>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
					<X>250</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658500122111</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658500465208</Id>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
					<X>50</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658500465206</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658752146271</Id>
					<Name><![CDATA[p_agentID]]></Name>
					<X>50</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658752146269</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660053984881</Id>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
					<X>50</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660053984879</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660115328584</Id>
					<Name><![CDATA[p_ThermalStorageAsset]]></Name>
					<X>470</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[EnergyAsset]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1660115328582</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>SEPARATOR</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660115363643</Id>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
					<X>470</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[EnergyAsset]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1660115363641</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660641245957</Id>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
					<X>50</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[GridNode]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660641245955</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660229326795</Id>
					<Name><![CDATA[p_ownerID]]></Name>
					<X>50</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660229326793</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660641260214</Id>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
					<X>50</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[GridNode]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660641260212</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660230516807</Id>
					<Name><![CDATA[p_ownerActor]]></Name>
					<X>50</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Agent]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660230516805</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1665486155683</Id>
					<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1665486155681</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1665486155689</Id>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
					<X>470</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[EnergyAsset]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1665486155687</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1665487815862</Id>
					<Name><![CDATA[p_heatingType]]></Name>
					<X>250</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionHeatingType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1665487815860</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668180047824</Id>
					<Name><![CDATA[p_energyAssetList]]></Name>
					<X>1030</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[ArrayList]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1668180047822</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668693393498</Id>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
					<X>250</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_ChargingAttitude]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1668693393496</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668693418082</Id>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
					<X>250</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_BatteryOperationMode]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1668693418080</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668695364192</Id>
					<Name><![CDATA[p_batteryAsset]]></Name>
					<X>510</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[EnergyAsset]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1668695364190</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668981435974</Id>
					<Name><![CDATA[p_nfatoStart_HR]]></Name>
					<X>250</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0
]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1668981435972</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668981451986</Id>
					<Name><![CDATA[p_nfatoEnd_HR]]></Name>
					<X>250</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0
]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1668981451984</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668981461541</Id>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
					<X>250</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1668981461539</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1658751085004</Id>
					<Name><![CDATA[c_electricityFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659115755266</Id>
					<Name><![CDATA[c_heatFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659355047955</Id>
					<Name><![CDATA[c_methaneFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659513190843</Id>
					<Name><![CDATA[c_hydrogenFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626903</Id>
					<Name><![CDATA[c_energyAssets]]></Name>
					<X>470</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626907</Id>
					<Name><![CDATA[c_storageAssets]]></Name>
					<X>490</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626909</Id>
					<Name><![CDATA[c_consumptionAssets]]></Name>
					<X>490</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626911</Id>
					<Name><![CDATA[c_productionAssets]]></Name>
					<X>490</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626913</Id>
					<Name><![CDATA[c_conversionAssets]]></Name>
					<X>490</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1667744410260</Id>
					<Name><![CDATA[c_mobilityTrackers]]></Name>
					<X>470</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[MobilityTracker]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1667746389220</Id>
					<Name><![CDATA[c_vehicleAssets]]></Name>
					<X>510</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1668359033654</Id>
					<Name><![CDATA[c_vehiclesAvailableForCharging]]></Name>
					<X>530</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1668181612214</Id>
					<Name><![CDATA[c_energyAssetsData]]></Name>
					<X>1030</X><Y>20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[LinkedHashMap]]></ElementClass>
						<ValueElementClass><![CDATA[ArrayList]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1668608441638</Id>
					<Name><![CDATA[c_batteries]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>510</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1669008764710</Id>
					<Name><![CDATA[c_vehiclesAvailableForTanking]]></Name>
					<X>530</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1669115948280</Id>
					<Name><![CDATA[c_dieselVehicles]]></Name>
					<X>530</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyAsset]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Events>
				<Event>
					<Id>1668981173495</Id>
					<Name><![CDATA[e_startNonFirmATO]]></Name>
					<X>40</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1669017600000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[1d/1f]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[DAY]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[v_allowedCapacity_kW = p_nfatoLvl_kW;]]></Action>
				</Event>
				<Event>
					<Id>1668981249422</Id>
					<Name><![CDATA[e_endNonFirmATO]]></Name>
					<X>40</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1669017600000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[1d/1f]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[DAY]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[v_allowedCapacity_kW = p_connectionCapacity_kW;]]></Action>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658500398176</Id>
					<Name><![CDATA[f_connectToParentNode]]></Name>
					<X>801</X><Y>93</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[GridNode myParentNodeElectric = findFirst(main.pop_gridNodes, p->p.p_agentID.equals(p_parentNodeElectricID)) ;
if( myParentNodeElectric instanceof GridNode ) {
	superConnection.connectTo(myParentNodeElectric);
	myParentNodeElectric.f_connectToChild(this);
	p_parentNodeElectric = myParentNodeElectric;
}

GridNode myParentNodeHeat = findFirst(main.pop_gridNodes, p->p.p_agentID.equals(p_parentNodeHeatID)) ;
if( myParentNodeHeat instanceof GridNode ) {
	superConnection.connectTo(myParentNodeHeat);
	myParentNodeHeat.f_connectToChild(this);
	p_parentNodeHeat = myParentNodeHeat;
}

ConnectionOwner myParentConnectionOwner = findFirst(main.pop_connectionOwners, p->p.p_actorID.equals(p_ownerID)) ;
if( myParentConnectionOwner instanceof ConnectionOwner) {
	p_ownerActor = myParentConnectionOwner;
	superConnection.connectTo(myParentConnectionOwner);
	myParentConnectionOwner.f_connectToChild(this);
}
EnergySupplier myParentEnergySupplier = findFirst(main.pop_energySuppliers, p->p.p_actorID.equals(p_ownerID)) ;
if( myParentEnergySupplier instanceof EnergySupplier) {
	p_ownerActor = myParentEnergySupplier;
	superConnection.connectTo(myParentEnergySupplier);
	myParentEnergySupplier.f_connectToChild(this);
}
EnergyHolon myParentEnergyHolon = findFirst(main.pop_energyHolons, p->p.p_actorID.equals(p_ownerID)) ;
if( myParentEnergyHolon instanceof EnergyHolon) {
	p_ownerActor = myParentEnergyHolon;
	superConnection.connectTo(myParentEnergyHolon);
	myParentEnergyHolon.f_connectToChild(this);
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658752229618</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>781</X><Y>133</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingChildNode);
EnergyAsset EA = (EnergyAsset) ConnectingChildNode;
c_energyAssets.add(EA);

if (EA.p_energyAssetInstance instanceof J_EAConsumption) {
	c_consumptionAssets.add(EA);
} else if (EA.p_energyAssetInstance instanceof J_EAProduction ) {
	c_productionAssets.add(EA);
} else if (EA.p_energyAssetInstance instanceof J_EAStorage ) {
	c_storageAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAStorageHeat) {
		p_ThermalStorageAsset = EA;
	}
	else if (EA.p_energyAssetInstance instanceof J_EAStorageElectric) {
		if(EA.p_energyAssetInstance instanceof J_EAEV && ((J_EAEV)EA.p_energyAssetInstance).getStorageCapacity_kWh() !=0) {
			c_vehicleAssets.add( EA );
			c_vehicleAssets.get( v_vehicleIndex ).v_powerFraction_fr = 1;
			MobilityTracker m = main.add_mobilityTrackers();
			c_mobilityTrackers.add( m );
			m.p_vehicleIndex = v_vehicleIndex;
			m.p_gridConnection = this;
			m.p_energyAsset = c_vehicleAssets.get( v_vehicleIndex );
			m.p_vehicleInstance = (J_EAEV)m.p_vehicleInstance;
			m.p_vehicleInstance = (J_EAEV)m.p_energyAsset.p_energyAssetInstance;
 			m.p_mobilityPatternType = OL_MobilityPatternType.TRUCK;
			((J_EAEV)m.p_vehicleInstance).setMobilityTracker( m );
			m.f_getData();
			v_vehicleIndex ++;
		}
		else if (((J_EAStorageElectric)EA.p_energyAssetInstance).getStorageCapacity_kWh() !=0) {
			//c_batteries.add(EA);
			p_batteryAsset = EA;
		}
	}
} else if (EA.p_energyAssetInstance instanceof J_EAConversion) {
	c_conversionAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAConversionGasBurner || EA.p_energyAssetInstance instanceof J_EAConversionHeatPump || EA.p_energyAssetInstance instanceof J_EAConversionHeatDeliverySet ) {
		p_primaryHeatingAsset = EA;
		//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
	}
	else if (EA.p_energyAssetInstance instanceof J_EAConversionDieselVehicle) {
		c_vehicleAssets.add( EA );
		c_dieselVehicles.add( EA );
		c_vehicleAssets.get( v_vehicleIndex ).v_powerFraction_fr = 1;
		MobilityTracker m = main.add_mobilityTrackers();
		c_mobilityTrackers.add( m );
		m.p_vehicleIndex = v_vehicleIndex;
		m.p_gridConnection = this;
		m.p_energyAsset = c_vehicleAssets.get( v_vehicleIndex );
		m.p_vehicleInstance = (J_EAConversionDieselVehicle)m.p_energyAsset.p_energyAssetInstance;
		m.p_vehicleInstance = (J_EAConversionDieselVehicle)m.p_vehicleInstance;
		m.p_mobilityPatternType = OL_MobilityPatternType.TRUCK;
		((J_EAConversionDieselVehicle)m.p_vehicleInstance).setMobilityTracker( m );
		m.f_getData();
		v_vehicleIndex ++;
	}
}
else {
	traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingChildNode.getId() + " is of unknown type or null! ");
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659962626917</Id>
					<Name><![CDATA[f_findMyEnergyAssets]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660212665961</Id>
					<Name><![CDATA[f_connectionMetering]]></Name>
					<X>800</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_electricityDrawn_kWh += max(v_currentPowerElectricity_kW, 0) * main.p_timeStep_h;
v_electricityDelivered_kWh += max(-v_currentPowerElectricity_kW, 0) * main.p_timeStep_h;

v_methaneDrawn_kWh += max(v_currentPowerMethane_kW, 0) * main.p_timeStep_h;
v_methaneDelivered_kWh += max(-v_currentPowerMethane_kW, 0) * main.p_timeStep_h;

v_hydrogenDrawn_kWh += max(v_currentPowerHydrogen_kW, 0) * main.p_timeStep_h;
v_hydrogenDelivered_kWh += max(-v_currentPowerHydrogen_kW, 0) * main.p_timeStep_h;

v_heatDrawn_kWh += max(v_currentPowerHeat_kW, 0) * main.p_timeStep_h;
v_heatDelivered_kWh += max(-v_currentPowerHeat_kW, 0) * main.p_timeStep_h;

v_dieselDrawn_kWh += max(v_currentPowerDiesel_kW, 0) * main.p_timeStep_h;
v_dieselDelivered_kWh += max(-v_currentPowerDiesel_kW, 0) * main.p_timeStep_h;
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664961435385</Id>
					<Name><![CDATA[f_operateFlexAssets]]></Name>
					<X>800</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//Overwritten]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668181559833</Id>
					<Name><![CDATA[f_instantiateEnergyAssets]]></Name>
					<X>801</X><Y>73</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//traceln("asset " + p_energyAssetList);

if( p_energyAssetList != null) {
	c_energyAssetsData = p_energyAssetList;
	for( HashMap l : c_energyAssetsData ) {
		OL_EACategories assetCategory = OL_EACategories.valueOf((String)l.get( "category" ));
		switch( assetCategory )  {
			case CONSUMPTION:
				EnergyAsset consumerAsset = main.add_pop_energyAssets();
				consumerAsset.set_p_parentAgentID( this.p_agentID );
				consumerAsset.set_p_energyAssetType( OL_EnergyAssetType.valueOf((String)l.get( "type" ) ));
				consumerAsset.set_p_defaultEnergyAssetPresetName( (String)l.get( "name" ));
				double yearlyDemandElectricity_kWh = l.get( "yearlyDemandElectricity_kWh")== null? 0.0: Double.valueOf( l.get( "yearlyDemandElectricity_kWh").toString()).doubleValue();
				double yearlyDemandHeat_kWh = l.get( "yearlyDemandHeat_kWh")== null? 0.0: Double.valueOf( l.get( "yearlyDemandHeat_kWh").toString()).doubleValue();

				consumerAsset.f_instantiateConsumerAsset( consumerAsset.p_energyAssetType, yearlyDemandElectricity_kWh , yearlyDemandHeat_kWh );
				consumerAsset.f_connectToParentNode( this );
			break;
			case PRODUCTION:
				//traceln("production-asset detected!");
				EnergyAsset producerAsset = main.add_pop_energyAssets();
				producerAsset.set_p_parentAgentID( this.p_agentID );
				producerAsset.set_p_energyAssetType( OL_EnergyAssetType.valueOf((String)l.get( "type" ) ));
				producerAsset.set_p_defaultEnergyAssetPresetName( (String)l.get( "name" ));

				double capacityElectricity_kW = l.get( "capacityElectricity_kW")== null? 0.0: Double.valueOf( l.get( "capacityElectricity_kW").toString()).doubleValue();
				double capacityHeat_kW = l.get( "capacityHeat_kW")== null? 0.0: Double.valueOf( l.get( "capacityHeat_kW").toString()).doubleValue();

				producerAsset.f_instantiateProducerAsset( producerAsset.p_energyAssetType, capacityElectricity_kW , capacityHeat_kW );
				producerAsset.f_connectToParentNode( this );
				main.c_productionAssets.add(producerAsset);
			break;
			case CONVERSION:
				//traceln("conversion-asset detected!");
				EnergyAsset converterAsset = main.add_pop_energyAssets();
				converterAsset.set_p_parentAgentID( this.p_agentID );
				converterAsset.set_p_energyAssetType( OL_EnergyAssetType.valueOf((String)l.get( "type" ) ));
				converterAsset.set_p_defaultEnergyAssetPresetName( (String)l.get( "name" ));

				double capacityElectric_kW = l.get( "capacityElectricity_kW")== null? 0.0: Double.valueOf(l.get( "capacityElectricity_kW").toString()).doubleValue();
				double capacityHeat_kW1 = l.get( "capacityHeat_kW")== null? 0: Double.valueOf(l.get( "capacityHeat_kW").toString()).doubleValue();
				double eta_r = (Double)l.get( "eta_r" ) == null? 0.0 : Double.valueOf(l.get( "eta_r" ).toString()).doubleValue();
				double deliveryTemp_degC = l.get( "deliveryTemp_degC" ) == null? 0.0: Double.valueOf( l.get( "deliveryTemp_degC" ).toString()).doubleValue();
				String ambientTempType = (String)l.get( "ambientTempType" ) == null? "": (String)l.get( "ambientTempType" );
				double energyConsumption_kWhpkm = l.get( "energyConsumption_kWhpkm" ) == null? 0.0: Double.valueOf( l.get( "energyConsumption_kWhpkm" ).toString()).doubleValue();
				double vehicleScaling = l.get("vehicleScaling") == null? 1.0: Double.valueOf( l.get( "vehicleScaling" ).toString()).doubleValue();
	
				converterAsset.f_instantiateConverterAsset( converterAsset.p_energyAssetType,
														capacityElectric_kW,
														capacityHeat_kW1,
														eta_r,
														deliveryTemp_degC,
														ambientTempType,
														energyConsumption_kWhpkm,
														vehicleScaling);
				converterAsset.f_connectToParentNode( this );
				break;
			case STORAGE:
				//traceln("storage-asset detected!");
				double storageCapacity_kWh = l.get( "storageCapacity_kWh" ) == null? 0.0: Double.valueOf( l.get( "storageCapacity_kWh").toString()).doubleValue();
				/*if ( OL_EnergyAssetType.valueOf((String)l.get( "type" )) == OL_EnergyAssetType.STORAGE_ELECTRIC & storageCapacity_kWh == 0.0) {
					traceln("************** Ignoring battery with capacity 0! *************");
				} else {*/
					EnergyAsset storageAsset = main.add_pop_energyAssets();
					storageAsset.set_p_parentAgentID( this.p_agentID );
					storageAsset.set_p_energyAssetType( OL_EnergyAssetType.valueOf((String)l.get( "type" ) ));
					storageAsset.set_p_defaultEnergyAssetPresetName( (String)l.get( "name" ));
					//traceln(storageAsset.p_defaultEnergyAssetPresetName);
	
					double capacityElectric_kW1 = l.get( "capacityElectricity_kW") == null? 0.0: Double.valueOf( l.get( "capacityElectricity_kW" ).toString()).doubleValue();
					double capacityHeatDelivery_kW1 = l.get( "capacityHeat_kW") == null? 0.0: Double.valueOf( l.get( "capacityHeat_kW").toString()).doubleValue();
					double initialStateOfCharge_r = l.get( "stateOfCharge_r" ) == null? 0.0: Double.valueOf( l.get( "stateOfCharge_r" ).toString()).doubleValue();
					
					double lossFactor_WpK = l.get( "lossFactor_WpK" ) == null? 0.0: Double.valueOf( l.get( "lossFactor_WpK" ).toString()).doubleValue();
					double heatCapacity_JpK = l.get( "heatCapacity_JpK" ) == null? 0.0: Double.valueOf( l.get( "heatCapacity_JpK" ).toString()).doubleValue();
					double minTemperature_degC = l.get( "minTemperature_degC" ) == null? 0.0: Double.valueOf( l.get( "minTemperature_degC" ).toString()).doubleValue();
					double maxTemperature_degC = l.get( "maxTemperature_degC" ) == null? 0.0: Double.valueOf( l.get( "maxTemperature_degC" ).toString()).doubleValue();
					double setTemperature_degC = l.get( "setTemperature_degC" ) == null? 0.0: Double.valueOf( l.get( "setTemperature_degC" ).toString()).doubleValue();
					String ambientTempType2 = (String)l.get( "ambientTempType" ) == null? "": (String)l.get( "ambientTempType" );
					
					double energyConsumption_kWhpkm2 = l.get( "energyConsumption_kWhpkm" ) == null? 0.0: Double.valueOf( l.get( "energyConsumption_kWhpkm" ).toString()).doubleValue();
					double vehicleScaling2 = l.get("vehicleScaling") == null? 1.0: Double.valueOf( l.get( "vehicleScaling" ).toString()).doubleValue();
	
					storageAsset.f_instantiateStorageAsset( storageAsset.p_energyAssetType,
															capacityElectric_kW1,
															capacityHeatDelivery_kW1,
															initialStateOfCharge_r,
															lossFactor_WpK,
															storageCapacity_kWh,
															heatCapacity_JpK,
															minTemperature_degC,
															maxTemperature_degC,
															setTemperature_degC,
															ambientTempType2,
															energyConsumption_kWhpkm2,
															vehicleScaling2);
					storageAsset.f_connectToParentNode( this );
					main.c_storageAssets.add(storageAsset);
				//}
				break;
			default:
				traceln("not a valid energy asset category." + assetCategory);
			break;
		}
	}
//traceln("GridConnection "+this.p_agentID+" has finished initializing its energyAssets!");
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668528273163</Id>
					<Name><![CDATA[f_calculateEnergyBalance]]></Name>
					<X>780</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_currentPowerElectricity_kW = 0;
v_currentPowerMethane_kW = 0;
v_currentPowerHydrogen_kW = 0;
v_currentPowerHeat_kW = 0;
v_currentPowerDiesel_kW = 0;
v_fixedConsumptionPower_kW = 0;
v_chargingPower_kW = 0;
v_batteryPower_kW = 0;
v_productionPower_kW = 0;

f_operateFixedAssets();
for( EnergyAsset EA : c_productionAssets ){
	v_currentPowerElectricity_kW += EA.v_currentConsumptionElectricity_kW - EA.v_currentProductionElectricity_kW;
	v_productionPower_kW += EA.v_currentConsumptionElectricity_kW - EA.v_currentProductionElectricity_kW;
	v_currentPowerMethane_kW += EA.v_currentConsumptionMethane_kW - EA.v_currentProductionMethane_kW;
	v_currentPowerHydrogen_kW += EA.v_currentConsumptionHydrogen_kW - EA.v_currentProductionHydrogen_kW;
	v_currentPowerHeat_kW += EA.v_currentConsumptionHeat_kW - EA.v_currentProductionHeat_kW;
}
for( EnergyAsset EA : c_consumptionAssets ){
	v_currentPowerElectricity_kW += EA.v_currentConsumptionElectricity_kW - EA.v_currentProductionElectricity_kW;
	v_fixedConsumptionPower_kW += EA.v_currentConsumptionElectricity_kW - EA.v_currentProductionElectricity_kW;
	v_currentPowerMethane_kW += EA.v_currentConsumptionMethane_kW - EA.v_currentProductionMethane_kW;
	v_currentPowerHydrogen_kW += EA.v_currentConsumptionHydrogen_kW - EA.v_currentProductionHydrogen_kW;
	v_currentPowerHeat_kW += EA.v_currentConsumptionHeat_kW - EA.v_currentProductionHeat_kW;
}

f_operateFlexAssets();
// flex assets cant be looped after the operatefunction to set the power consumption, as their behavior is interdependent and needs te be updated during the loop! 


v_previousPowerElectricity_kW = v_currentPowerElectricity_kW;
f_connectionMetering();

// Total Energy Use and Production
v_totalEnergyUsed_kWh = 0;
v_totalEnergyProduced_kWh = 0;
for (EnergyAsset EA : c_energyAssets ) {
	double energyUse_kWh=EA.p_energyAssetInstance.getEnergyUsed_kWh();
	v_totalEnergyUsed_kWh += max(0, energyUse_kWh);
	v_totalEnergyProduced_kWh -= min(0, energyUse_kWh);
}

/*if (p_batteryAsset != null){
	v_totalEnergyUsed_kWh += ((J_EAStorageElectric)p_batteryAsset.p_energyAssetInstance).getTotalChargeAmount_kWh();
	v_totalEnergyProduced_kWh += ((J_EAStorageElectric)p_batteryAsset.p_energyAssetInstance).getTotalDischargeAmount_kWh();
}*/

v_selfConsumption_fr = 1 - (v_electricityDelivered_kWh + v_heatDelivered_kWh + v_methaneDelivered_kWh + v_hydrogenDelivered_kWh + v_dieselDelivered_kWh ) / v_totalEnergyProduced_kWh; // Doesn't make sense to sum different energy carriers!
v_selfSufficiency_fr = 1 - (v_electricityDrawn_kWh + v_heatDrawn_kWh + v_methaneDrawn_kWh + v_hydrogenDrawn_kWh + v_dieselDrawn_kWh) / v_totalEnergyUsed_kWh; // Need to account for energy in storages

v_maxConnectionLoad_fr = max(v_maxConnectionLoad_fr, abs(v_currentPowerElectricity_kW / v_allowedCapacity_kW ));

if (main.b_addKpiVisuals) {
	pl_SOC.updateData();
	pl_powerFlows.updateData();
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668528300576</Id>
					<Name><![CDATA[f_operateFixedAssets]]></Name>
					<X>800</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(EnergyAsset e : c_productionAssets) {
	if( e.p_energyAssetType == OL_EnergyAssetType.PHOTOVOLTAIC) {
		e.f_updateElectricityFlows( main.v_currentSolarPowerNormalized_r );
	}
	else if(e.p_energyAssetType == OL_EnergyAssetType.WINDMILL) {
		e.f_updateElectricityFlows( main.v_currentWindPowerNormalized_r );
	}
	else {
		traceln("ProductionAsset with unknown type, cannot operate!! Type: " + e.p_energyAssetType);
		e.v_powerFraction_fr = 0;
		throw new IllegalStateException("ProductionAsset with unknown type, cannot operate!! Type: " + e.p_energyAssetType);
	}
}

for(EnergyAsset e : c_consumptionAssets) {
	if( e.p_energyAssetType == OL_EnergyAssetType.ELECTRICITY_DEMAND ) { // TODO: Replace with more descriptive EnergyAssetType, don't switch based on GridConnectionCategory!
		switch(e.p_defaultEnergyAssetPresetName) {
			case "INDUSTRY_OTHER_ELECTRICITY_DEMAND":
				e.f_updateElectricityFlows( main.v_currentIndustryOtherElectricityDemand_fr );
			break;
			case "LOGISTICS_FLEET_HGV_E" :
				e.f_updateElectricityFlows( main.v_currentLogisticsFleetEDemand_fr );
			break;
			case "INDUSTRY_STEEL_ELECTRICITY_DEMAND" :
				e.f_updateElectricityFlows( main.v_currentIndustrySteelElectricityDemand_fr );
			break;
			case "House_other_electricity":
				e.f_updateElectricityFlows( main.v_currentHouseHoldOtherElectricityDemand_fr );
			break;
			case "Office_other_electricity":
				e.f_updateElectricityFlows( main.v_currentBuildingOtherElectricityDemand_fr );
			break;
			case "Store_other_electricity":
				e.f_updateElectricityFlows( main.v_currentBuildingOtherElectricityDemand_fr );
			break;
			default:
				traceln("ConsumptionAsset with unknown type, cannot operate!! Type: " + e.p_energyAssetType);
				throw new IllegalStateException("ELECTRICITY_DEMAND with unknown name, cannot operate!! Name: " + e.p_defaultEnergyAssetPresetName);
		}				

	} 
	else if( e.p_energyAssetType == OL_EnergyAssetType.HOT_WATER_CONSUMPTION ){	
		e.f_updateAllFlows( main.v_currentHouseHoldHotWaterDemand_fr );
	}
	else if( e.p_energyAssetType == OL_EnergyAssetType.HEAT_DEMAND ) {
		switch(e.p_defaultEnergyAssetPresetName) {
			case "INDUSTRY_OTHER_HEAT_DEMAND":
				e.f_updateAllFlows( main.v_currentIndustryOtherHeatDemand_fr );
			break;
			case "Industry_steel_heat":
				e.f_updateAllFlows( main.v_currentIndustrySteelHeatDemand_fr );
			break;
			default:
				traceln("ConsumptionAsset with unknown type, cannot operate!! Type: " + e.p_energyAssetType);
				throw new IllegalStateException("HEAT_DEMAND with unknown name, cannot operate!! Name: " + e.p_defaultEnergyAssetPresetName);
		}
	} 
	/*	else if( e.p_energyAssetType == OL_EnergyAssetType.HEAT_DEMAND ) { // TODO: Re-introduce steel??
		e.f_updateAllFlows( main.v_currentIndustrySteelHeatDemand_fr );
	}*/
	else {
		traceln("ConsumptionAsset with unknown type, cannot operate!! Type: " + e.p_energyAssetType);
		e.v_powerFraction_fr = 0;
		throw new IllegalStateException("ConsumptionAsset with unknown type, cannot operate!! Type: " + e.p_energyAssetType);
	} 
}




]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668983912731</Id>
					<Name><![CDATA[f_initialize]]></Name>
					<X>781</X><Y>53</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[f_instantiateEnergyAssets();
f_connectToParentNode();
f_setAllowedCapacity();]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669010322595</Id>
					<Name><![CDATA[f_manageTanking]]></Name>
					<X>800</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[/*for (EnergyAsset truck : c_vehiclesAvailableForTanking){
	//v_currentPowerDiesel_kW += ((J_EAConversionDieselVehicle)truck.p_energyAssetInstance).dieselConsumption_kW; // This bypasses the normal 'f_updateAllFlows()' for energyAssets!!
	//truck.f_updateAllFlows(0);
	//traceln("Dieselconsumption in f_manageTanking " + ((J_EAConversionDieselVehicle)truck.p_energyAssetInstance).dieselConsumption_kW);
}*/

for (EnergyAsset truck : c_dieselVehicles){
	truck.f_updateAllFlows(0);
}
//v_dieselDrawn_kWh += v_currentPowerDiesel_kW * main.p_timeStep_h; // Already called in f_connectionMetering!!
c_vehiclesAvailableForTanking.clear();]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669022552777</Id>
					<Name><![CDATA[f_batteryManagementBalance]]></Name>
					<X>800</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[batterySOC]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[//traceln("Battery storage capacity: " + ((J_EAStorageElectric)p_batteryAsset.p_energyAssetInstance).getStorageCapacity_kWh());
if (((J_EAStorageElectric)p_batteryAsset.p_energyAssetInstance).getStorageCapacity_kWh() != 0){
	double electricitySurplus_kW = - v_currentPowerElectricity_kW; // still excludes battery power
	v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( electricitySurplus_kW - v_electricityPriceLowPassed_eurpkWh );
	
	double connectionCapacity_kW = v_allowedCapacity_kW; // Use only 90% of capacity for robustness against delay
	double availableChargePower_kW = connectionCapacity_kW + electricitySurplus_kW; // Max battery charging power within grid capacity
	double availableDischargePower_kW = electricitySurplus_kW - connectionCapacity_kW; // Max discharging power within grid capacity
	double SOC_setp_fr = 0.5 + 0.2 * Math.sin(2*Math.PI*(time(HOUR)-12)/24); // Sinusoidal setpoint: aim for low SOC at 6:00h, high SOC at 18:00h.
	//traceln("SOC setpoint at " + getHourOfDay() + " h is " + SOC_setp_fr*100 + "%");
	double FeedbackGain_kWpSOC = 1.5 * p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW(); // How strongly to aim for SOC setpoint
	double FeedforwardGain_kWpKw = 0.8; // Feedforward based on current surpluss in holon
	//double chargeOffset_kW = 100; // Charging 'bias', basically increases SOC setpoint slightly during the whole day.
	double chargeSetpoint_kW = 0;
	chargeSetpoint_kW = FeedforwardGain_kWpKw * (electricitySurplus_kW - v_electricityPriceLowPassed_eurpkWh) + (SOC_setp_fr - batterySOC) * FeedbackGain_kWpSOC;
	chargeSetpoint_kW = min(max(chargeSetpoint_kW, availableDischargePower_kW),availableChargePower_kW); // Don't allow too much (dis)charging!
	p_batteryAsset.v_powerFraction_fr = max(-1,min(1, chargeSetpoint_kW / p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW())); // Convert to powerFraction and limit power
	//traceln("HOLON surpluss " + currentHolonElectricitySurplus_kW + "kW, Battery charging power " + p_batteryAsset.v_powerFraction_fr*p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW() + " kW at " + currentBatteryStateOfCharge*100 + " % SOC");
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669022552780</Id>
					<Name><![CDATA[f_batteryManagementPrice]]></Name>
					<X>800</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[currentBatteryStateOfCharge]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[if (((J_EAStorageElectric)p_batteryAsset.p_energyAssetInstance).getStorageCapacity_kWh() != 0){
	//double willingnessToPayDefault_eurpkWh = 0.3;
	double chargeDischarge_offset_eurpkWh = 0.0;
	double WTPfeedbackGain_eurpSOC = 0.25; // When SOC-error is 100%, adjust WTP price by 1 eurpkWh
	double priceGain = 5; // How strongly to ramp up power with price-delta's
	//double congestionTariffHolon_eurpkWh = -(((ConnectionOwner)p_ownerActor).p_holonParent.v_electricitySurplus_kW + v_previousPowerElectricity_kW)/1200*0.1;
	
	double chargeSetpoint_kW = 0;
	
	if(p_ownerActor instanceof ConnectionOwner) {
		//traceln("Initial Mappings are: " + ((ConnectionOwner)p_ownerActor).v_currentPriceBands);
		double currentElectricityPriceCharge_eurpkWh = ((ConnectionOwner)p_ownerActor).v_currentPriceBands.ceilingEntry(100.0).getValue(); // query price at 1kW
		double currentElectricityPriceDischarge_eurpkWh = ((ConnectionOwner)p_ownerActor).v_currentPriceBands.floorEntry(-100.0).getValue(); // query price at 1kW
		//double lowPassFraction = min(1,1*1.2*main.p_timeStep_h); // smaller value results in more filtering
		v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( currentElectricityPriceCharge_eurpkWh - v_electricityPriceLowPassed_eurpkWh );
		
		double currentPricePowerBandPos_kW = ((ConnectionOwner)p_ownerActor).v_currentPriceBands.ceilingKey(100.0); // Up to what power does this price hold?
		double currentPricePowerBandNeg_kW = ((ConnectionOwner)p_ownerActor).v_currentPriceBands.floorKey(100.0); // Down to what power does this price hold?
		
		//traceln("Current price is " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, between " + currentPricePowerBandNeg_kW + " kW and " + currentPricePowerBandPos_kW + " kW");
	
		double SOC_setp_fr = 0.5 + 0.25 * Math.sin(2*Math.PI*(time(HOUR)-12)/24); // Sinusoidal setpoint: aim for low SOC at 6:00h, high SOC at 18:00h. 
		double SOC_deficit_fr = SOC_setp_fr - currentBatteryStateOfCharge; // How far away from desired SOC? SOC too LOW is a POSITIVE deficit
		
		// Define WTP price for charging and discharging!
		double WTP_charge_eurpkWh = v_electricityPriceLowPassed_eurpkWh - chargeDischarge_offset_eurpkWh + SOC_deficit_fr * WTPfeedbackGain_eurpSOC;
		double WTP_discharge_eurpkWh = v_electricityPriceLowPassed_eurpkWh + chargeDischarge_offset_eurpkWh + SOC_deficit_fr * WTPfeedbackGain_eurpSOC;
		
		//traceln("WTP charge is " + WTP_charge_eurpkWh + " eurpkWh, discharge is " + WTP_discharge_eurpkWh + " eurpkWh");
		// Choose charging power based on prices and desired SOC level
		if ( WTP_charge_eurpkWh > currentElectricityPriceCharge_eurpkWh ) { // if willingness to pay higher than current electricity price
			chargeSetpoint_kW = min(p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW()*(WTP_charge_eurpkWh - currentElectricityPriceCharge_eurpkWh)*priceGain, currentPricePowerBandPos_kW)  ;
			//traceln("WTP charge " + WTP_charge_eurpkWh + " eurpkWh is high than electricity price " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, so charge!") ;
		} else if (WTP_discharge_eurpkWh < currentElectricityPriceDischarge_eurpkWh) {
			chargeSetpoint_kW = -min(p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW()*(currentElectricityPriceDischarge_eurpkWh - WTP_discharge_eurpkWh)*priceGain, currentPricePowerBandPos_kW);
			//traceln("WTP discharge " + WTP_discharge_eurpkWh + " eurpkWh is lower than electricity price " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, so discharge!") ;
		}
		
		// limit charging power to available connection capacity
		boolean b_stayWithinConnectionLimits = true;
		if( b_stayWithinConnectionLimits ) {	
	
			double electricitySurplus_kW = - v_currentPowerElectricity_kW; 
			
			double availableChargePower_kW = electricitySurplus_kW + v_allowedCapacity_kW; // Max battery charging power within grid capacity
			double availableDischargePower_kW = electricitySurplus_kW - v_allowedCapacity_kW; // Max discharging power within grid capacity
			chargeSetpoint_kW = min(max(chargeSetpoint_kW, availableDischargePower_kW),availableChargePower_kW); // Don't allow too much (dis)charging!
		}			
	
		p_batteryAsset.v_powerFraction_fr = max(-1,min(1, chargeSetpoint_kW / p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW())); // Convert to powerFraction and limit power
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669025846794</Id>
					<Name><![CDATA[f_manageHeatingAssets]]></Name>
					<X>800</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// TODO: This only works for fixed heat demands; also need to implement heating of a building modeled as a ThermalStorageAsset! [GH 21/11/2022]
double powerDemand_kW = v_currentPowerHeat_kW;
if ( p_ThermalStorageAsset == null ) {
	if ( p_secondaryHeatingAsset == null ) { // Just one heating asset
		if ( p_primaryHeatingAsset== null ) {
			traceln("No heating assets for house " + p_agentID);
		} else {
			if ( p_primaryHeatingAsset.p_energyAssetInstance instanceof J_EAConversionGasBurner || p_primaryHeatingAsset.p_energyAssetInstance instanceof J_EAConversionHeatDeliverySet) { // when there is only a gas burner or DH set
					p_primaryHeatingAsset.v_powerFraction_fr = min(1,powerDemand_kW / p_primaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW());
					//traceln("Running manageHeatingAsset for single heating asset");
			} else {
				traceln("House " + p_agentID + " has a single unsupported heating asset!");
			}
		}
	} else { // Two heating assets
		if ( p_primaryHeatingAsset.p_energyAssetInstance instanceof J_EAConversionHeatPump & p_secondaryHeatingAsset.p_energyAssetInstance instanceof J_EAConversionGasBurner) { // Heatpump and gasburner, switch based on heatpump COP)
			((J_EAConversionHeatPump)p_primaryHeatingAsset.p_energyAssetInstance).updateAmbientTemp(main.v_currentAmbientTemperature_degC); // update heatpump temp levels!
			double HP_COP = ((J_EAConversionHeatPump)p_primaryHeatingAsset.p_energyAssetInstance).getCOP();
			double COP_tres = 3.5; // TODO: Make data agnostic! Also, this line doesn't have to be evaluated every timestep.
			if ( HP_COP < COP_tres ) { // switch to gasburner when HP COP is below treshold
				//traceln("Hybrid HP: Switching to gas burner");
				p_primaryHeatingAsset.v_powerFraction_fr = 0;
				p_secondaryHeatingAsset.v_powerFraction_fr = min(1,powerDemand_kW / p_secondaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW());
			} else { // heatpump when COP is above treshold
				//traceln("Hybrid HP: Using heatpump with COP " + HP_COP);
				p_primaryHeatingAsset.v_powerFraction_fr = min(1,powerDemand_kW / p_primaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW());
				p_secondaryHeatingAsset.v_powerFraction_fr = 0;//min(1,currentDHWdemand_kW / p_secondaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW());
			}
		} else {
			traceln("**** EXCEPTION ****: Unsupported combination of heatings systems in house " + p_agentID);
			p_primaryHeatingAsset.v_powerFraction_fr = 0;
			p_secondaryHeatingAsset.v_powerFraction_fr = 0;
			//p_ThermalStorageAsset.v_powerFraction_fr = 0;
		}
		p_secondaryHeatingAsset.f_updateAllFlows(p_secondaryHeatingAsset.v_powerFraction_fr);
	}
	if (p_primaryHeatingAsset != null) {
		p_primaryHeatingAsset.f_updateAllFlows(p_primaryHeatingAsset.v_powerFraction_fr);
	}
} else { // TODO: Implement thermostat functionality for thermal storage asset. Where to get temp setpoint?
	traceln("No thermostat functionality available to manage p_thermalStorageAsset!!");
	p_primaryHeatingAsset.f_updateAllFlows(0);
	p_secondaryHeatingAsset.f_updateAllFlows(0);
	p_ThermalStorageAsset.f_updateAllFlows(0);
}


]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669193537955</Id>
					<Name><![CDATA[f_setAllowedCapacity]]></Name>
					<X>801</X><Y>113</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_allowedCapacity_kW = p_connectionCapacity_kW;
//if(p_nfatoLvl_kW == 0 && p_nfatoStart_HR == 0 && p_nfatoEnd_HR == 0){
if(!v_enable_nfATO_b){
	e_startNonFirmATO.reset();
	e_endNonFirmATO.reset();
			
}
else {
	e_startNonFirmATO.restartTo(p_nfatoStart_HR, HOUR);
	e_endNonFirmATO.restartTo(p_nfatoEnd_HR, HOUR);
	if(p_nfatoLvl_kW == 0.0) { p_nfatoLvl_kW = p_connectionCapacity_kW; }
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669811773887</Id>
					<Name><![CDATA[f_operateFixedProductionAssets]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>800</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(EnergyAsset e : c_productionAssets) {
	if( e.p_energyAssetType == OL_EnergyAssetType.PHOTOVOLTAIC) {
		e.f_updateElectricityFlows( main.v_currentSolarPowerNormalized_r );
	}
	else if(e.p_energyAssetType == OL_EnergyAssetType.WINDMILL) {
		e.f_updateElectricityFlows( main.v_currentWindPowerNormalized_r );
	}
}]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658499438198</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-130</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[TreeMap<Double, Double>]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658499472169</Id>
					<Name><![CDATA[superConnection]]></Name>
					<X>50</X><Y>-170</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658499483833</Id>
					<Name><![CDATA[subConnections]]></Name>
					<X>50</X><Y>-210</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658499684645</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1658499438202</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Text>
					<Id>1667905599124</Id>
					<Name><![CDATA[text]]></Name>
					<X>50</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[ID & connections]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667905621972</Id>
					<Name><![CDATA[line]]></Name>
					<X>20</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1667905636672</Id>
					<Name><![CDATA[line1]]></Name>
					<X>230</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667905636674</Id>
					<Name><![CDATA[text1]]></Name>
					<X>260</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Characteristics]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667905687082</Id>
					<Name><![CDATA[line2]]></Name>
					<X>460</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667905687085</Id>
					<Name><![CDATA[text2]]></Name>
					<X>510</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Assets]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667905809323</Id>
					<Name><![CDATA[line3]]></Name>
					<X>-230</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>170</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667905809338</Id>
					<Name><![CDATA[text3]]></Name>
					<X>-220</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Obsolete stuff (can delete?)]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1667905952899</Id>
					<Name><![CDATA[text4]]></Name>
					<X>820</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Functions]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667905952903</Id>
					<Name><![CDATA[line4]]></Name>
					<X>770</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1667915385672</Id>
					<Name><![CDATA[line5]]></Name>
					<X>740</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>90</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667915403157</Id>
					<Name><![CDATA[text5]]></Name>
					<X>720</X><Y>86</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Init]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1667915419987</Id>
					<Name><![CDATA[text6]]></Name>
					<X>720</X><Y>290</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Occuring]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667915419990</Id>
					<Name><![CDATA[line6]]></Name>
					<X>740</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>190</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1667918827406</Id>
					<Name><![CDATA[line7]]></Name>
					<X>-220</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667918827418</Id>
					<Name><![CDATA[text7]]></Name>
					<X>-180</X><Y>360</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Not visible]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1668439095458</Id>
					<Name><![CDATA[text8]]></Name>
					<X>160</X><Y>640</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Graph can be ignored for non-debug runs]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>12</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
    			<TimePlot>
					<Id>1668439095469</Id>
					<Name><![CDATA[pl_powerFlows]]></Name>
					<X>0</X><Y>640</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1668499200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[15]]></Code>
						<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>500</Width>
					<Height>280</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>420</Width>
						<Height>160</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>60</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[total consumption assets [kW]]]></Title>
					<Id>1668439095463</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-10496</Color>
					<Expression2><![CDATA[sum(c_consumptionAssets, x -> x.v_currentConsumptionElectricity_kW)]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Total production assets [kW]]]></Title>
					<Id>1668439095464</Id>
					<Expression><![CDATA[my_dataset1]]></Expression>
					<Color>-3137392</Color>
					<Expression2><![CDATA[sum(c_productionAssets, x -> x.v_currentProductionElectricity_kW)]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Net conversion power [kW]]]></Title>
					<Id>1668439095465</Id>
					<Expression><![CDATA[my_dataset2]]></Expression>
					<Color>-32944</Color>
					<Expression2><![CDATA[sum(c_conversionAssets, x -> x.v_currentConsumptionElectricity_kW) - sum(c_conversionAssets, x -> x.v_currentProductionElectricity_kW)]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Total charging power [kW]]]></Title>
					<Id>1668439095466</Id>
					<Expression><![CDATA[my_dataset3]]></Expression>
					<Color>-13447886</Color>
					<Expression2><![CDATA[v_chargingPower_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>2.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Battery power [kW]]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset4]]></Expression>
					<Color>-8388608</Color>
					<Expression2><![CDATA[v_batteryPower_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[NET LOAD]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset5]]></Expression>
					<Color>-16776961</Color>
					<Expression2><![CDATA[v_currentPowerElectricity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Available grid cap +]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset6]]></Expression>
					<Color>-16777216</Color>
					<Expression2><![CDATA[v_allowedCapacity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Available grid cap -]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset7]]></Expression>
					<Color>-16777216</Color>
					<Expression2><![CDATA[- v_allowedCapacity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>1000</SamplesToKeep>
					<TimeWindowExpression><![CDATA[48]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>HH_mm</LabelFormat>
    			</TimePlot>
    			<TimePlot>
					<Id>1668968408696</Id>
					<Name><![CDATA[pl_SOC]]></Name>
					<X>500</X><Y>640</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1668499200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[15]]></Code>
						<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>500</Width>
					<Height>280</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>420</Width>
						<Height>160</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>60</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[SOC battery]]></Title>
					<Id>1668968408693</Id>
					<Expression><![CDATA[my_dataset7]]></Expression>
					<Color>-5952982</Color>
					<Expression2><![CDATA[v_batterySOC_fr]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>1000</SamplesToKeep>
					<TimeWindowExpression><![CDATA[48]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>HH_mm</LabelFormat>
    			</TimePlot>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658499506320</Id>
			<Name><![CDATA[EnergyAsset]]></Name>
			<AdditionalClassCode><![CDATA[@Override
	public String toString() {
		return
			"EA " + this.getIndex() + "; " +
			 p_energyAssetType.toString() + "; " +
			"r = " + roundToDecimal(v_powerFraction_fr, 3) + " ";
	}]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<StartupCode><![CDATA[// f_connectToParentNode() --> made explicit function in main to avoid nested functions for easy profiling
//if( assetCategory == PRODUCTION){
//	main.c_productionAssets.add(this);
//}]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658499506318</Id>
				<Name><![CDATA[1658499506318]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658563200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658499506316</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658499506319</CurrentLevel>
			<ConnectionsId>1658499506315</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1658750229384</Id>
					<Name><![CDATA[v_currentProductionElectricity_kW]]></Name>
					<X>90</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1658750229388</Id>
					<Name><![CDATA[v_currentPowerElectricLost_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>90</X><Y>550</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659092523267</Id>
					<Name><![CDATA[v_currentProductionHeat_kW]]></Name>
					<X>90</X><Y>460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659092541428</Id>
					<Name><![CDATA[v_currentConsumptionElectricity_kW]]></Name>
					<X>90</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659092596831</Id>
					<Name><![CDATA[v_currentConsumptionHeat_kW]]></Name>
					<X>90</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659092615449</Id>
					<Name><![CDATA[v_currentConsumptionMethane_kW]]></Name>
					<X>90</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659342082106</Id>
					<Name><![CDATA[v_powerFraction_fr]]></Name>
					<X>90</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659345815346</Id>
					<Name><![CDATA[v_currentProductionMethane_kW]]></Name>
					<X>90</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659365919790</Id>
					<Name><![CDATA[v_currentStateOfCharge_r]]></Name>
					<X>90</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659513282177</Id>
					<Name><![CDATA[v_currentProductionHydrogen_kW]]></Name>
					<X>90</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659513295338</Id>
					<Name><![CDATA[v_currentConsumptionHydrogen_kW]]></Name>
					<X>90</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668601315863</Id>
					<Name><![CDATA[v_currentConsumptionDiesel_kW]]></Name>
					<X>90</X><Y>500</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1659090642877</Id>
					<Name><![CDATA[p_energyAssetInstance]]></Name>
					<X>90</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EA]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1659090642875</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660130635726</Id>
					<Name><![CDATA[p_parentAgentID]]></Name>
					<X>90</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660130635724</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1659347079551</Id>
					<Name><![CDATA[p_energyAssetType]]></Name>
					<X>90</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_EnergyAssetType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1659347079549</Id>
							<Label><![CDATA[p_energyAssetType]]></Label>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1666983925485</Id>
					<Name><![CDATA[p_defaultEnergyAssetPresetName]]></Name>
					<X>90</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1666983925483</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658750219342</Id>
					<Name><![CDATA[f_connectToParentNode]]></Name>
					<X>740</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ProvidedParentConnection]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[Agent myParentAgent = null;

if( ProvidedParentConnection instanceof GridConnection ) {
	myParentAgent = ProvidedParentConnection;
	myParentAgent = (GridConnection)myParentAgent;
	superConnection.connectTo(myParentAgent);
	((GridConnection) myParentAgent).f_connectToChild(this);
} else if( ProvidedParentConnection instanceof GridNode ) {
	myParentAgent = ProvidedParentConnection;
	myParentAgent = (GridNode)myParentAgent;
	superConnection.connectTo(myParentAgent);
	((GridNode) myParentAgent).f_connectToChild(this);
} else {
	myParentAgent = findFirst(main.c_gridConnections, p->p.p_agentID.equals(p_parentAgentID));
	if( myParentAgent != null && myParentAgent instanceof GridConnection ) {
		//traceln("found myParentAgent gridConnection: " + myParentAgent.toString());
		myParentAgent = (GridConnection)myParentAgent;
		superConnection.connectTo(myParentAgent);
		((GridConnection) myParentAgent).f_connectToChild(this);
	} else {
		myParentAgent = findFirst(main.pop_gridNodes, p->p.p_agentID.equals(p_parentAgentID));

		if (myParentAgent != null && myParentAgent instanceof GridNode ) {
			//traceln("found myParentAgent gridNode: " + myParentAgent.toString());
			myParentAgent = (GridNode)myParentAgent;
			superConnection.connectTo(myParentAgent);
			((GridNode) myParentAgent).f_connectToChild(this);
		} else {
			traceln("f_connectToParentNode in EnergyAsset: no parent to connect to! "+this.toString() );
		}
	}
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659090766203</Id>
					<Name><![CDATA[f_instantiateConsumerAsset]]></Name>
					<X>740</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[assetType]]></Name>
						<Type><![CDATA[OL_EnergyAssetType]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityElectric_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityHeat_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[p_energyAssetInstance = (J_EAConsumption)p_energyAssetInstance;
p_energyAssetInstance = new J_EAConsumption( this, capacityElectric_kW, capacityHeat_kW, main.p_timeStep_h );
p_energyAssetType = assetType;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659092864897</Id>
					<Name><![CDATA[f_updateAllFlows]]></Name>
					<X>740</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[powerFraction]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[v_powerFraction_fr = powerFraction;

v_currentProductionElectricity_kW = 0;
v_currentProductionMethane_kW = 0;
v_currentProductionHydrogen_kW = 0;
v_currentProductionHeat_kW = 0;
v_currentConsumptionElectricity_kW = 0;
v_currentConsumptionMethane_kW = 0;
v_currentProductionHydrogen_kW = 0;
v_currentConsumptionHeat_kW = 0;
v_currentConsumptionDiesel_kW = 0;


double[] arr = p_energyAssetInstance.operateBounded( v_powerFraction_fr );

v_currentProductionElectricity_kW=arr[0];
v_currentProductionMethane_kW=arr[1];
v_currentProductionHydrogen_kW=arr[2];
v_currentProductionHeat_kW=arr[3];

v_currentConsumptionElectricity_kW=arr[4];
v_currentConsumptionMethane_kW=arr[5];
v_currentConsumptionHydrogen_kW=arr[6];
v_currentConsumptionHeat_kW=arr[7];
v_currentConsumptionDiesel_kW=arr[8];

v_currentStateOfCharge_r = (p_energyAssetInstance.getCurrentStateOfCharge());
//p_energyAssetInstance.resetFlows();
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659711234930</Id>
					<Name><![CDATA[f_instantiateConverterAsset]]></Name>
					<X>740</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[assetType]]></Name>
						<Type><![CDATA[OL_EnergyAssetType]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityElectric_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityHeat_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[eta_r]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[deliveryTemp_degC]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[ambientTempType]]></Name>
						<Type><![CDATA[String]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[energyConsumption_kWhpkm]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[vehicleScaling]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[switch(assetType) {
	case GAS_BURNER:
		p_energyAssetInstance = (J_EAConversionGasBurner)p_energyAssetInstance;
		p_energyAssetInstance = new J_EAConversionGasBurner( this, capacityHeat_kW, eta_r, main.p_timeStep_h );
	break;
	case HEAT_PUMP_AIR: //EnergyAsset ownerAssetAgent, double capacityElectricity_kW, double eta_r, double baseTemperature_degC, double outputTemperature_degC
		p_energyAssetInstance = (J_EAConversionHeatPump)p_energyAssetInstance;
		p_energyAssetInstance = new J_EAConversionHeatPump( this, capacityElectric_kW, eta_r, main.v_currentAmbientTemperature_degC, deliveryTemp_degC, ambientTempType );
		main.c_ambientAirDependentAssets.add(this);
	break;
	case HEAT_PUMP_GROUND:
		p_energyAssetInstance = (J_EAConversionHeatPump)p_energyAssetInstance;
		p_energyAssetInstance = new J_EAConversionHeatPump( this, capacityElectric_kW, eta_r, main.p_undergroundTemperature_degC, deliveryTemp_degC, ambientTempType );
	break;
	case BOILER:
		p_energyAssetInstance = (J_EAConversionBoiler)p_energyAssetInstance;
		p_energyAssetInstance = new J_EAConversionBoiler( this, capacityElectric_kW, eta_r, main.p_timeStep_h);
	break;
	case HEAT_DELIVERY_SET:
		p_energyAssetInstance = (J_EAConversionHeatDeliverySet)p_energyAssetInstance;
		p_energyAssetInstance = new J_EAConversionHeatDeliverySet( this, capacityHeat_kW, eta_r );
	break;
	case METHANE_FURNACE:
		p_energyAssetInstance = (J_EAConversionGasBurner)p_energyAssetInstance;
		p_energyAssetInstance = new J_EAConversionGasBurner( this, capacityHeat_kW, eta_r, main.p_timeStep_h );
	break;
	case HYDROGEN_FURNACE:
		p_energyAssetInstance = (J_EAConversionHydrogenBurner)p_energyAssetInstance;
		p_energyAssetInstance = new J_EAConversionHydrogenBurner( this, capacityHeat_kW, eta_r, main.p_timeStep_h );
	break;
	case DIESEL_VEHICLE:
		p_energyAssetInstance = (J_EAConversionDieselVehicle)p_energyAssetInstance;
		p_energyAssetInstance = new J_EAConversionDieselVehicle( this, eta_r, energyConsumption_kWhpkm, main.p_timeStep_h, vehicleScaling);
	break;
	default:
		traceln("exception: not a valid conversion asset!");
	break;
}

p_energyAssetType = assetType;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659711250184</Id>
					<Name><![CDATA[f_instantiateStorageAsset]]></Name>
					<X>740</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[assetType]]></Name>
						<Type><![CDATA[OL_EnergyAssetType]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityElectric_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityHeat_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[InitialStateOfCharge_r]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[lossFactor_WpK]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[chargeCapacity_kWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[heatCapacity_JpK]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[minTemperature_degC]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[maxTemperature_degC]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[setTemperature_degC]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[ambientTempType]]></Name>
						<Type><![CDATA[String]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[energyConsumption_kWhpkm]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[vehicleScaling]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[//energyAssetType	capacityElectricity_kW	capacityHeat_kW	stateOfCharge_r	minTemp_degC	maxTemp_degC	lossFactor_WpK	chargeCapacity_kWh	heatCapacity_JpK

switch(assetType) {
	case STORAGE_ELECTRIC:
	// EnergyAsset ownerAsset, double chargeCapacityElectricity_kW, double chargeCapacityHeat_kW, OL_EnergyCarrierType storageMedium, double capacity, double stateOfCharge, double lossFactor, double timestep_h
	p_energyAssetInstance = new J_EAStorageElectric(this, capacityElectric_kW, chargeCapacity_kWh, InitialStateOfCharge_r, main.p_timeStep_h);   // (EnergyAsset ownerAsset, double capacityElectricity_kW, double storageCapacity_kWh, double stateOfCharge_r, double timestep_h)
	break;
	case STORAGE_HEAT:
	//EnergyAsset ownerAsset, double capacityHeat_kW, double lossFactor_WpK, double timestep_h, double initialTemperature_degC, double minTemperature_degC, double maxTemperature_degC, double heatCapacity_JpK
	p_energyAssetInstance = new J_EAStorageHeat(this, capacityHeat_kW, lossFactor_WpK, main.p_timeStep_h, InitialStateOfCharge_r*(maxTemperature_degC-minTemperature_degC)+minTemperature_degC, minTemperature_degC, maxTemperature_degC, setTemperature_degC, heatCapacity_JpK, ambientTempType);
	main.c_ambientAirDependentAssets.add(this);
	break;
	case ELECTRIC_VEHICLE:
	// EnergyAsset ownerAsset, double chargeCapacityElectricity_kW, double chargeCapacityHeat_kW, OL_EnergyCarrierType storageMedium, double capacity, double stateOfCharge, double lossFactor, double timestep_h
	p_energyAssetInstance = new J_EAEV(this, capacityElectric_kW, chargeCapacity_kWh, InitialStateOfCharge_r, main.p_timeStep_h, energyConsumption_kWhpkm, vehicleScaling );   // (EnergyAsset ownerAsset, double capacityElectricity_kW, double storageCapacity_kWh, double stateOfCharge_r, double timestep_h, energyConsumption_kWhpkm)
	break;
	default:
		traceln("exception: not a valid storage medium!");
	break;
}

p_energyAssetType = assetType;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1659970344780</Id>
					<Name><![CDATA[f_instantiateProducerAsset]]></Name>
					<X>740</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[assetType]]></Name>
						<Type><![CDATA[OL_EnergyAssetType]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityElectric_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[capacityHeat_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[p_energyAssetInstance = (J_EAProduction)p_energyAssetInstance;
p_energyAssetInstance = new J_EAProduction ( this, capacityElectric_kW, capacityHeat_kW, main.p_timeStep_h );
p_energyAssetType = assetType;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664970822195</Id>
					<Name><![CDATA[f_updateElectricityFlows]]></Name>
					<X>740</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[powerFraction]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[v_currentProductionElectricity_kW = 0;
v_currentConsumptionElectricity_kW = 0;
//p_energyAssetInstance.resetFlows();
double[] arr = p_energyAssetInstance.operateBounded( powerFraction );
v_currentProductionElectricity_kW=arr[0];
v_currentConsumptionElectricity_kW=arr[4];
v_currentStateOfCharge_r = (p_energyAssetInstance.getCurrentStateOfCharge());

return v_currentConsumptionElectricity_kW;
//v_currentStateOfCharge_r = (p_energyAssetInstance.getCurrentStateOfCharge());
]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658499506315</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658499540323</Id>
					<Name><![CDATA[superConnection]]></Name>
					<X>260</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658499549196</Id>
					<Name><![CDATA[subConnections]]></Name>
					<X>260</X><Y>-20</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658499725706</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1658499506319</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Line>
					<Id>1667919118778</Id>
					<Name><![CDATA[line4]]></Name>
					<X>710</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919118781</Id>
					<Name><![CDATA[text4]]></Name>
					<X>760</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Functions]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667919118783</Id>
					<Name><![CDATA[line5]]></Name>
					<X>700</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>100</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919118785</Id>
					<Name><![CDATA[text6]]></Name>
					<X>680</X><Y>234</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Occuring]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667919118787</Id>
					<Name><![CDATA[line6]]></Name>
					<X>700</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>70</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919118789</Id>
					<Name><![CDATA[text5]]></Name>
					<X>680</X><Y>110</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Init]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667919228650</Id>
					<Name><![CDATA[line]]></Name>
					<X>80</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919228652</Id>
					<Name><![CDATA[text1]]></Name>
					<X>110</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[ID & connections]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667919281533</Id>
					<Name><![CDATA[line1]]></Name>
					<X>80</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919281535</Id>
					<Name><![CDATA[text2]]></Name>
					<X>110</X><Y>220</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Current status]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
    			<TimePlot>
					<Id>1668420180250</Id>
					<Name><![CDATA[plot]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>430</X><Y>300</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>true</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1668499200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[15]]></Code>
						<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>500</Width>
					<Height>280</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>420</Width>
						<Height>160</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>60</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[Electricity Consumption]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-2448096</Color>
					<Expression2><![CDATA[v_currentConsumptionElectricity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Electricity Production]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset1]]></Expression>
					<Color>-9728477</Color>
					<Expression2><![CDATA[v_currentProductionElectricity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>1000</SamplesToKeep>
					<TimeWindowExpression><![CDATA[96]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>MODEL_TIME_UNITS</LabelFormat>
    			</TimePlot>
				<Text>
					<Id>1668420196225</Id>
					<Name><![CDATA[text3]]></Name>
					<X>560</X><Y>300</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Graph can be ignored for non-debug runs]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>12</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658752695711</Id>
			<Name><![CDATA[KpiVisuals]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<StartupCode><![CDATA[f_plotAgents();]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658752695709</Id>
				<Name><![CDATA[1658752695709]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658822400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658752695707</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658752695710</CurrentLevel>
			<ConnectionsId>1658752695706</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1661169181264</Id>
					<Name><![CDATA[v_electricityBalanceMSLSGridConnections_kWh]]></Name>
					<Description><![CDATA[Summation of MSLS node volumes of electricity transferred for model consistency checks. Equal to HSMS flows UNLESS EnergyAssets are directly connected to the HSMS node(s).

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-280</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661169229844</Id>
					<Name><![CDATA[v_electricityBalanceHSMSGridConnections_kWh]]></Name>
					<Description><![CDATA[Summation of HSMS node volumes of electricity transferred for model consistency checks. Equal to MSLS flows UNLESS EnergyAssets are directly connected to the HSMS node(s).

@author: Jorrit
@since: Sprint 6 ]]></Description>
					<X>-280</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661171246105</Id>
					<Name><![CDATA[v_gridConnectionBalanceElectricity_eur]]></Name>
					<Description><![CDATA[Summation of grid connection bank balances for electricity trading. Should be equal to summed energy supplier bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661171629108</Id>
					<Name><![CDATA[v_energySupplierBalanceTotal_eur]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for trading of all energy carriers. Should be equal to summed grid connection bank balances for all energy carriers!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>570</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661172254045</Id>
					<Name><![CDATA[v_gridConnectionBalanceHeat_eur]]></Name>
					<Description><![CDATA[Summation of grid connection bank balances for heat trading. Should be equal to summed energy supplier bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661172266072</Id>
					<Name><![CDATA[v_gridConnectionBalanceMethane_eur]]></Name>
					<Description><![CDATA[Summation of grid connection bank balances for methane trading. Should be equal to summed energy supplier bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661172282245</Id>
					<Name><![CDATA[v_gridConnectionBalanceTotal_eur]]></Name>
					<Description><![CDATA[Summation of grid connection bank balances for trading of all energy carriers. Should be equal to summed energy supplier bank balances for all energy carriers!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174272350</Id>
					<Name><![CDATA[v_energySupplierBalanceElectricity_eur]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for electricity trading with clients. Should be equal to summed grid connection bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174295917</Id>
					<Name><![CDATA[v_energySupplierBalanceHeat_eur]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for heat trading with clients. Should be equal to summed grid connection bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>510</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174308492</Id>
					<Name><![CDATA[v_energySupplierBalanceMethane_eur]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for methane trading with clients. Should be equal to summed grid connection bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174320836</Id>
					<Name><![CDATA[v_energySupplierBalanceHydrogen_eur]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for hydrogen trading with clients. Should be equal to summed grid connection bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>550</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174336947</Id>
					<Name><![CDATA[v_gridConnectionBalanceHydrogen_eur]]></Name>
					<Description><![CDATA[Summation of grid connection bank balances for hydrogen trading. Should be equal to summed energy supplier bank balances for this energy carrier!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667407080619</Id>
					<Name><![CDATA[v_batteryPower_kW]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for trading of all energy carriers. Should be equal to summed grid connection bank balances for all energy carriers!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>650</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667407179498</Id>
					<Name><![CDATA[v_fleetCharging_kW]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for trading of all energy carriers. Should be equal to summed grid connection bank balances for all energy carriers!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>630</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667407182687</Id>
					<Name><![CDATA[v_PVproduction_kW]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for trading of all energy carriers. Should be equal to summed grid connection bank balances for all energy carriers!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>670</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667407186151</Id>
					<Name><![CDATA[v_industryConsumption_kW]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for trading of all energy carriers. Should be equal to summed grid connection bank balances for all energy carriers!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>690</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667407188269</Id>
					<Name><![CDATA[v_holonAvailableConnectionCapacity_kW]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for trading of all energy carriers. Should be equal to summed grid connection bank balances for all energy carriers!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>710</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667408219166</Id>
					<Name><![CDATA[v_holonTotalPower_kW]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for trading of all energy carriers. Should be equal to summed grid connection bank balances for all energy carriers!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>730</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668443738626</Id>
					<Name><![CDATA[v_batterySOC_fr]]></Name>
					<Description><![CDATA[Summation of energy supplier bank balances for trading of all energy carriers. Should be equal to summed grid connection bank balances for all energy carriers!

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-320</X><Y>750</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1660578629879</Id>
					<Name><![CDATA[p_individualMode]]></Name>
					<Description><![CDATA[Met p_individualeMode kan gekozen worden tussen een geagreggeerde representatie of volledige representatie van alle individuele actor-agents in het model in f_plotActors(minx, maxx).

@since Sprint 6
@author Jorrit]]></Description>
					<X>-270</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[true]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1660578629877</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Events>
				<Event>
					<Id>1658762748110</Id>
					<Name><![CDATA[e_updateVisuals]]></Name>
					<Description><![CDATA[Event dat de visualisatie van energiestromen ververst.

@since: Sprint 6
@author: Jorrit]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-120</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1658822400000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[0]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[main.p_timeStep_h ]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[f_gatherEnergyFlows();
f_checkModelConsistency();]]></Action>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658752989234</Id>
					<Name><![CDATA[f_gatherEnergyFlows]]></Name>
					<Description><![CDATA[Functie gebruikt om energiestromen over NetNode-agents op te halen en weer te geven voor monitoring en debugging.

@param: none
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-270</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//
for( UI_GridNode n : uI_GridNodes )
{
	GridNode realAgent = n.realAgent.getConnectedAgent(0);
	n.t_loadElectricText.setText( roundToDecimal( realAgent.v_currentLoadElectricity_kW / 1000, 3 ) + " MWe");
	n.t_loadThermalText.setText( roundToDecimal( realAgent.v_currentLoadHeat_kW / 1000, 3 ) + " MWth");
}

v_batteryPower_kW = sumWhere(main.pop_energyAssets, p->p.v_currentConsumptionElectricity_kW - p.v_currentProductionElectricity_kW, b->b.p_energyAssetType == OL_EnergyAssetType.STORAGE_ELECTRIC ); 
v_fleetCharging_kW = main.Buildings.size() == 0 ? 0 : sum(main.Buildings, b -> b.v_chargingPower_kW );
v_PVproduction_kW = sumWhere(main.pop_energyAssets, p->p.v_currentConsumptionElectricity_kW - p.v_currentProductionElectricity_kW, b->b.p_energyAssetType == OL_EnergyAssetType.PHOTOVOLTAIC );
v_industryConsumption_kW = sum(main.Industries, i->i.v_currentPowerElectricity_kW );
v_holonAvailableConnectionCapacity_kW = main.pop_energyHolons.size() == 0 ? 0 : main.pop_energyHolons(0).v_allowedCapacity_kW;
v_holonTotalPower_kW = main.pop_energyHolons.size() == 0 ? 0 : -main.pop_energyHolons(0).v_electricitySurplus_kW;
v_batterySOC_fr = main.GridBatteries.size() == 0 ? 0 : main.GridBatteries(0).v_batterySOC_fr;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658753035472</Id>
					<Name><![CDATA[f_plotAgents]]></Name>
					<Description><![CDATA[Functie gebruikt om UI_Actor instances te maken en plotten op de canvas.

@param: none
@return: none
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-270</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// set canvas size
double minx = 100;
double maxx = minx + 800;

//traceln("HS "+HSNetnodes+" -> "+HSNetnodes.size());
//traceln("MS "+MSNetnodes+" -> "+MSNetnodes.size());
//traceln("Houses "+Houses+" -> "+Houses.size());
//traceln("Windfarms "+Windfarms+" -> "+Windfarms.size());
//traceln("NetConnections "+NetConnections+" -> "+NetConnections.size());

// draw upper level HS stations
double ylevel = 0;
double xinterval = ( maxx - minx ) / (1 + main.c_gridNodesHSMS.size());

int index = 0;
for ( int i = 0; i < main.c_gridNodesHSMS.size(); i++ )
{
//    traceln(netnode + ":" + index);
    GridNode g = ((GridNode)main.c_gridNodesHSMS.get(i));
    String nodeName = g.p_agentID;
    String parent = g.p_parentNodeID;
    OL_GridNodeType nodeType = g.p_nodeType;
	UI_GridNode hs = add_uI_GridNodes( nodeName, nodeType );
	hs.setXY( ( minx + (( i + 1) * xinterval ) ) , ylevel);
	hs.realAgent.connectTo( g );
	//if( parent!=null ){
	//	UI_NetNode p = filter( uI_NetNodes, o -> o.p_nodeID.equals(parent) ).get(0);
	//	hs.connectTo(p);
	//}
}

// draw mid level MS stations
ylevel = 200;
xinterval = ( maxx - minx ) / (1 + main.c_gridNodesMSLS.size());
index = 0;
for ( int i = 0; i < main.c_gridNodesMSLS.size(); i++ )
{
    //    traceln(netnode + ":" + index);
	GridNode m = ((GridNode)main.c_gridNodesMSLS.get(i));
	String nodeName = m.p_agentID;
	OL_GridNodeType nodeType = m.p_nodeType;
    String parent = m.p_parentNodeID;
	UI_GridNode ms = add_uI_GridNodes( nodeName, nodeType );
	ms.setXY( ( minx + (( i + 1) * xinterval ) ) , ylevel);
	ms.realAgent.connectTo( m );
	if( parent!=null ){
		UI_GridNode p = filter( uI_GridNodes, q -> q.p_nodeID.equals(parent) ).get(0);
		ms.connectTo( p );
	}
}

// draw heat nodes
ylevel = 500;
xinterval = ( maxx - minx ) / (1 + main.c_gridNodesHeat.size()); // TODO: make this the average x-coordinate of netconnections with this node as a parent?
index = 0;
for ( int i = 0; i < main.c_gridNodesHeat.size(); i++ )
{
    //    traceln(netnode + ":" + index);
	GridNode h = ((GridNode)main.c_gridNodesHeat.get(i));
	String nodeName = h.p_agentID;
	OL_GridNodeType nodeType = h.p_nodeType;
    String parent = h.p_parentNodeID;
	UI_GridNode hn = add_uI_GridNodes( nodeName, nodeType );
	hn.setXY( ( minx + (( i + 1) * xinterval ) ) , ylevel);
	hn.realAgent.connectTo( h );
	hn.netNodeVisual.setFillColor(mistyRose);
	if( parent!=null ){
		UI_GridNode p = filter( uI_GridNodes, q -> q.p_nodeID.equals(parent) ).get(0);
		hn.connectTo( p );
	}
}


// draw buildings
double ylevelOffset = 150;
xinterval = ( ( maxx - minx ) / (1 + main.c_gridConnections.size())); // TODO: make this the average x-coordinate of netconnections with this node as a parent?

for ( int i = 0; i < main.c_gridConnections.size(); i++ )
{
	GridConnection g = ((GridConnection)main.c_gridConnections.get(i));
	//    traceln(netnode + ":" + index);
	String netConnectionName = g.p_agentID;
	OL_GridConnectionCategory netConnectionCategory = g.p_gridConnectionCategory;
	OL_GridConnectionType netConnectionType = g.p_gridConnectionType;
    String parentElectric = g.p_parentNodeElectricID;
    String parentHeat = g.p_parentNodeHeatID;
	UI_GridConnection nc = add_uI_GridConnections( netConnectionName, netConnectionCategory, netConnectionType );

	nc.realAgent.connectTo( g );
	//traceln("parent input filter "+filter( uI_GridNodes, o -> o.p_nodeID.equals(parentElectric) ).get(0));
	if( parentElectric != null ){
		UI_GridNode p = filter( uI_GridNodes, o -> o.p_nodeID.equals(parentElectric) ).get(0);
		nc.connectTo(p);
		double parentx = p.getX();
		double parenty = p.getY();
		nc.setXY( ( parentx + ( Math.random()) * xinterval ) , parenty + ylevelOffset);
//		nc.setXY( parentx - 20, parenty + ylevelOffset );
	}
	if( parentHeat != null ){
		UI_GridNode q = filter( uI_GridNodes, o -> o.p_nodeID.equals(parentHeat) ).get(0);
		nc.connectTo(q);

		// district heating plants line up to heat node
		if( netConnectionCategory == OL_GridConnectionCategory.DISTRICTHEATING ) {
			double parentx = q.getX() ;
			double parenty = q.getY();
			nc.setXY( parentx + 50 , parenty - 50 );
		}
	}
	nc.f_setNetConnectionVisual();
}

f_plotActors(minx,maxx);]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660572124344</Id>
					<Name><![CDATA[f_plotActors]]></Name>
					<Description><![CDATA[Functie gebruikt om de actorlaag van het model te representeren in de KpiVisuals agent. Wordt aangeroepen vanuit f_plotAgents() zodat de daar gegeven canvas-begrenzingen (minx, maxx) worden overdragen. Met p_individualeMode kan gekozen worden tussen een geagreggeerde representatie of volledige representatie van alle individuele actor-agents in het model.

@param minx minimale x-waarde (canvas) voor de visual
@param maxx maximale x-waarde (canvas) voor de visual
@return none
@since Sprint 6
@author Jorrit]]></Description>
					<X>-270</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[minx]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[maxx]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[// Bepaal aanwezige actortypen voor visualisatie
List<ConnectionOwner> Actors = filter( main.pop_connectionOwners, n -> true );
List<ConnectionOwner> Households = filter( main.pop_connectionOwners, n -> n.p_actorType.equals("household") );
List<ConnectionOwner> Commercials = filter( main.pop_connectionOwners, n -> n.p_actorType.equals("commercial") );
List<EnergySupplier> EnergySuppliers = filter( main.pop_energySuppliers, n -> true );
List<EnergyHolon> Holons = filter( main.pop_energyHolons, n -> true );

traceln("KPIVisuals f_plotActors(): number of households: "+ Households.size());
traceln("KPIVisuals f_plotActors(): number of commercials: "+ Commercials.size());


if( p_individualMode ) {
	// holons
	double ylevel = 600;
	int index = 0;
	double xinterval = ( maxx - minx ) / ( Holons.size() * 2 );

	for ( Iterator<EnergyHolon> it = Holons.iterator(); it.hasNext(); index++ )
	{
	    EnergyHolon holon = it.next();
		String parent = holon.p_parentActorID;
 	   	String actorID = holon.p_actorID;
 	   	OL_ActorType actorType = OL_ActorType.ENERGYHOLON;
		UI_Actor holonActor = add_uI_Actors(actorType, parent, actorID);
		holonActor.setXY(  ( minx + ( xinterval / 2 ) + ( index * xinterval ) ), ylevel);
		holonActor.realAgent.connectTo(holon);
		holonActor.holonvisual.setPos(0,0,0);
		holonActor.holonvisual.setVisible(true);
		holonActor.holonName.setText("holon: "+actorID);
	}

	// energysuppliers
	ylevel = 750;
	index = 0;
	xinterval = ( maxx - minx ) / ( EnergySuppliers.size() * 2 );
	for ( Iterator<EnergySupplier> it = EnergySuppliers.iterator(); it.hasNext(); index++ )
	{
	    EnergySupplier energySupplier = it.next();
		String parent = energySupplier.p_parentActorID;
 	   	String actorID = energySupplier.p_actorID;
 	   	OL_ActorType actorType = OL_ActorType.ENERGYSUPPLIER;
		UI_Actor energySupplierActor = add_uI_Actors(actorType, parent, actorID);
		energySupplierActor.setXY(  ( minx + ( xinterval / 2 ) + ( index * xinterval ) ), ylevel);
		energySupplierActor.realAgent.connectTo(energySupplier);
		energySupplierActor.eSupplier_actor.setPos(0,0,0);
		energySupplierActor.eSupplier_actor.setVisible(true);
		//if( parent!="" ) {
		//	UI_Actor a = filter( uI_Actors, o -> o.p_actorID.equals(parent) ).get(0);
		//	energySupplierActor.connectTo(a);
		//}
	}

	// commercial buildings
	ylevel = 850;
	index = 0;
	xinterval = ( maxx - minx ) / ( Commercials.size() * 2 );
	for ( Iterator<ConnectionOwner> it = Commercials.iterator(); it.hasNext(); index++ )
	{
	    ConnectionOwner commercial = it.next();
		String parent = commercial.p_parentActorID;
 	   	String actorID = commercial.p_actorID;
 	   	OL_ActorType actorType = OL_ActorType.CONNECTIONOWNER;
		UI_Actor commercialActor = add_uI_Actors(actorType, parent, actorID);
		commercialActor.setXY(  ( minx + ( xinterval / 2 ) + ( index * xinterval ) ), ylevel);
		commercialActor.realAgent.connectTo(commercial);
		commercialActor.commercial.setPos(0,0,0);
		commercialActor.commercial.setVisible(true);
		if( parent!="" ) {
			UI_Actor a = filter( uI_Actors, o -> o.p_actorID.equals(parent) ).get(0);
			commercialActor.connectTo(a);
		}
	}
	// households
	ylevel = 900;
	xinterval = ( maxx - minx ) / ( Households.size() * 2 );

	index = 0;
	for ( Iterator<ConnectionOwner> it = Households.iterator(); it.hasNext(); index++ )
	{
	    ConnectionOwner household = it.next();
		String parent = household.p_parentActorID;
 	   	String actorID = household.p_actorID;
 	   	OL_ActorType actorType = OL_ActorType.CONNECTIONOWNER;
		UI_Actor householdActor = add_uI_Actors(actorType, parent, actorID);
		householdActor.setXY(  ( minx + ( xinterval / 2 ) + ( index * xinterval ) ), ylevel);
		householdActor.realAgent.connectTo(household);
		householdActor.household.setPos(0,0,0);
		householdActor.household.setVisible(true);
		if( parent!="" ) {
			UI_Actor a = filter( uI_Actors, o -> o.p_actorID.equals(parent) ).get(0);
			householdActor.connectTo(a);
		}
	}
}
else {
	// Actors zoveel mogelijk aggregeren in types. Onderscheid kunnen maken tussen relevante states (lid v holon) is wel wenselijk?
	int numberOfHouseholdActors = Households.size();
	if( numberOfHouseholdActors > 0 ) {
		UI_Actor householdUIActor = add_uI_Actors(OL_ActorType.CONNECTIONOWNER, "", "");
		householdUIActor.houseHoldVisuals.setPos(0,0,0);
		householdUIActor.t_numberOfHouseholds.setText(numberOfHouseholdActors);
		householdUIActor.houseHoldVisuals.setVisible(true);
		householdUIActor.setXY(400, 600);
	}

	int numberOfCommercialActors = Commercials.size();
	if( numberOfCommercialActors > 0 ) {
		UI_Actor commercialUIActor = add_uI_Actors(OL_ActorType.CONNECTIONOWNER,"", "");

		commercialUIActor.commercialVisuals.setPos(0,0,0);
		commercialUIActor.t_numberOfCommercials.setText(numberOfCommercialActors);
		commercialUIActor.commercialVisuals.setVisible(true);
		commercialUIActor.setXY(400, 700);
	}

	int numberOfEnergySupplierActors = EnergySuppliers.size();
	if( numberOfEnergySupplierActors > 0 ) {
		UI_Actor energySupplierUIActor = add_uI_Actors(OL_ActorType.ENERGYSUPPLIER,"", "");

		energySupplierUIActor.energySupplierVisuals.setPos(0,0,0);
		energySupplierUIActor.t_numberOfEnergySuppliers.setText(numberOfEnergySupplierActors);
		energySupplierUIActor.energySupplierVisuals.setVisible(true);
		energySupplierUIActor.setXY(200, 650);
	}

}		]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1661169336291</Id>
					<Name><![CDATA[f_checkModelConsistency]]></Name>
					<Description><![CDATA[Goal of the function is to retrieve information from the model and store this in the allotted variables to enable model consistency checks and validation.
Both energy and financial checks can be done.

@params: none
@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-270</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Retrieve MSLS gridnode electricity balance
double electricityBalance_kWh = 0;

for( UI_GridNode n : filter( uI_GridNodes, p -> !p.p_nodeType.equals(HSMS)) ) {
	GridNode realAgent = n.realAgent.getConnectedAgent(0);
	electricityBalance_kWh += realAgent.v_electricityDelivered_kWh - realAgent.v_electricityDrawn_kWh;
}

v_electricityBalanceMSLSGridConnections_kWh = electricityBalance_kWh;

// retrieve HSLS gridnode electricity balance and compare
electricityBalance_kWh = 0;

for( UI_GridNode n : filter( uI_GridNodes, p -> p.p_nodeType.equals(HSMS)) ) {
	GridNode realAgent = n.realAgent.getConnectedAgent(0);
	electricityBalance_kWh += realAgent.v_electricityDelivered_kWh - realAgent.v_electricityDrawn_kWh;
}

v_electricityBalanceHSMSGridConnections_kWh = electricityBalance_kWh;

// retrieve GridConnections financial states
double electricityBalance_eur = 0;
double heatBalance_eur = 0;
double methaneBalance_eur = 0;
double hydrogenBalance_eur = 0;
for( UI_Actor a : filter( uI_Actors, p -> p.p_actorType.equals(CONNECTIONOWNER)) ) {
	ConnectionOwner realAgent = (ConnectionOwner)a.realAgent.getConnectedAgent(0);
	electricityBalance_eur += realAgent.v_balanceElectricity_eur;
	heatBalance_eur += realAgent.v_balanceHeat_eur;
	methaneBalance_eur += realAgent.v_balanceMethane_eur;
	hydrogenBalance_eur += realAgent.v_balanceHydrogen_eur;
}
v_gridConnectionBalanceElectricity_eur = electricityBalance_eur;
v_gridConnectionBalanceHeat_eur = heatBalance_eur;
v_gridConnectionBalanceMethane_eur = methaneBalance_eur;
v_gridConnectionBalanceHydrogen_eur = hydrogenBalance_eur;
v_gridConnectionBalanceTotal_eur = v_gridConnectionBalanceElectricity_eur + v_gridConnectionBalanceHeat_eur + v_gridConnectionBalanceMethane_eur + v_gridConnectionBalanceHydrogen_eur;

electricityBalance_eur = 0;
heatBalance_eur = 0;
methaneBalance_eur = 0;
hydrogenBalance_eur = 0;
for( UI_Actor a : filter( uI_Actors, p -> p.p_actorType.equals(ENERGYSUPPLIER)) ) {
	EnergySupplier realAgent = (EnergySupplier)a.realAgent.getConnectedAgent(0);
	electricityBalance_eur += realAgent.v_currentBalanceElectricityClients_eur;
	heatBalance_eur += realAgent.v_currentBalanceHeatClients_eur;
	methaneBalance_eur += realAgent.v_currentBalanceMethaneClients_eur;
	hydrogenBalance_eur += realAgent.v_currentBalanceHydrogenClients_eur;
}
v_energySupplierBalanceElectricity_eur = electricityBalance_eur;
v_energySupplierBalanceHeat_eur = heatBalance_eur;
v_energySupplierBalanceMethane_eur = methaneBalance_eur;
v_energySupplierBalanceHydrogen_eur = hydrogenBalance_eur;
v_energySupplierBalanceTotal_eur = v_energySupplierBalanceElectricity_eur + v_energySupplierBalanceHeat_eur + v_energySupplierBalanceMethane_eur + v_energySupplierBalanceHydrogen_eur;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1667471363262</Id>
					<Name><![CDATA[f_updateVisuals]]></Name>
					<Description><![CDATA[Goal of the function is to retrieve information from the model and store this in the allotted variables to enable model consistency checks and validation.
Both energy and financial checks can be done.

@params: none
@author: Jorrit
@since: Sprint 6]]></Description>
					<X>-270</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[f_gatherEnergyFlows();
f_checkModelConsistency();
pl_HolonEnergyBalance.updateData();
pl_batterySOC.updateData();]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658752695706</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658752707227</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>
			<EmbeddedObjects>
				<EmbeddedObject>
					<Id>1658753298441</Id>
					<Name><![CDATA[uI_GridNodes]]></Name>
					<Description><![CDATA[populatie van uI_NetNodes agents ter visualisatie van NetNodes parallel aan het model

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-120</X><Y>100</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<PresentationId>1658753301607</PresentationId>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[UI_GridNode]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[UI_GridNode]]></ClassName>
							<ItemName><![CDATA[1658752913452]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_nodeID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nodeType]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1658764981278</Id>
					<Name><![CDATA[uI_GridConnections]]></Name>
					<Description><![CDATA[populatie van uI_NetConnections agents ter visualisatie van NetConnections parallel aan het model

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-120</X><Y>120</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<PresentationId>1658929061851</PresentationId>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[UI_GridConnection]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[UI_GridConnection]]></ClassName>
							<ItemName><![CDATA[1658764971885]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_netConnectionID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_netConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_netConnectionType]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660572078973</Id>
					<Name><![CDATA[uI_Actors]]></Name>
					<Description><![CDATA[Gebruikt voor visuele representatie van de actor-agenten parallel aan het main-model. f_plotActors vult de populatie UI_Actors op basis van de in het main-model aangemaakte Actor agents.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-120</X><Y>140</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<PresentationId>1660576673162</PresentationId>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[UI_Actor]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[UI_Actor]]></ClassName>
							<ItemName><![CDATA[1660572036694]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
			</EmbeddedObjects>

			<Presentation>
				<Level>
					<Id>1658752695710</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<EmbeddedObjectPresentation>
					<Id>1658753301607</Id>
					<Name><![CDATA[uI_GridNodes_presentation]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<DrawingMode>AGENT_CURRENT_POSITION</DrawingMode>
					<ScaleType>AUTOMATICALLY_CALCULATED</ScaleType>
					<GISScaleForRealEmbeddedObjectPresentationSize>1000</GISScaleForRealEmbeddedObjectPresentationSize>
					<GISScaleForFixedEmbeddedObjectPresentationSize>1000000000</GISScaleForFixedEmbeddedObjectPresentationSize>
					<Latitude>0.0</Latitude>
					<Longitude>0.0</Longitude>
				</EmbeddedObjectPresentation>
				<EmbeddedObjectPresentation>
					<Id>1658929061851</Id>
					<Name><![CDATA[uI_GridConnections_presentation]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<DrawingMode>AGENT_CURRENT_POSITION</DrawingMode>
					<ScaleType>AUTOMATICALLY_CALCULATED</ScaleType>
					<GISScaleForRealEmbeddedObjectPresentationSize>1000</GISScaleForRealEmbeddedObjectPresentationSize>
					<GISScaleForFixedEmbeddedObjectPresentationSize>1000000000</GISScaleForFixedEmbeddedObjectPresentationSize>
					<Latitude>0.0</Latitude>
					<Longitude>0.0</Longitude>
				</EmbeddedObjectPresentation>
				<EmbeddedObjectPresentation>
					<Id>1660576673162</Id>
					<Name><![CDATA[uI_Actors_presentation]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<DrawingMode>AGENT_CURRENT_POSITION</DrawingMode>
					<ScaleType>AUTOMATICALLY_CALCULATED</ScaleType>
					<GISScaleForRealEmbeddedObjectPresentationSize>1000</GISScaleForRealEmbeddedObjectPresentationSize>
					<GISScaleForFixedEmbeddedObjectPresentationSize>1000000000</GISScaleForFixedEmbeddedObjectPresentationSize>
					<Latitude>0.0</Latitude>
					<Longitude>0.0</Longitude>
				</EmbeddedObjectPresentation>
				<Text>
					<Id>1661169262789</Id>
					<Name><![CDATA[text]]></Name>
					<X>-290</X><Y>280</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Debugging and system check variables]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>12</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1661517923605</Id>
					<Name><![CDATA[text3]]></Name>
					<X>20</X><Y>580</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA["Model time: "+]]></Text>
					<TextCode><![CDATA["Model Time: "+roundToDecimal(time(HOUR),1) + " hours simulated"]]></TextCode>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
    			<TimePlot>
					<Id>1667408002171</Id>
					<Name><![CDATA[pl_HolonEnergyBalance]]></Name>
					<X>0</X><Y>140</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1667462400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[main.p_timeStep_h]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>430</Width>
					<Height>360</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>350</Width>
						<Height>240</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>60</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[HGV Charging]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-60269</Color>
					<Expression2><![CDATA[v_fleetCharging_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Grid battery charging]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset1]]></Expression>
					<Color>-16776961</Color>
					<Expression2><![CDATA[v_batteryPower_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[PV production]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset2]]></Expression>
					<Color>-12799119</Color>
					<Expression2><![CDATA[v_PVproduction_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Industry consumption]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset3]]></Expression>
					<Color>-3308225</Color>
					<Expression2><![CDATA[v_industryConsumption_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Holon grid load]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset4]]></Expression>
					<Color>-16777216</Color>
					<Expression2><![CDATA[v_holonTotalPower_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Holon grid capacity positive]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset5]]></Expression>
					<Color>-65536</Color>
					<Expression2><![CDATA[v_holonAvailableConnectionCapacity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Holon grid capacity negative]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset6]]></Expression>
					<Color>-65536</Color>
					<Expression2><![CDATA[-v_holonAvailableConnectionCapacity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>100</SamplesToKeep>
					<TimeWindowExpression><![CDATA[24]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>MODEL_TIME_UNITS</LabelFormat>
    			</TimePlot>
    			<TimePlot>
					<Id>1668443694745</Id>
					<Name><![CDATA[pl_batterySOC]]></Name>
					<X>0</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1667462400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[main.p_timeStep_h]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>430</Width>
					<Height>210</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>350</Width>
						<Height>90</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>60</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>FIXED</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[Holon grid load]]></Title>
					<Id>1668443694740</Id>
					<Expression><![CDATA[my_dataset4]]></Expression>
					<Color>-16777216</Color>
					<Expression2><![CDATA[v_batterySOC_fr]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>100</SamplesToKeep>
					<TimeWindowExpression><![CDATA[24]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>MODEL_TIME_UNITS</LabelFormat>
    			</TimePlot>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658752913454</Id>
			<Name><![CDATA[UI_GridNode]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<StartupCode><![CDATA[f_setNodeVisual();]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658752913452</Id>
				<Name><![CDATA[1658752913452]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658822400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658752913450</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658752913453</CurrentLevel>
			<ConnectionsId>1658752913449</ConnectionsId>
			<Variables>
				<Variable Class="Parameter">
					<Id>1658753690661</Id>
					<Name><![CDATA[p_nodeID]]></Name>
					<X>60</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658753690659</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658759460529</Id>
					<Name><![CDATA[p_nodeType]]></Name>
					<X>60</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridNodeType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658759460527</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658753874720</Id>
					<Name><![CDATA[f_setNodeVisual]]></Name>
					<X>60</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[t_nodeID.setText(p_nodeID);
t_nodetype.setText(p_nodeType);]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658752913449</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<DrawLine>true</DrawLine>
					<LineStyle>DOTTED</LineStyle>
					<LineWidth>0.5</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658760368568</Id>
					<Name><![CDATA[realAgent]]></Name>
					<X>200</X><Y>-40</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentReferenceId>1658477288308</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658753301618</Id>
					<Name><![CDATA[kpiVisuals]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[KpiVisuals]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
				<ContainerLink>
					<Id>1658753301622</Id>
					<Name><![CDATA[main]]></Name>
					<X>150</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1658752913453</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Rectangle>
					<Id>1658752947986</Id>
					<Name><![CDATA[netNodeVisual]]></Name>
					<X>-30</X><Y>-20</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>60</Width>
					<Height>40</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-7876870</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1658753927156</Id>
					<Name><![CDATA[t_nodeID]]></Name>
					<X>0</X><Y>-10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[ID]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Text>
					<Id>1658754055524</Id>
					<Name><![CDATA[t_nodeText]]></Name>
					<X>0</X><Y>-20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[node]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Text>
					<Id>1658759394610</Id>
					<Name><![CDATA[t_nodetype]]></Name>
					<X>0</X><Y>5</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[type]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>2</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Text>
					<Id>1658762845688</Id>
					<Name><![CDATA[text]]></Name>
					<X>40</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[load:]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1658762845695</Id>
					<Name><![CDATA[t_loadElectricText]]></Name>
					<X>70</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[0 MWe]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1660136208763</Id>
					<Name><![CDATA[t_loadThermalText]]></Name>
					<X>70</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[0 MWth]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658764971887</Id>
			<Name><![CDATA[UI_GridConnection]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<StartupCode><![CDATA[f_setNetConnectionVisual();]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658764971885</Id>
				<Name><![CDATA[1658764971885]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658822400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658764971883</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658764971886</CurrentLevel>
			<ConnectionsId>1658764971882</ConnectionsId>
			<Variables>
				<Variable Class="Parameter">
					<Id>1658922494420</Id>
					<Name><![CDATA[p_netConnectionID]]></Name>
					<X>60</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658922494404</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658922517357</Id>
					<Name><![CDATA[p_netConnectionCategory]]></Name>
					<X>60</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionCategory]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658922517355</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658935468891</Id>
					<Name><![CDATA[p_netConnectionType]]></Name>
					<X>60</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658935468889</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658922533379</Id>
					<Name><![CDATA[f_setNetConnectionVisual]]></Name>
					<X>60</X><Y>105</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[switch( p_netConnectionCategory ) {
  case HOUSE:
  house.setVisible(true);
  house.setPos(0, 0, 0);
  this.setXY( this.getX() + normal(20, 0), this.getY() + normal(20, 0) );
  break;
  case BUILDING:
  switch( p_netConnectionType ) {
  	case STORE:
	store.setVisible(true);
	store.setPos(0, 0, 0);
	this.setXY( this.getX() + normal(20, 30), this.getY() + normal(20, 0) );
	case OFFICE:
	office.setVisible(true);
	office.setPos(0, 0, 0);
	this.setXY( this.getX() + normal(20, 30), this.getY() + normal(20, 0) );
	break;
	}
  break;
  case WINDFARM:
  windfarm.setVisible(true);
  windfarm.setPos(0, 0, 0);
  this.setXY( this.getX() + normal(20, 75), this.getY() + normal(20, -100) );
  break;
  case SOLARFARM:
  solarfarm.setVisible(true);
  solarfarm.setPos(0, 0, 0);
  this.setXY( this.getX() + normal(20, 75), this.getY() + normal(20, -100) );
  break;
  case DISTRICTHEATING:
  districtheating.setVisible(true);
  districtheating.setPos(0, 0, 0);
  break;
  case INDUSTRY:
  industry.setVisible(true);
  industry.setPos(0, 0, 0);
  break;
  case GRIDBATTERY:
  battery.setVisible(true);
  battery.setPos(0, 0, 0);
  break;
  default:
  error( "Invalid netConnection category: " + p_netConnectionCategory );
}]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658764971882</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<DrawLine>true</DrawLine>
					<LineStyle>DOTTED</LineStyle>
					<LineWidth>0.5</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658922322142</Id>
					<Name><![CDATA[realAgent]]></Name>
					<X>190</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentReferenceId>1658499438203</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658764984405</Id>
					<Name><![CDATA[kpiVisuals]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[KpiVisuals]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
				<ContainerLink>
					<Id>1658764984411</Id>
					<Name><![CDATA[main]]></Name>
					<X>150</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1658764971886</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Group>
					<Id>1658929175596</Id>
					<Name><![CDATA[house]]></Name>
					<X>-23</X><Y>38</Y>
					<Label><X>6.429</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1658929175598</Id>
					<Name><![CDATA[_ps257]]></Name>
					<X>-0.643</X><Y>6.087</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-11563064</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-6.696</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-3.652</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175600</Id>
					<Name><![CDATA[_ps258]]></Name>
					<X>-0.643</X><Y>2.435</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-5716507</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					   <Point><X>3.214</X><Y>-6.696</Y><Z>0</Z></Point>
					   <Point><X>-3.214</X><Y>-3.652</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175602</Id>
					<Name><![CDATA[_ps259]]></Name>
					<X>-7.071</X><Y>3.043</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-8607017</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-3.652</Y><Z>0</Z></Point>
					   <Point><X>3.214</X><Y>-4.261</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-0.609</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>3.043</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175604</Id>
					<Name><![CDATA[_ps260]]></Name>
					<X>-7.071</X><Y>-0.609</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-2168075</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					   <Point><X>9.643</X><Y>-3.652</Y><Z>0</Z></Point>
					   <Point><X>3.214</X><Y>-0.609</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175606</Id>
					<Name><![CDATA[_ps261]]></Name>
					<X>-0.643</X><Y>6.087</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-14734530</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-6.696</Y><Z>0</Z></Point>
					   <Point><X>3.214</X><Y>-10.348</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-9.739</Y><Z>0</Z></Point>
					   <Point><X>-6.429</X><Y>-6.696</Y><Z>0</Z></Point>
					   <Point><X>-6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175608</Id>
					<Name><![CDATA[_ps262]]></Name>
					<X>-5.786</X><Y>2.435</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-12823945</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>0.609</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>-1.217</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-1.826</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175610</Id>
					<Name><![CDATA[_ps263]]></Name>
					<X>0.643</X><Y>4.261</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-12823945</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>-0.609</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>-2.435</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-1.826</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175612</Id>
					<Name><![CDATA[_ps264]]></Name>
					<X>-3.214</X><Y>3.652</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-12823945</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>0.609</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>-1.217</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-1.826</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175614</Id>
					<Name><![CDATA[_ps265]]></Name>
					<X>-0.643</X><Y>6.087</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>2.571</X><Y>1.217</Y><Z>0</Z></Point>
					   <Point><X>9</X><Y>-1.826</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
			</Presentation>

				</Group>
				<Group>
					<Id>1658929281593</Id>
					<Name><![CDATA[store]]></Name>
					<X>-52</X><Y>39</Y>
					<Label><X>5.626</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1658929281595</Id>
					<Name><![CDATA[_ps268]]></Name>
					<X>0</X><Y>6.685</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>2.25</X><Y>1.114</Y><Z>0</Z></Point>
					   <Point><X>9</X><Y>-2.228</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929281597</Id>
					<Name><![CDATA[_ps269]]></Name>
					<X>0</X><Y>2.228</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-6690304</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-6.685</Y><Z>0</Z></Point>
					   <Point><X>-6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929281599</Id>
					<Name><![CDATA[_ps270]]></Name>
					<X>-6.75</X><Y>3.342</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-8140800</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.457</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-1.114</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>3.342</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929281601</Id>
					<Name><![CDATA[_ps271]]></Name>
					<X>0</X><Y>6.685</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9986560</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-7.798</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.457</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929281603</Id>
					<Name><![CDATA[_ps272]]></Name>
					<X>-5.624</X><Y>3.899</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-12491776</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>5.626</X><Y>2.785</Y><Z>0</Z></Point>
					   <Point><X>11.25</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>11.25</X><Y>-2.785</Y><Z>0</Z></Point>
					   <Point><X>5.626</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.785</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Line>
					<Id>1658929281605</Id>
					<Name><![CDATA[_ps273]]></Name>
					<X>1.126</X><Y>6.127</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-9986560</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>-5</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1658929281607</Id>
					<Name><![CDATA[_ps274]]></Name>
					<X>-1.124</X><Y>6.127</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-8140800</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>-5</Dy>
					<Dz>0</Dz>
				</Line>
				<Polyline>
					<Id>1658929281609</Id>
					<Name><![CDATA[_ps275]]></Name>
					<X>0</X><Y>6.685</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-14667264</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-7.798</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-11.14</Y><Z>0</Z></Point>
					   <Point><X>-6.75</X><Y>-7.798</Y><Z>0</Z></Point>
					   <Point><X>-6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
			</Presentation>

				</Group>
				<Image>
					<Id>1658930878010</Id>
					<Name><![CDATA[windfarm]]></Name>
					<X>-64</X><Y>1</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Width>25</Width>
					<Height>25</Height>
					<Rotation>0.0</Rotation>
					<ImageFiles>
						<ImageResourceReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[windmill-svgrepo-com.png]]></ClassName>
						</ImageResourceReference>
					</ImageFiles>
					<OriginalSize>false</OriginalSize>
				</Image>
				<Image>
					<Id>1658934338846</Id>
					<Name><![CDATA[solarfarm]]></Name>
					<X>-32</X><Y>2</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Width>23</Width>
					<Height>23</Height>
					<Rotation>0.0</Rotation>
					<ImageFiles>
						<ImageResourceReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[solarfarm.png]]></ClassName>
						</ImageResourceReference>
					</ImageFiles>
					<OriginalSize>false</OriginalSize>
				</Image>
				<Group>
					<Id>1658935018794</Id>
					<Name><![CDATA[office]]></Name>
					<X>-50</X><Y>60</Y>
					<Label><X>3.202</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1658935018796</Id>
					<Name><![CDATA[shapeBox]]></Name>
					<X>0</X><Y>6.403</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-1525489</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.403</X><Y>-3.202</Y><Z>0</Z></Point>
					   <Point><X>6.403</X><Y>-9.605</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-12.806</Y><Z>0</Z></Point>
					   <Point><X>-6.403</X><Y>-9.605</Y><Z>0</Z></Point>
					   <Point><X>-6.403</X><Y>-3.202</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658935018798</Id>
					<Name><![CDATA[_ps2]]></Name>
					<X>0</X><Y>6.403</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>402653184</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-6.403</Y><Z>0</Z></Point>
					   <Point><X>6.403</X><Y>-9.605</Y><Z>0</Z></Point>
					   <Point><X>6.403</X><Y>-3.202</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658935018800</Id>
					<Name><![CDATA[_ps3]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1358954495</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.403</X><Y>-3.202</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-6.403</Y><Z>0</Z></Point>
					   <Point><X>-6.403</X><Y>-3.202</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658935018802</Id>
					<Name><![CDATA[_ps4]]></Name>
					<X>0</X><Y>6.403</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-11913984</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.403</X><Y>-3.202</Y><Z>0</Z></Point>
					   <Point><X>6.403</X><Y>-9.605</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-12.806</Y><Z>0</Z></Point>
					   <Point><X>-6.403</X><Y>-9.605</Y><Z>0</Z></Point>
					   <Point><X>-6.403</X><Y>-3.202</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Line>
					<Id>1658935018804</Id>
					<Name><![CDATA[_ps5]]></Name>
					<X>-3.202</X><Y>-4.803</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-6324726</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>5</Dx>
					<Dy>2</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1658935018806</Id>
					<Name><![CDATA[_ps6]]></Name>
					<X>6.403</X><Y>-3.202</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-6324726</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>-7</Dx>
					<Dy>2</Dy>
					<Dz>0</Dz>
				</Line>
			</Presentation>

				</Group>
				<Group>
					<Id>1660062204092</Id>
					<Name><![CDATA[districtheating]]></Name>
					<X>-25</X><Y>60</Y>
					<Label><X>6.963</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1660062204094</Id>
					<Name><![CDATA[_ps287]]></Name>
					<X>0</X><Y>10.286</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>4.177</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>6.963</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>9.748</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>9.748</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>12.532</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204096</Id>
					<Name><![CDATA[_ps288]]></Name>
					<X>-11.14</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-3065088</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>4.115</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204098</Id>
					<Name><![CDATA[_ps289]]></Name>
					<X>8.355</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-507904</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Curve ControlPoints="true">
					<Id>1660062204100</Id>
					<Name><![CDATA[_ps290]]></Name>
					<X>1.392</X><Y>-2.743</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4447488</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Curve ControlPoints="true">
					<Id>1660062204102</Id>
					<Name><![CDATA[_ps291]]></Name>
					<X>5.569</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4447488</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Polyline>
					<Id>1660062204104</Id>
					<Name><![CDATA[_ps292]]></Name>
					<X>-2.785</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-507904</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-8.354</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-4.177</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-1.392</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-10.971</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-4.114</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204106</Id>
					<Name><![CDATA[_ps293]]></Name>
					<X>-2.785</X><Y>8.915</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4447488</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-10.971</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.114</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204108</Id>
					<Name><![CDATA[_ps294]]></Name>
					<X>0</X><Y>7.544</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204110</Id>
					<Name><![CDATA[_ps295]]></Name>
					<X>2.785</X><Y>6.171</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204112</Id>
					<Name><![CDATA[_ps296]]></Name>
					<X>5.569</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Curve ControlPoints="true">
					<Id>1660062204114</Id>
					<Name><![CDATA[_ps297]]></Name>
					<X>8.355</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-12187648</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-10.285</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-10.285</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
			</Presentation>

				</Group>
				<Group>
					<Id>1666950979807</Id>
					<Name><![CDATA[industry]]></Name>
					<X>-40</X><Y>80</Y>
					<Label><X>6.963</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1666950979809</Id>
					<Name><![CDATA[_ps298]]></Name>
					<X>0</X><Y>10.286</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>4.177</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>6.963</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>9.748</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>9.748</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>12.532</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1666950979811</Id>
					<Name><![CDATA[_ps299]]></Name>
					<X>-11.14</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-8355712</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>4.115</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1666950979813</Id>
					<Name><![CDATA[_ps300]]></Name>
					<X>8.355</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4144960</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Curve ControlPoints="true">
					<Id>1666950979815</Id>
					<Name><![CDATA[_ps301]]></Name>
					<X>1.392</X><Y>-2.743</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4144960</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Curve ControlPoints="true">
					<Id>1666950979817</Id>
					<Name><![CDATA[_ps302]]></Name>
					<X>5.569</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4144960</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Polyline>
					<Id>1666950979819</Id>
					<Name><![CDATA[_ps303]]></Name>
					<X>-2.785</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-1644806</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-8.354</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-4.177</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-1.392</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-10.971</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-4.114</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1666950979821</Id>
					<Name><![CDATA[_ps304]]></Name>
					<X>-2.785</X><Y>8.915</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-8355712</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-10.971</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.114</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1666950979823</Id>
					<Name><![CDATA[_ps305]]></Name>
					<X>0</X><Y>7.544</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1666950979825</Id>
					<Name><![CDATA[_ps306]]></Name>
					<X>2.785</X><Y>6.171</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1666950979827</Id>
					<Name><![CDATA[_ps307]]></Name>
					<X>5.569</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Curve ControlPoints="true">
					<Id>1666950979829</Id>
					<Name><![CDATA[_ps308]]></Name>
					<X>8.355</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-12187648</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-10.285</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-10.285</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
			</Presentation>

				</Group>
				<Group>
					<Id>1666960162547</Id>
					<Name><![CDATA[battery]]></Name>
					<X>-65</X><Y>82</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Group>
					<Id>1666959479845</Id>
					<Name><![CDATA[lorry]]></Name>
					<X>2</X><Y>-2</Y>
					<Label><X>5.111</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Rectangle>
					<Id>1666959479857</Id>
					<Name><![CDATA[_ps91]]></Name>
					<X>-15</X><Y>-4</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>1.2</Width>
					<Height>12</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-12566464</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1666959479859</Id>
					<Name><![CDATA[_ps92]]></Name>
					<X>-13.8</X><Y>-4.5</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>17.8</Width>
					<Height>13.5</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-10496</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
			</Presentation>

				</Group>
				<Group>
					<Id>1666960122044</Id>
					<Name><![CDATA[group]]></Name>
					<X>-2</X><Y>1</Y>
					<Label><X>8.182</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1666960021761</Id>
					<Name><![CDATA[polyline]]></Name>
					<X>0</X><Y>-6.222</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-3.273</X><Y>5.333</Y><Z>0</Z></Point>
					   <Point><X>0.818</X><Y>3.556</Y><Z>0</Z></Point>
					   <Point><X>-2.455</X><Y>10.667</Y><Z>0</Z></Point>
					   <Point><X>-0.409</X><Y>8.933</Y><Z>0</Z></Point>
					</Points>
					<Closed>false</Closed>
				</Polyline>
				<Line>
					<Id>1666960064950</Id>
					<Name><![CDATA[line]]></Name>
					<X>-2.373</X><Y>4.267</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>-3</Dy>
					<Dz>0</Dz>
				</Line>
			</Presentation>

				</Group>
			</Presentation>

				</Group>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660224852394</Id>
			<Name><![CDATA[ConnectionOwner]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<StartupCode><![CDATA[v_currentPriceBands = new TreeMap<Double, Double>();
v_currentPriceBands.put(-999.0, v_electricitySellPrice_eurpkWh + v_sellCongestionPrice_eurpkWh);
v_currentPriceBands.put(0.0, 0.0);
v_currentPriceBands.put(999.0, v_electricityBuyPrice_eurpkWh + v_buyCongestionPrice_eurpkWh);
]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660224852392</Id>
				<Name><![CDATA[1660224852392]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660291200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660224852390</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660224852393</CurrentLevel>
			<ConnectionsId>1660224852389</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1660744173993</Id>
					<Name><![CDATA[v_electricityContractType]]></Name>
					<X>280</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[OL_ContractType.ELECTRICITY_VARIABLE]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744181560</Id>
					<Name><![CDATA[v_heatContractType]]></Name>
					<X>280</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[HEAT_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744190914</Id>
					<Name><![CDATA[v_methaneContractType]]></Name>
					<X>280</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[METHANE_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744732007</Id>
					<Name><![CDATA[v_electricityVolume_kWh]]></Name>
					<X>50</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744756249</Id>
					<Name><![CDATA[v_heatVolume_kWh]]></Name>
					<X>50</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744762793</Id>
					<Name><![CDATA[v_methaneVolume_kWh]]></Name>
					<X>50</X><Y>510</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660745490749</Id>
					<Name><![CDATA[v_balanceElectricity_eur]]></Name>
					<X>280</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660745504140</Id>
					<Name><![CDATA[v_balanceHeat_eur]]></Name>
					<X>280</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660745513069</Id>
					<Name><![CDATA[v_balanceMethane_eur]]></Name>
					<X>280</X><Y>510</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174627092</Id>
					<Name><![CDATA[v_hydrogenContractType]]></Name>
					<X>280</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[HYDROGEN_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174643058</Id>
					<Name><![CDATA[v_balanceHydrogen_eur]]></Name>
					<X>280</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661175214034</Id>
					<Name><![CDATA[v_hydrogenVolume_kWh]]></Name>
					<X>50</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661177954454</Id>
					<Name><![CDATA[v_energySupplierDistrictHeat]]></Name>
					<X>50</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[Agent]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661179464769</Id>
					<Name><![CDATA[v_ownedGridConnection]]></Name>
					<X>50</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[GridConnection]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661267039916</Id>
					<Name><![CDATA[j_ConnectionOwnerData]]></Name>
					<X>50</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_ConnectionOwnerData]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663237705961</Id>
					<Name><![CDATA[v_electricityBuyPrice_eurpkWh]]></Name>
					<X>50</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663237725571</Id>
					<Name><![CDATA[v_electricitySurpluss_kW]]></Name>
					<X>50</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666529984344</Id>
					<Name><![CDATA[v_currentPriceBands]]></Name>
					<X>50</X><Y>350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666530785350</Id>
					<Name><![CDATA[v_electricitySellPrice_eurpkWh]]></Name>
					<X>50</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666531537644</Id>
					<Name><![CDATA[v_sellCongestionPrice_eurpkWh]]></Name>
					<X>50</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666531542032</Id>
					<Name><![CDATA[v_buyCongestionPrice_eurpkWh]]></Name>
					<X>50</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666531573460</Id>
					<Name><![CDATA[v_congestionTariffAllowance_kW]]></Name>
					<X>280</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666531581003</Id>
					<Name><![CDATA[v_updatePriceBands_b]]></Name>
					<Description><![CDATA[Not visible as it is swtiched on and of in between timesteps ( for fixed tarifs at least)]]></Description>
					<X>280</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[true]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666546867711</Id>
					<Name><![CDATA[v_congestionTariff_b]]></Name>
					<X>280</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[true]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667401120682</Id>
					<Name><![CDATA[v_congestionMode]]></Name>
					<X>280</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[String]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669024165241</Id>
					<Name><![CDATA[v_dieselVolume_kWh]]></Name>
					<X>50</X><Y>550</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669024172107</Id>
					<Name><![CDATA[v_balanceDiesel_eur]]></Name>
					<X>280</X><Y>550</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669036835710</Id>
					<Name><![CDATA[v_contractEnergyHolon]]></Name>
					<X>280</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[String]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669036845521</Id>
					<Name><![CDATA[v_contractEnergySupplier]]></Name>
					<X>280</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[String]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669036853577</Id>
					<Name><![CDATA[v_contractGridOperator]]></Name>
					<X>280</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[String]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1660225105547</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Unique identifier of this actor in String format. Designated in Config-excel and used to link actors to netConnections.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>50</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660225105545</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660225105552</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>50</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660225105550</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660226911197</Id>
					<Name><![CDATA[p_parentActorID]]></Name>
					<Description><![CDATA[Unique actor identifier in String format of a designated parent actor. This may be designated in Config-excel and is used to create an agent link with a higher lying agent (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>50</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660226911195</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660230904844</Id>
					<Name><![CDATA[p_energySupplier]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>50</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Agent]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660230904842</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1666976143102</Id>
					<Name><![CDATA[p_holonParent]]></Name>
					<X>50</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[EnergyHolon]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1666976143100</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1667914746699</Id>
					<Name><![CDATA[p_electricityContractType]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>280</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_ContractType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[OL_ContractType.ELECTRICITY_FIXED]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1667914746697</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1667914825937</Id>
					<Name><![CDATA[p_heatContractType]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>280</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_ContractType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[OL_ContractType.HEAT_FIXED]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1667914825935</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1667914829000</Id>
					<Name><![CDATA[p_methaneContractType]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>280</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_ContractType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[OL_ContractType.METHANE_FIXED]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1667914828998</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1667914831812</Id>
					<Name><![CDATA[p_hydrogenContractType]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>280</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_ContractType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[OL_ContractType.HYDROGEN_FIXED]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1667914831810</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1669036749740</Id>
					<Name><![CDATA[p_actorContractList]]></Name>
					<X>280</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[ArrayList]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1669036749738</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1669036806038</Id>
					<Name><![CDATA[c_actorContractList]]></Name>
					<X>410</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[LinkedHashMap]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660230297342</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>760</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[GridConnection]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingChildNode);
v_ownedGridConnection = ConnectingChildNode;
if (v_contractGridOperator.equals("NONFIRM")) {
	ConnectingChildNode.v_enable_nfATO_b = true;
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660230784171</Id>
					<Name><![CDATA[f_connectToParentActor]]></Name>
					<Description><![CDATA[Creates an agentLink in superConnection if a parentActorID is designated in the config-excel. Called from f_configureBackBone() in main for profiling reasons, so no parameters are given.

@param: none
@return: none
@since: Sprint 6
@author: HOUJ]]></Description>
					<X>760</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( p_parentActorID != null ) {
	Agent myParentActor = findFirst(main.pop_energySuppliers, p->p.p_actorID.equals(p_parentActorID)) ;
	if( myParentActor != null) {
		superConnection.connectTo(myParentActor);
		p_energySupplier = myParentActor;
		EnergySupplier energySupplier =  (EnergySupplier)myParentActor;
		energySupplier.f_connectToChild(this);
		if ( v_electricityContractType == ELECTRICITY_FIXED ){
			v_electricityBuyPrice_eurpkWh = energySupplier.f_getEnergyPrice( ELECTRICITY_FIXED, false );
			v_electricitySellPrice_eurpkWh = energySupplier.f_getEnergyPrice( ELECTRICITY_FIXED, true );
		}
	}
	else {
		myParentActor = findFirst(main.pop_energyHolons, p->p.p_actorID.equals(p_parentActorID)) ;
		if( myParentActor != null) {
			superConnection.connectTo(myParentActor);
			p_energySupplier = myParentActor;
			EnergyHolon energySupplier = (EnergyHolon)myParentActor;
			energySupplier.f_connectToChild(this);
			p_holonParent = energySupplier;
			if ( v_electricityContractType == ELECTRICITY_FIXED ){
				v_electricityBuyPrice_eurpkWh = energySupplier.f_getEnergyPrice( ELECTRICITY_FIXED, false );
				v_electricitySellPrice_eurpkWh = energySupplier.f_getEnergyPrice( ELECTRICITY_FIXED, true );
			}
		}
		else {
			traceln("Connection owner --> f_connectToParentActor --> no parent actor found, this should not be happening");
		}
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660742520265</Id>
					<Name><![CDATA[f_updateFinances]]></Name>
					<X>760</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//TODO: Diesel costs still missing!! [GH 21/11/2022]

// get current energy flows
f_gatherEnergyFlows();

// trigger transaction with supplier/holon
if( p_energySupplier != null) {
	//Agent energySupplier = p_energySupplier;
	if( p_energySupplier instanceof EnergySupplier) {
		EnergySupplier energySupplier = (EnergySupplier)p_energySupplier;
		double transactionCost_eur = energySupplier.f_doEnergyTransaction(v_electricityVolume_kWh, v_electricityContractType);
		v_balanceElectricity_eur -= transactionCost_eur;
		transactionCost_eur = energySupplier.f_doEnergyTransaction(v_methaneVolume_kWh, v_methaneContractType);
		v_balanceMethane_eur -= transactionCost_eur;
		transactionCost_eur = energySupplier.f_doEnergyTransaction(v_hydrogenVolume_kWh, v_hydrogenContractType);
		v_balanceHydrogen_eur -= transactionCost_eur;
	} else if ( p_energySupplier instanceof EnergyHolon ) {
		EnergyHolon energySupplier = (EnergyHolon)p_energySupplier;
		double transactionCost_eur = energySupplier.f_doEnergyTransaction(v_electricityVolume_kWh, v_electricityContractType);
		v_balanceElectricity_eur -= transactionCost_eur;
		transactionCost_eur = energySupplier.f_doEnergyTransaction(v_methaneVolume_kWh, v_methaneContractType);
		v_balanceMethane_eur -= transactionCost_eur;
		transactionCost_eur = energySupplier.f_doEnergyTransaction(v_hydrogenVolume_kWh, v_hydrogenContractType);
		v_balanceHydrogen_eur -= transactionCost_eur;
	}
} else {
	traceln("Connection owner " + this + " has no energy supplier!");
}

// Also needs to include congestion tariffs! 
if (v_congestionTariff_b) {
	double congestionCost_eur = v_electricityVolume_kWh * v_buyCongestionPrice_eurpkWh;
	/*if (abs(congestionCost_eur) > 0) {
		traceln("CongestionCosts this timestep " + congestionCost_eur + " euro for " + v_electricityVolume_kWh + " kWh electricity");
	}*/
	v_balanceElectricity_eur -= congestionCost_eur; // TODO: This transaction is 'one-sided'; the gridOperator is not yet receiving/giving this money!!
}

// trigger district heat accounting with specified heat supplier agent
if( v_energySupplierDistrictHeat instanceof EnergySupplier) {
	EnergySupplier energySupplier = (EnergySupplier)v_energySupplierDistrictHeat;
	double transactionCost_eur = energySupplier.f_doEnergyTransaction(v_heatVolume_kWh, v_heatContractType);
	v_balanceHeat_eur -= transactionCost_eur;
}
else if( v_energySupplierDistrictHeat instanceof EnergyHolon ) {
	EnergyHolon energySupplier = (EnergyHolon)v_energySupplierDistrictHeat;
	double transactionCost_eur = energySupplier.f_doEnergyTransaction(v_heatVolume_kWh, v_heatContractType);
	v_balanceHeat_eur -= transactionCost_eur;
}

v_balanceDiesel_eur += v_dieselVolume_kWh * .196; // TODO: UGLY HACK]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660743030872</Id>
					<Name><![CDATA[f_gatherEnergyFlows]]></Name>
					<X>760</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// reset eenrgy flows
v_electricityVolume_kWh = 0;
v_heatVolume_kWh = 0;
v_methaneVolume_kWh = 0;
v_hydrogenVolume_kWh = 0;
v_dieselVolume_kWh = 0;

// gather electricity flows
for(GridConnection n :  subConnections.getConnections() ) {
	v_electricityVolume_kWh += n.v_currentPowerElectricity_kW * main.p_timeStep_h;
	v_heatVolume_kWh += n.v_currentPowerHeat_kW * main.p_timeStep_h;
	v_methaneVolume_kWh += n.v_currentPowerMethane_kW * main.p_timeStep_h;
	v_hydrogenVolume_kWh += n.v_currentPowerHydrogen_kW * main.p_timeStep_h;
	v_dieselVolume_kWh += n.v_currentPowerDiesel_kW * main.p_timeStep_h;
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1663237679579</Id>
					<Name><![CDATA[f_updateIncentives]]></Name>
					<X>760</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Update electricity price (if necessary)
//if (v_electricityContractType == OL_ContractType.ELECTRICITY_VARIABLE) {
	if (p_energySupplier instanceof EnergySupplier) {
		v_electricityBuyPrice_eurpkWh = ((EnergySupplier)p_energySupplier).f_getEnergyPrice(v_electricityContractType, true);
		v_electricitySellPrice_eurpkWh = ((EnergySupplier)p_energySupplier).f_getEnergyPrice(v_electricityContractType, false);
	} else if (p_energySupplier instanceof EnergyHolon) {
		v_electricityBuyPrice_eurpkWh = ((EnergyHolon)p_energySupplier).f_getEnergyPrice(v_electricityContractType, true);
		v_electricitySellPrice_eurpkWh = ((EnergyHolon)p_energySupplier).f_getEnergyPrice(v_electricityContractType, false);
	}
//}

//Onderstaand is allemaal voor elektriciteit, zijn er connectionowners dat puur warmtenetten zijn?
if ( v_updatePriceBands_b ){
	f_setElectricityPriceBands();
}

// Update energy balance
v_electricitySurpluss_kW = 0;
for(GridConnection c : subConnections.getConnections()){
	v_electricitySurpluss_kW -= c.v_currentPowerElectricity_kW;
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666529572357</Id>
					<Name><![CDATA[f_setElectricityPriceBands]]></Name>
					<X>780</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_currentPriceBands.replace(-999.0, v_electricitySellPrice_eurpkWh + v_sellCongestionPrice_eurpkWh);
//v_currentPriceBands.put(0.0, 0.0);
v_currentPriceBands.replace(999.0, v_electricityBuyPrice_eurpkWh + v_buyCongestionPrice_eurpkWh);


if (v_congestionTariffAllowance_kW != 0){
	if(v_congestionMode == "Overconsumption"){
		v_currentPriceBands.put( v_congestionTariffAllowance_kW,  v_electricityBuyPrice_eurpkWh);
	}
	else if (v_congestionMode == "Overproduction"){
		v_currentPriceBands.put( v_congestionTariffAllowance_kW,  v_electricitySellPrice_eurpkWh);
	}
	else {
		traceln("Connection owner --> f_setElectrcitiyPriceBands: geen congestie type gevonden");
	}
}




	]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669036739539</Id>
					<Name><![CDATA[f_setContractValues]]></Name>
					<X>280</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if( p_actorContractList != null) {
	traceln("Contract list connectionOwner "+p_actorID+": " + p_actorContractList.toString());
} else {
	traceln( "No contract data for connectionOwner "+p_actorID );
}
v_contractEnergySupplier = "FIXED"; // anders nullpointer-errors
v_contractEnergyHolon = "DEFAULT";
v_contractGridOperator = "DEFAULT";

c_actorContractList = p_actorContractList;
for( HashMap l : c_actorContractList) {
		OL_ActorType contractScope = OL_ActorType.valueOf((String)l.get( "contract_scope" ));

		switch( contractScope ) {
			case ENERGYSUPPLIER:
				v_contractEnergySupplier = (String)l.get( "type" );
			break;
			case ENERGYHOLON:
				v_contractEnergyHolon = (String)l.get( "type" );
				
			break;
			case GRIDOPERATOR:
				v_contractGridOperator = (String)l.get( "type" );
			break;
			default:
				traceln("ConnectionOwner f_setContractValues exception: not a valid actor type");
			break;
		}			
}

// set other values according to received contract type:
switch( v_contractEnergySupplier ) {
	case "FIXED":
		v_electricityContractType = OL_ContractType.ELECTRICITY_FIXED;
		//v_electricityBuyPrice_eurpkWh = ((EnergySupplier)p_energySupplier).f_getEnergyPrice(v_electricityContractType, true);
		//v_electricitySellPrice_eurpkWh = ((EnergySupplier)p_energySupplier).f_getEnergyPrice(v_electricityContractType, false);
		v_heatContractType = OL_ContractType.HEAT_FIXED;
		v_methaneContractType = OL_ContractType.METHANE_FIXED;
		v_hydrogenContractType = OL_ContractType.HYDROGEN_FIXED;
	break;
	case "VARIABLE":
		v_electricityContractType = OL_ContractType.ELECTRICITY_VARIABLE;
		v_heatContractType = OL_ContractType.HEAT_FIXED;
		v_methaneContractType = OL_ContractType.METHANE_FIXED;
		v_hydrogenContractType = OL_ContractType.HYDROGEN_FIXED;
	break;
	default:
		traceln("ConnectionOwner f_setContractValues: energySupplier contract type not implemented! No values set");
	break;
}

switch( v_contractGridOperator ) {
	case "DEFAULT":
		v_congestionTariff_b = false; // ? wat nog meer?
	break;
	case "NODALPRICING":
		v_congestionTariff_b = true; // ? wat nog meer? 
	break;
	case "NONFIRM":
		/*for (GridConnection gc : subConnections.getConnections()) {
			gc.v_enable_nfATO_b = true;
			traceln("Setting nfATO TRUE!!");
		}*/
	break;
	default:
		traceln("ConnectionOwner f_setContractValues: gridOperator contract type not implemented! No values set");
	break;
}

switch( v_contractEnergyHolon ) {
	case "DEFAULT":
	
	break;
	case "VARIABLE":
	
	break;
	default:
		traceln("ConnectionOwner f_setContractValues: energyHolon contract type not implemented! No values set");
	break;
}
]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1660224852389</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[TreeMap<Double, Double>]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660225105554</Id>
					<Name><![CDATA[superConnection]]></Name>
					<Description><![CDATA[Link naar bovenliggende actor, bijv. een holon, of energySupplier. Gebruikt om lid te worden van een holon of aangesloten te zijn bij een energieleverancier.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>240</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660225105556</Id>
					<Name><![CDATA[subConnections]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de holon)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>240</X><Y>-20</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentReferenceId>1658499438203</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660730128545</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660224852393</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Text>
					<Id>1667915783258</Id>
					<Name><![CDATA[text5]]></Name>
					<X>710</X><Y>100</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Init]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1667915783271</Id>
					<Name><![CDATA[text6]]></Name>
					<X>710</X><Y>200</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Occuring]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667915783273</Id>
					<Name><![CDATA[line5]]></Name>
					<X>730</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>40</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1667915783275</Id>
					<Name><![CDATA[line6]]></Name>
					<X>730</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>80</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667915804468</Id>
					<Name><![CDATA[text4]]></Name>
					<X>790</X><Y>30</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Functions]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667915804471</Id>
					<Name><![CDATA[line4]]></Name>
					<X>740</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1667917017859</Id>
					<Name><![CDATA[line]]></Name>
					<X>20</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667917017864</Id>
					<Name><![CDATA[text]]></Name>
					<X>50</X><Y>30</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[ID & connections]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667917035332</Id>
					<Name><![CDATA[line1]]></Name>
					<X>270</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667917035334</Id>
					<Name><![CDATA[text1]]></Name>
					<X>300</X><Y>30</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Contracts]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660572036696</Id>
			<Name><![CDATA[UI_Actor]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660572036694</Id>
				<Name><![CDATA[1660572036694]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660636800000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660572036692</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660572036695</CurrentLevel>
			<ConnectionsId>1660572036691</ConnectionsId>
			<Variables>
				<Variable Class="Parameter">
					<Id>1660572411407</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Gebruikt om de juiste visualisatie voor de UI_Actor te activeren en de agent op de juiste plek in de structuurvisualisatie in KpiVisuals te krijgen.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>50</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_ActorType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660572411405</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660578753579</Id>
					<Name><![CDATA[p_parentID]]></Name>
					<Description><![CDATA[Gebruikt om de juiste agentLinks aan te kunnen maken in de structuurvisualisatie in KpiVisuals en voor debugging.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>50</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660578753577</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660580940488</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Gebruikt om de juiste agentLinks aan te kunnen maken in de structuurvisualisatie in KpiVisuals en voor debugging

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>50</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660580940486</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<AgentLinks>
				<AgentLink>
					<Id>1660572036691</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<DrawLine>true</DrawLine>
					<LineStyle>DOTTED</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>ABOVE_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660578923498</Id>
					<Name><![CDATA[realAgent]]></Name>
					<Description><![CDATA[Agentlink die de UI_Actor koppelt aan de Actor-agent die hij representeert.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>200</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660572082561</Id>
					<Name><![CDATA[kpiVisuals]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[KpiVisuals]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
				<ContainerLink>
					<Id>1660572082567</Id>
					<Name><![CDATA[main]]></Name>
					<X>150</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660572036695</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Group>
					<Id>1660575564404</Id>
					<Name><![CDATA[houseHoldVisuals]]></Name>
					<Description><![CDATA[Geaggregeerde visual van de household-UI_Actors population.
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-70</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<RoundedRectangle>
					<Id>1660575451743</Id>
					<Name><![CDATA[houseHoldvisual]]></Name>
					<X>-40</X><Y>-30</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>80</Width>
					<Height>60</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-329006</FillColor>
					<FillMaterial>null</FillMaterial>
					<ArcRadius>10</ArcRadius>
				</RoundedRectangle>
				<Text>
					<Id>1660575503230</Id>
					<Name><![CDATA[t_numberOfHouseholds]]></Name>
					<X>30</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[#]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>RIGHT</Alignment>
				</Text>
				<Text>
					<Id>1660575519272</Id>
					<Name><![CDATA[Huishoudens]]></Name>
					<X>-30</X><Y>-10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Huishoudens]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Group>
				<Group>
					<Id>1660576302326</Id>
					<Name><![CDATA[commercialVisuals]]></Name>
					<Description><![CDATA[Geaggregeerde visual van de commercial-UI_Actors population.
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-160</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<RoundedRectangle>
					<Id>1660576302328</Id>
					<Name><![CDATA[commercialsVisual]]></Name>
					<X>-40</X><Y>-30</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>80</Width>
					<Height>60</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-2302756</FillColor>
					<FillMaterial>null</FillMaterial>
					<ArcRadius>10</ArcRadius>
				</RoundedRectangle>
				<Text>
					<Id>1660576302330</Id>
					<Name><![CDATA[t_numberOfCommercials]]></Name>
					<X>30</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[#]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>RIGHT</Alignment>
				</Text>
				<Text>
					<Id>1660576302332</Id>
					<Name><![CDATA[Commercials]]></Name>
					<X>-30</X><Y>-10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Commercials]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Group>
				<Group>
					<Id>1660576734163</Id>
					<Name><![CDATA[energySupplierVisuals]]></Name>
					<Description><![CDATA[Geaggregeerde visual van de energySupplier-UI_Actors population.
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-250</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<RoundedRectangle>
					<Id>1660576734165</Id>
					<Name><![CDATA[eSupplierVisual]]></Name>
					<X>-40</X><Y>-30</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>80</Width>
					<Height>60</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-7876870</FillColor>
					<FillMaterial>null</FillMaterial>
					<ArcRadius>10</ArcRadius>
				</RoundedRectangle>
				<Text>
					<Id>1660576734167</Id>
					<Name><![CDATA[t_numberOfEnergySuppliers]]></Name>
					<X>30</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[#]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>RIGHT</Alignment>
				</Text>
				<Text>
					<Id>1660576734169</Id>
					<Name><![CDATA[EnergySuppliers]]></Name>
					<X>0</X><Y>-10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Energy
Supplier]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
			</Presentation>

				</Group>
				<Group>
					<Id>1660577591383</Id>
					<Name><![CDATA[networkOperatorVisuals]]></Name>
					<Description><![CDATA[Geaggregeerde visual van de networkoperator-UI_Actors population.]]></Description>
					<X>-340</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<RoundedRectangle>
					<Id>1660577591385</Id>
					<Name><![CDATA[networkOperatorVisual]]></Name>
					<X>-40</X><Y>-30</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>80</Width>
					<Height>60</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-332841</FillColor>
					<FillMaterial>null</FillMaterial>
					<ArcRadius>10</ArcRadius>
				</RoundedRectangle>
				<Text>
					<Id>1660577591387</Id>
					<Name><![CDATA[t_numberOfNetworkOperators]]></Name>
					<X>30</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[#]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>RIGHT</Alignment>
				</Text>
				<Text>
					<Id>1660577591389</Id>
					<Name><![CDATA[NetworkOperators]]></Name>
					<X>0</X><Y>-10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Network
Operator]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
			</Presentation>

				</Group>
				<Group>
					<Id>1660578202093</Id>
					<Name><![CDATA[household]]></Name>
					<Description><![CDATA[Individuele agentvisualisatie voor UI_Actor-agent van type household.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-90</X><Y>0</Y>
					<Label><X>-20</X><Y>20</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Curve ControlPoints="true">
					<Id>1660578202095</Id>
					<Name><![CDATA[shapeBody]]></Name>
					<X>-2</X><Y>-7</Y>
					<Label><X>-20</X><Y>28</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-16777216</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4</Y><Z>0</Z></Point>
					   <Point><X>3</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>-1</X><Y>3</Y><Z>0</Z></Point>
					   <Point><X>-2</X><Y>3</Y><Z>0</Z></Point>
					   <Point><X>-2</X><Y>10</Y><Z>0</Z></Point>
					   <Point><X>-2</X><Y>11</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>11</Y><Z>0</Z></Point>
					   <Point><X>-1</X><Y>9</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>17</Y><Z>0</Z></Point>
					   <Point><X>1</X><Y>17</Y><Z>0</Z></Point>
					   <Point><X>3</X><Y>17</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>17</Y><Z>0</Z></Point>
					   <Point><X>5</X><Y>9</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>11</Y><Z>0</Z></Point>
					   <Point><X>6</X><Y>11</Y><Z>0</Z></Point>
					   <Point><X>6</X><Y>10</Y><Z>0</Z></Point>
					   <Point><X>6</X><Y>3</Y><Z>0</Z></Point>
					   <Point><X>5</X><Y>3</Y><Z>0</Z></Point>
					   <Point><X>1</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>4</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>-3</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-3</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
			</Presentation>

				</Group>
				<Group>
					<Id>1660578537153</Id>
					<Name><![CDATA[commercial]]></Name>
					<Description><![CDATA[Individuele agentvisualisatie voor UI_Actor-agent van type commercial.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-130</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1660578537155</Id>
					<Name><![CDATA[_ps268]]></Name>
					<X>0</X><Y>12</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>4</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>16</X><Y>-4</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-6</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660578537157</Id>
					<Name><![CDATA[_ps269]]></Name>
					<X>0</X><Y>4</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-6690304</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-6</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-12</Y><Z>0</Z></Point>
					   <Point><X>-12</X><Y>-6</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660578537159</Id>
					<Name><![CDATA[_ps270]]></Name>
					<X>-12</X><Y>6</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-8140800</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-2</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>6</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660578537161</Id>
					<Name><![CDATA[_ps271]]></Name>
					<X>0</X><Y>12</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9986560</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-6</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-14</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660578537163</Id>
					<Name><![CDATA[_ps272]]></Name>
					<X>-10</X><Y>7</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-12491776</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>10</X><Y>5</Y><Z>0</Z></Point>
					   <Point><X>20</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>20</X><Y>-5</Y><Z>0</Z></Point>
					   <Point><X>10</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-5</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Line>
					<Id>1660578537165</Id>
					<Name><![CDATA[_ps273]]></Name>
					<X>2</X><Y>11</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-9986560</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>-6</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1660578537167</Id>
					<Name><![CDATA[_ps274]]></Name>
					<X>-2</X><Y>11</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-8140800</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>-6</Dy>
					<Dz>0</Dz>
				</Line>
				<Polyline>
					<Id>1660578537169</Id>
					<Name><![CDATA[_ps275]]></Name>
					<X>0</X><Y>12</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-14667264</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-6</Y><Z>0</Z></Point>
					   <Point><X>12</X><Y>-14</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-20</Y><Z>0</Z></Point>
					   <Point><X>-12</X><Y>-14</Y><Z>0</Z></Point>
					   <Point><X>-12</X><Y>-6</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
			</Presentation>

				</Group>
				<Group>
					<Id>1666951603921</Id>
					<Name><![CDATA[eSupplier_actor]]></Name>
					<X>-170</X><Y>10</Y>
					<Label><X>9.434</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Rectangle>
					<Id>1666951532446</Id>
					<Name><![CDATA[rectangle]]></Name>
					<X>-28.302</X><Y>-19.07</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>47.17</Width>
					<Height>38.14</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1666951516076</Id>
					<Name><![CDATA[text]]></Name>
					<X>-22.641</X><Y>-10.807</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Energy
Supplier]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Group>
				<Group>
					<Id>1666964112699</Id>
					<Name><![CDATA[holonvisual]]></Name>
					<X>-210</X><Y>10</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Group>
					<Id>1660578495070</Id>
					<Name><![CDATA[holon]]></Name>
					<Description><![CDATA[Individuele agentvisualisatie voor UI_Actor-agent van type holon.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-10</X><Y>-10</Y>
					<Label><X>2.458</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Curve ControlPoints="true">
					<Id>1660578495072</Id>
					<Name><![CDATA[_ps300]]></Name>
					<X>-9.831</X><Y>-7.75</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-11702146</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-5383962</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>2.703</X><Y>-2.5</Y><Z>0</Z></Point>
					   <Point><X>5.653</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>5.653</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>5.653</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>6.39</X><Y>-3</Y><Z>0</Z></Point>
					   <Point><X>11.059</X><Y>-3</Y><Z>0</Z></Point>
					   <Point><X>15.729</X><Y>-3</Y><Z>0</Z></Point>
					   <Point><X>16.712</X><Y>1.5</Y><Z>0</Z></Point>
					   <Point><X>16.712</X><Y>1.5</Y><Z>0</Z></Point>
					   <Point><X>16.712</X><Y>1.5</Y><Z>0</Z></Point>
					   <Point><X>20.153</X><Y>-0.5</Y><Z>0</Z></Point>
					   <Point><X>21.873</X><Y>3</Y><Z>0</Z></Point>
					   <Point><X>23.839</X><Y>6.5</Y><Z>0</Z></Point>
					   <Point><X>20.398</X><Y>8</Y><Z>0</Z></Point>
					   <Point><X>20.398</X><Y>8</Y><Z>0</Z></Point>
					   <Point><X>20.398</X><Y>8</Y><Z>0</Z></Point>
					   <Point><X>22.856</X><Y>10.5</Y><Z>0</Z></Point>
					   <Point><X>20.89</X><Y>13.25</Y><Z>0</Z></Point>
					   <Point><X>18.678</X><Y>16</Y><Z>0</Z></Point>
					   <Point><X>14.5</X><Y>14</Y><Z>0</Z></Point>
					   <Point><X>14.5</X><Y>14</Y><Z>0</Z></Point>
					   <Point><X>14.5</X><Y>14</Y><Z>0</Z></Point>
					   <Point><X>13.271</X><Y>17.5</Y><Z>0</Z></Point>
					   <Point><X>9.093</X><Y>17.5</Y><Z>0</Z></Point>
					   <Point><X>5.161</X><Y>17.5</Y><Z>0</Z></Point>
					   <Point><X>4.178</X><Y>13.75</Y><Z>0</Z></Point>
					   <Point><X>4.178</X><Y>13.75</Y><Z>0</Z></Point>
					   <Point><X>4.178</X><Y>13.75</Y><Z>0</Z></Point>
					   <Point><X>1.72</X><Y>15.25</Y><Z>0</Z></Point>
					   <Point><X>-0.737</X><Y>12.75</Y><Z>0</Z></Point>
					   <Point><X>-3.686</X><Y>8.75</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>5.75</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>5.75</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>5.75</Y><Z>0</Z></Point>
					   <Point><X>-2.703</X><Y>2.5</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Curve ControlPoints="true">
					<Id>1660578495074</Id>
					<Name><![CDATA[_ps301]]></Name>
					<X>-9.093</X><Y>-6.5</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>2.212</X><Y>-2.5</Y><Z>0</Z></Point>
					   <Point><X>5.161</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>5.161</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>5.161</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>5.898</X><Y>-3.5</Y><Z>0</Z></Point>
					   <Point><X>10.322</X><Y>-3.5</Y><Z>0</Z></Point>
					   <Point><X>14.254</X><Y>-3.25</Y><Z>0</Z></Point>
					   <Point><X>14.746</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>14.746</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>14.746</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>14.254</X><Y>-2.75</Y><Z>0</Z></Point>
					   <Point><X>10.322</X><Y>-3</Y><Z>0</Z></Point>
					   <Point><X>6.636</X><Y>-3.25</Y><Z>0</Z></Point>
					   <Point><X>5.161</X><Y>1.25</Y><Z>0</Z></Point>
					   <Point><X>5.161</X><Y>1.25</Y><Z>0</Z></Point>
					   <Point><X>5.161</X><Y>1.25</Y><Z>0</Z></Point>
					   <Point><X>2.458</X><Y>-1.25</Y><Z>0</Z></Point>
					   <Point><X>0.492</X><Y>0.5</Y><Z>0</Z></Point>
					   <Point><X>-1.229</X><Y>2</Y><Z>0</Z></Point>
					   <Point><X>0.737</X><Y>4.75</Y><Z>0</Z></Point>
					   <Point><X>0.737</X><Y>4.75</Y><Z>0</Z></Point>
					   <Point><X>0.737</X><Y>4.75</Y><Z>0</Z></Point>
					   <Point><X>-1.966</X><Y>7.25</Y><Z>0</Z></Point>
					   <Point><X>-0.983</X><Y>10.5</Y><Z>0</Z></Point>
					   <Point><X>-2.703</X><Y>7.5</Y><Z>0</Z></Point>
					   <Point><X>0.246</X><Y>4.5</Y><Z>0</Z></Point>
					   <Point><X>0.246</X><Y>4.5</Y><Z>0</Z></Point>
					   <Point><X>0.246</X><Y>4.5</Y><Z>0</Z></Point>
					   <Point><X>-2.212</X><Y>2.5</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
			</Presentation>

				</Group>
				<Text>
					<Id>1666951919737</Id>
					<Name><![CDATA[holonName]]></Name>
					<X>-10</X><Y>0</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[holon]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Group>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731364525</Id>
			<Name><![CDATA[AdministrativeHolon]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731364523</Id>
				<Name><![CDATA[1660731364523]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731364521</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731364524</CurrentLevel>
			<ConnectionsId>1660731364520</ConnectionsId>
			<AgentLinks>
				<AgentLink>
					<Id>1660731364520</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660732002822</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731364524</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731375016</Id>
			<Name><![CDATA[EnergyHolon]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731375014</Id>
				<Name><![CDATA[1660731375014]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731375012</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731375015</CurrentLevel>
			<ConnectionsId>1660731375011</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1667983361361</Id>
					<Name><![CDATA[v_energyPassedThrough_kWh]]></Name>
					<X>51</X><Y>519</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361363</Id>
					<Name><![CDATA[v_electricityVolume_kWh]]></Name>
					<X>51</X><Y>399</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361365</Id>
					<Name><![CDATA[v_heatVolume_kWh]]></Name>
					<X>51</X><Y>419</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361367</Id>
					<Name><![CDATA[v_methaneVolume_kWh]]></Name>
					<X>51</X><Y>439</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361369</Id>
					<Name><![CDATA[v_electricitySurplus_kW]]></Name>
					<X>51</X><Y>539</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361373</Id>
					<Name><![CDATA[v_electricityImported_kWh]]></Name>
					<X>301</X><Y>399</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361375</Id>
					<Name><![CDATA[v_electricityExported_kWh]]></Name>
					<X>521</X><Y>397</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361377</Id>
					<Name><![CDATA[v_methaneImported_kWh]]></Name>
					<X>301</X><Y>419</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361379</Id>
					<Name><![CDATA[v_methaneExported_kWh]]></Name>
					<X>521</X><Y>417</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361381</Id>
					<Name><![CDATA[v_heatImported_kWh]]></Name>
					<X>301</X><Y>439</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361383</Id>
					<Name><![CDATA[v_heatExported_kWh]]></Name>
					<X>521</X><Y>437</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361385</Id>
					<Name><![CDATA[v_hydrogenImported_kWh]]></Name>
					<X>301</X><Y>459</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361387</Id>
					<Name><![CDATA[v_hydrogenExported_kWh]]></Name>
					<X>521</X><Y>457</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361389</Id>
					<Name><![CDATA[v_hydrogenVolume_kWh]]></Name>
					<X>51</X><Y>459</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587453344</Id>
					<Name><![CDATA[v_balanceElectricity_eur]]></Name>
					<X>520</X><Y>510</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587453348</Id>
					<Name><![CDATA[v_balanceMethane_eur]]></Name>
					<X>520</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587453350</Id>
					<Name><![CDATA[v_balanceHeat_eur]]></Name>
					<X>520</X><Y>550</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587453352</Id>
					<Name><![CDATA[v_balanceHydrogen_eur]]></Name>
					<X>520</X><Y>570</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587944764</Id>
					<Name><![CDATA[v_electricityContractType]]></Name>
					<X>50</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[OL_ContractType.ELECTRICITY_VARIABLE]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587944767</Id>
					<Name><![CDATA[v_heatContractType]]></Name>
					<X>50</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[HEAT_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587944769</Id>
					<Name><![CDATA[v_methaneContractType]]></Name>
					<X>50</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[METHANE_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587944771</Id>
					<Name><![CDATA[v_hydrogenContractType]]></Name>
					<X>50</X><Y>350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[HYDROGEN_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669024077839</Id>
					<Name><![CDATA[v_dieselImported_kWh]]></Name>
					<X>300</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669024099515</Id>
					<Name><![CDATA[v_dieselVolume_kWh]]></Name>
					<X>50</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669024644541</Id>
					<Name><![CDATA[v_balanceDiesel_eur]]></Name>
					<X>520</X><Y>590</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669037269503</Id>
					<Name><![CDATA[v_contractEnergyHolon]]></Name>
					<X>230</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[String]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669035973258</Id>
					<Name><![CDATA[v_allowedCapacity_kW]]></Name>
					<X>300</X><Y>580</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[Double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669037284540</Id>
					<Name><![CDATA[v_contractEnergySupplier]]></Name>
					<X>230</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[String]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669037300744</Id>
					<Name><![CDATA[v_contractGridOperator]]></Name>
					<X>230</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[String]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1670254434536</Id>
					<Name><![CDATA[v_enable_nfATO_b]]></Name>
					<X>300</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736326709</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Unique identifier of this actor in String format. Designated in Config-excel and used to link actors to netConnections.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>50</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736326707</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736326712</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>50</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736326710</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736326715</Id>
					<Name><![CDATA[p_parentActorID]]></Name>
					<Description><![CDATA[Unique actor identifier in String format of a designated parent actor. This may be designated in Config-excel and is used to create an agent link with a higher lying agent (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>50</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736326713</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736326718</Id>
					<Name><![CDATA[p_energySupplier]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>50</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Agent]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736326716</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1669037234222</Id>
					<Name><![CDATA[p_actorContractList]]></Name>
					<X>50</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[ArrayList]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>0</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1669036120007</Id>
					<Name><![CDATA[p_nfatoStart_HR]]></Name>
					<X>50</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1669036120005</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1669036120010</Id>
					<Name><![CDATA[p_nfatoEnd_HR]]></Name>
					<X>50</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0
]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1669036120008</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1669036120013</Id>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
					<X>50</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1669036120011</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1669036172744</Id>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
					<Description><![CDATA[TODO: This is still hardcoded! How should HOLON know where to 'gather' this data? (Capacity of shared connection)]]></Description>
					<X>50</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[2000]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1669036172742</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1669042483034</Id>
					<Name><![CDATA[c_actorContractList]]></Name>
					<X>220</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[LinkedHashMap]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Events>
				<Event>
					<Id>1669035973262</Id>
					<Name><![CDATA[e_startNonFirmATO]]></Name>
					<X>300</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1669017600000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[1d/1f]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[DAY]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[v_allowedCapacity_kW = p_nfatoLvl_kW;]]></Action>
				</Event>
				<Event>
					<Id>1669035973267</Id>
					<Name><![CDATA[e_endNonFirmATO]]></Name>
					<X>300</X><Y>560</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1669017600000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[1d/1f]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[DAY]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[v_allowedCapacity_kW = p_connectionCapacity_kW;]]></Action>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736326703</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>350</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingChildNode);
if ( v_contractGridOperator.equals("NODALPRICING")) {
//	traceln("Enabling nodal pricing for HOLON memmber!");
	if (ConnectingChildNode instanceof ConnectionOwner) {
		((ConnectionOwner)ConnectingChildNode).v_contractGridOperator = v_contractGridOperator;
		((ConnectionOwner)ConnectingChildNode).v_congestionTariff_b = true;
	}
}
if ( v_contractEnergySupplier.equals("VARIABLE")) {
	if (ConnectingChildNode instanceof ConnectionOwner) {
		((ConnectionOwner)ConnectingChildNode).v_electricityContractType = OL_ContractType.ELECTRICITY_VARIABLE;
		((ConnectionOwner)ConnectingChildNode).v_contractEnergySupplier= v_contractEnergySupplier;
		((ConnectionOwner)ConnectingChildNode).v_updatePriceBands_b = true;
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660806150226</Id>
					<Name><![CDATA[f_updateFinances]]></Name>
					<X>350</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// get current energy flows
f_gatherEnergyFlows();

// trigger transaction with supplier/holon

double transactionCost_eur = ((EnergySupplier)p_energySupplier).f_doEnergyTransaction(v_electricityVolume_kWh, v_electricityContractType);
v_balanceElectricity_eur -= transactionCost_eur;
 transactionCost_eur = ((EnergySupplier)p_energySupplier).f_doEnergyTransaction(v_heatVolume_kWh, v_heatContractType);
v_balanceHeat_eur -= transactionCost_eur;
transactionCost_eur = ((EnergySupplier)p_energySupplier).f_doEnergyTransaction(v_methaneVolume_kWh, v_methaneContractType);
v_balanceMethane_eur -= transactionCost_eur;

// TODO: Also needs to include congestion tariffs! So HOLON needs to know to which GridNode it's connected! How should that work?]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660825183645</Id>
					<Name><![CDATA[f_doEnergyTransaction]]></Name>
					<X>350</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[transactionVolume_kWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[contractType]]></Name>
						<Type><![CDATA[OL_ContractType]]></Type>
					</Parameter>
					<Body><![CDATA[double transactionCostClient_eur = 0;

if( p_energySupplier instanceof EnergySupplier ) {
	EnergySupplier energySupplier = (EnergySupplier)p_energySupplier;
	transactionCostClient_eur = energySupplier.f_doEnergyTransaction(transactionVolume_kWh, contractType);
} else if( p_energySupplier instanceof EnergyHolon ) {
	EnergyHolon energySupplier = (EnergyHolon)p_energySupplier;
	transactionCostClient_eur = energySupplier.f_doEnergyTransaction(transactionVolume_kWh, contractType);
}

v_energyPassedThrough_kWh += transactionVolume_kWh;

return transactionCostClient_eur;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660825257472</Id>
					<Name><![CDATA[f_connectToParentActor]]></Name>
					<Description><![CDATA[Creates an agentLink in superConnection if a parentActorID is designated in the config-excel. Called from f_configureBackBone() in main for profiling reasons, so no parameters are given.

@param: none
@return: none
@since: Sprint 6
@author: HOUJ]]></Description>
					<X>350</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( p_parentActorID != null ) {
	Agent myParentActor = findFirst(main.pop_energySuppliers, p->p.p_actorID.equals(p_parentActorID)) ;
	if( myParentActor != null) {
		superConnection.connectTo(myParentActor);
		p_energySupplier = myParentActor;
		EnergySupplier energySupplier =  (EnergySupplier)myParentActor;
		energySupplier.f_connectToChild(this);
	}

	myParentActor = findFirst(main.pop_energyHolons, p->p.p_actorID.equals(p_parentActorID)) ;
	if( myParentActor != null) {
		superConnection.connectTo(myParentActor);
		p_energySupplier = myParentActor;
		EnergyHolon energySupplier = (EnergyHolon)myParentActor;
		energySupplier.f_connectToChild(this);
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1667983361355</Id>
					<Name><![CDATA[f_gatherEnergyFlows]]></Name>
					<X>351</X><Y>179</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// reset eenrgy flows
v_electricityVolume_kWh = 0;
v_heatVolume_kWh = 0;
v_methaneVolume_kWh = 0;
v_hydrogenVolume_kWh = 0;
v_dieselVolume_kWh = 0;
// gather electricity flows
for(Agent a :  subConnections.getConnections() ) {
	if(a instanceof ConnectionOwner){
		ConnectionOwner n = (ConnectionOwner)a;
		v_electricityVolume_kWh += n.v_electricityVolume_kWh;
		v_heatVolume_kWh += n.v_heatVolume_kWh;
		v_methaneVolume_kWh += n.v_methaneVolume_kWh;
		v_hydrogenVolume_kWh += n.v_hydrogenVolume_kWh;
		v_dieselVolume_kWh += n.v_dieselVolume_kWh;
	} else if (a instanceof EnergyHolon) {
		EnergyHolon n = (EnergyHolon)a;
		v_electricityVolume_kWh += n.v_electricityVolume_kWh;
		v_heatVolume_kWh += n.v_heatVolume_kWh;
		v_methaneVolume_kWh += n.v_methaneVolume_kWh;
		v_hydrogenVolume_kWh += n.v_hydrogenVolume_kWh;
		v_dieselVolume_kWh += n.v_dieselVolume_kWh;
	}
}
v_electricitySurplus_kW = -v_electricityVolume_kWh / main.p_timeStep_h;

v_electricityImported_kWh += max(0,v_electricityVolume_kWh);
v_electricityExported_kWh += -min(0,v_electricityVolume_kWh);
v_methaneImported_kWh += max(0,v_methaneVolume_kWh);
v_methaneExported_kWh += -min(0,v_methaneVolume_kWh);
v_heatImported_kWh += max(0,v_heatVolume_kWh);
v_heatExported_kWh += -min(0,v_heatVolume_kWh);
v_hydrogenImported_kWh += max(0,v_hydrogenVolume_kWh);
v_hydrogenExported_kWh += -min(0,v_hydrogenVolume_kWh);
v_dieselImported_kWh += v_dieselVolume_kWh;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1667983361357</Id>
					<Name><![CDATA[f_getEnergyPrice]]></Name>
					<X>351</X><Y>199</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[contractType]]></Name>
						<Type><![CDATA[OL_ContractType]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[feedIn]]></Name>
						<Type><![CDATA[boolean]]></Type>
					</Parameter>
					<Body><![CDATA[double energyPrice_eurpkWh = ((EnergySupplier)p_energySupplier).f_getEnergyPrice(contractType, feedIn);
//traceln("Holon received energy price of: " + energyPrice_eurpkWh + " eur/kWh");
return energyPrice_eurpkWh;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1667983437058</Id>
					<Name><![CDATA[f_returnKPIData]]></Name>
					<Description><![CDATA[Executed on simulation end to export data.

@author: JorritvandenHouten
@since: Sprint 6]]></Description>
					<X>350</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Total electricity import, export
traceln("Holon Electricity imported: "+ v_electricityImported_kWh);
traceln("Holon Electricity exported: "+ v_electricityExported_kWh);
traceln("Holon electricity costs: " + v_balanceElectricity_eur + " euro");
//Total energy consumption and production 

double energyProduced_kWh = 0;
double energyConsumed_kWh = 0;
for(Agent a :  subConnections.getConnections() ) {
	if(a instanceof ConnectionOwner){
		ConnectionOwner n = (ConnectionOwner)a;
		for ( GridConnection g : n.subConnections.getConnections() ) {
			for (EnergyAsset e : g.c_energyAssets) {
				double EnergyUsed_kWh = e.p_energyAssetInstance.getEnergyUsed_kWh();
				//traceln("EnergyAsset " + e.getIndex() + " of type " + e.p_defaultEnergyAssetPresetName + " used " + EnergyUsed_kWh + " kWh energy");
				if (EnergyUsed_kWh > 0) {
					energyConsumed_kWh += EnergyUsed_kWh;
				} else {
					energyProduced_kWh -= EnergyUsed_kWh;
				}
			}
		}
	} else if (a instanceof EnergyHolon) { // 'Recursive' code for holon-of-holons. Only supports 2 levels of holons!
		EnergyHolon n = (EnergyHolon)a;
		for(Agent a2 :  n.subConnections.getConnections() ) {
			if(a2 instanceof ConnectionOwner){
				ConnectionOwner n2 = (ConnectionOwner)a;
				for ( GridConnection g : n2.subConnections.getConnections() ) {
					for (EnergyAsset e : g.c_energyAssets) {
						double EnergyUsed_kWh = e.p_energyAssetInstance.getEnergyUsed_kWh();
						//traceln("EnergyAsset " + e.getIndex() + " of type " + e.p_defaultEnergyAssetPresetName + " used " + EnergyUsed_kWh + " kWh energy");
						if (EnergyUsed_kWh > 0) {
							energyConsumed_kWh += EnergyUsed_kWh;
						} else {
							energyProduced_kWh -= EnergyUsed_kWh;
						}
					}
				}
			}
		}
	}
}

traceln("Energy consumed: "+ energyConsumed_kWh);
traceln("Energy produced: "+ energyProduced_kWh);
// TODO: Make sure this calculation is correct when all energy carriers are 'active'! Only checked for electricity

//Total selfconsumption, selfsufficiency
double totalSelfConsumption_fr = 1 - (v_electricityExported_kWh + v_methaneExported_kWh + v_hydrogenExported_kWh + v_heatExported_kWh)/energyProduced_kWh;
double totalSelfSufficiency_fr = 1 - (v_electricityImported_kWh + v_methaneImported_kWh + v_hydrogenImported_kWh + v_heatImported_kWh + v_dieselImported_kWh)/energyConsumed_kWh;

double totalSelfSufficiency_fr_check = (energyProduced_kWh - (v_electricityExported_kWh + v_methaneExported_kWh + v_hydrogenExported_kWh + v_heatExported_kWh))/energyConsumed_kWh;
traceln("Holon selfconsumption: " + totalSelfConsumption_fr + "%");
traceln("Holon selfsufficiency: " + totalSelfSufficiency_fr + "%, doublecheck " + totalSelfSufficiency_fr_check);
// TODO: Account for fuel imports/exports!!

]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669037224999</Id>
					<Name><![CDATA[f_setContractValues]]></Name>
					<X>50</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if( p_actorContractList != null) {
	traceln("Contract list energyHolon "+p_actorID+": " + p_actorContractList.toString());
} else {
	traceln( "No contract data for energyHolon "+p_actorID );
}
v_contractEnergySupplier = "DEFAULT"; // anders nullpointer-errors
v_contractEnergyHolon = "DEFAULT";
v_contractGridOperator = "DEFAULT";

c_actorContractList = p_actorContractList;
for( HashMap l : c_actorContractList) {
		OL_ActorType contractScope = OL_ActorType.valueOf((String)l.get( "contract_scope" ));

		switch( contractScope ) {
			case ENERGYSUPPLIER:
				v_contractEnergySupplier = (String)l.get( "type" );
			break;
			case ENERGYHOLON:
				v_contractEnergyHolon = (String)l.get( "type" );
			break;
			case GRIDOPERATOR:
				v_contractGridOperator = (String)l.get( "type" );
			break;
			default:
				traceln("ConnectionOwner f_setContractValues exception: not a valid actor type");
			break;
		}			
}

// set other values according to received contract type:
switch( v_contractEnergySupplier ) {
	case "FIXED":
		v_electricityContractType = OL_ContractType.ELECTRICITY_FIXED;
		v_heatContractType = OL_ContractType.HEAT_FIXED;
		v_methaneContractType = OL_ContractType.METHANE_FIXED;
		v_hydrogenContractType = OL_ContractType.HYDROGEN_FIXED;
	break;
	case "VARIABLE":
		v_electricityContractType = OL_ContractType.ELECTRICITY_VARIABLE;
		v_heatContractType = OL_ContractType.HEAT_FIXED;
		v_methaneContractType = OL_ContractType.METHANE_FIXED;
		v_hydrogenContractType = OL_ContractType.HYDROGEN_FIXED;
	break;
	default:
		traceln("EnergyHolon f_setContractValues: energySupplier contract type not implemented! No values set");
	break;
}

switch( v_contractGridOperator ) {
	case "DEFAULT":
//		v_congestionTariff_b = false; // ? wat nog meer?
	break;
	case "NODALPRICING":
//		v_congestionTariff_b = true; // ? wat nog meer? 
	break;
	case "NONFIRM":
		v_enable_nfATO_b = true;
	break;
	default:
		traceln("EnergyHolon f_setContractValues: gridOperator contract type not implemented! No values set");
	break;
}

switch( v_contractEnergyHolon ) {
	case "DEFAULT":
	
	break;
	case "VARIABLE":
	
	break;
	default:
		traceln("EnergyHolon f_setContractValues: energyHolon contract type not implemented! No values set");
	break;				
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669042410671</Id>
					<Name><![CDATA[f_initialize]]></Name>
					<X>350</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_allowedCapacity_kW = p_connectionCapacity_kW;
if(!v_enable_nfATO_b){
	e_startNonFirmATO.reset();
	e_endNonFirmATO.reset();
}
else {
	e_startNonFirmATO.restartTo(p_nfatoStart_HR, HOUR);
	e_endNonFirmATO.restartTo(p_nfatoEnd_HR, HOUR);
	if(p_nfatoLvl_kW == 0.0) { p_nfatoLvl_kW = p_connectionCapacity_kW; }
}

]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1660731375011</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736357874</Id>
					<Name><![CDATA[superConnection]]></Name>
					<Description><![CDATA[Link naar bovenliggende actor, bijv. een holon, of energySupplier. Gebruikt om lid te worden van een holon of aangesloten te zijn bij een energieleverancier.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>310</X><Y>-80</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736357876</Id>
					<Name><![CDATA[subConnections]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de holon)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>310</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660731826095</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731375015</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Line>
					<Id>1667922231713</Id>
					<Name><![CDATA[line4]]></Name>
					<X>330</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667922231717</Id>
					<Name><![CDATA[text4]]></Name>
					<X>380</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Functions]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1667922231719</Id>
					<Name><![CDATA[text6]]></Name>
					<X>300</X><Y>200</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Occuring]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667922231721</Id>
					<Name><![CDATA[line5]]></Name>
					<X>320</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>50</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667922231723</Id>
					<Name><![CDATA[text5]]></Name>
					<X>300</X><Y>80</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Init]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667922231725</Id>
					<Name><![CDATA[line6]]></Name>
					<X>320</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>80</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1667922255136</Id>
					<Name><![CDATA[line]]></Name>
					<X>20</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667922255138</Id>
					<Name><![CDATA[text]]></Name>
					<X>50</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[ID & connections]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731377984</Id>
			<Name><![CDATA[EnergySupplier]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731377982</Id>
				<Name><![CDATA[1660731377982]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731377980</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731377983</CurrentLevel>
			<ConnectionsId>1660731377979</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1660746837357</Id>
					<Name><![CDATA[v_currentVariableElectricityPrice_eurpkWh]]></Name>
					<X>70</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660752591616</Id>
					<Name><![CDATA[v_currentBalanceClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for all energy carriers traded with clients.

@author: Gillis
@since: Sprint 6]]></Description>
					<X>70</X><Y>430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660804951335</Id>
					<Name><![CDATA[v_totalElectricitySoldToClients_kWh]]></Name>
					<X>70</X><Y>450</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660804979322</Id>
					<Name><![CDATA[v_totalElectricityBoughtFromClients_kWh]]></Name>
					<X>70</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660805212026</Id>
					<Name><![CDATA[v_currentBalanceNat_eur]]></Name>
					<X>70</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660805212029</Id>
					<Name><![CDATA[v_totalElectricitySoldToNat_kWh]]></Name>
					<X>70</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660805212031</Id>
					<Name><![CDATA[v_totalElectricityBoughtFromNat_kWh]]></Name>
					<X>70</X><Y>560</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660810211679</Id>
					<Name><![CDATA[v_currentNettElectricityVolume_kWh]]></Name>
					<X>70</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661173036699</Id>
					<Name><![CDATA[v_currentBalanceElectricityClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for electricity traded with clients.

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>70</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661173058952</Id>
					<Name><![CDATA[v_currentBalanceHeatClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for heat traded with clients.

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>70</X><Y>350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661173096820</Id>
					<Name><![CDATA[v_currentBalanceMethaneClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for methane
@author: Jorrit
@since: Sprint 6]]></Description>
					<X>70</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174191671</Id>
					<Name><![CDATA[v_currentBalanceHydrogenClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for hydrogen traded with clients.

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>70</X><Y>390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736336144</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Unique identifier of this actor in String format. Designated in Config-excel and used to link actors to netConnections.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>70</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736336142</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736336147</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>70</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736336145</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736336150</Id>
					<Name><![CDATA[p_parentActorID]]></Name>
					<Description><![CDATA[Unique actor identifier in String format of a designated parent actor. This may be designated in Config-excel and is used to create an agent link with a higher lying agent (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>70</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736336148</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736336153</Id>
					<Name><![CDATA[p_parentActor]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>70</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[ConnectionOwner]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736336151</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746260066</Id>
					<Name><![CDATA[p_fixedElectricityPrice_eurpkWh]]></Name>
					<X>260</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746260064</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746283321</Id>
					<Name><![CDATA[p_fixedHeatPrice_eurpkWh]]></Name>
					<X>260</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746283319</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746306858</Id>
					<Name><![CDATA[p_fixedMethanePrice_eurpkWh]]></Name>
					<X>260</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746306856</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746679056</Id>
					<Name><![CDATA[p_fixedHydrogenPrice_eurpkWh]]></Name>
					<X>260</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746679054</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746710965</Id>
					<Name><![CDATA[p_variableElectricityPriceOverNational_eurpkWh]]></Name>
					<X>260</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746710963</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1667921811994</Id>
					<Name><![CDATA[p_fixedFeedinTariff_eurpkWh]]></Name>
					<X>260</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1667921811992</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736336138</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>790</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingChildNode);
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736336141</Id>
					<Name><![CDATA[f_connectToParentActor]]></Name>
					<Description><![CDATA[Creates an agentLink in superConnection if a parentActorID is designated in the config-excel. Called from f_configureBackBone() in main for profiling reasons, so no parameters are given.

@param: none
@return: none
@since: Sprint 6
@author: HOUJ]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>780</X><Y>-40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( p_parentActorID != null ) {
	ConnectionOwner myParentActor = findFirst(main.pop_connectionOwners, p->p.p_actorID.equals(p_parentActorID)) ;
	if( myParentActor instanceof ConnectionOwner) {
		p_parentActor = myParentActor;
		superConnection.connectTo(myParentActor);
		myParentActor.f_connectToChild(this);
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660743197178</Id>
					<Name><![CDATA[f_doEnergyTransaction]]></Name>
					<X>790</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[transactionVolume_kWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[contractType]]></Name>
						<Type><![CDATA[OL_ContractType]]></Type>
					</Parameter>
					<Body><![CDATA[double transactionCostClient_eur;
double transactionCostNat_eur;
switch (contractType) {
	case ELECTRICITY_FIXED:
			transactionCostClient_eur = transactionVolume_kWh * p_fixedElectricityPrice_eurpkWh;
			transactionCostNat_eur = - transactionVolume_kWh * v_currentVariableElectricityPrice_eurpkWh;
			v_totalElectricitySoldToClients_kWh += max(0,transactionVolume_kWh);
			v_totalElectricityBoughtFromClients_kWh -= min(0,transactionVolume_kWh);
			v_currentNettElectricityVolume_kWh += transactionVolume_kWh;
			v_currentBalanceElectricityClients_eur += transactionCostClient_eur;
		break;
	case ELECTRICITY_VARIABLE:
			transactionCostClient_eur = transactionVolume_kWh * (p_variableElectricityPriceOverNational_eurpkWh + v_currentVariableElectricityPrice_eurpkWh);
			transactionCostNat_eur = - transactionVolume_kWh * v_currentVariableElectricityPrice_eurpkWh;
			v_currentBalanceElectricityClients_eur += transactionCostClient_eur;
		break;
	case HEAT_FIXED:
			transactionCostClient_eur = transactionVolume_kWh * p_fixedHeatPrice_eurpkWh;
			transactionCostNat_eur = - transactionVolume_kWh * 0;
			v_currentBalanceHeatClients_eur += transactionCostClient_eur;
		break;
	case METHANE_FIXED:
			transactionCostClient_eur = transactionVolume_kWh * p_fixedMethanePrice_eurpkWh;
			transactionCostNat_eur = - transactionVolume_kWh * 0;
			v_currentBalanceMethaneClients_eur += transactionCostClient_eur;
		break;
	case HYDROGEN_FIXED:
			transactionCostClient_eur = transactionVolume_kWh * p_fixedHydrogenPrice_eurpkWh;
			transactionCostNat_eur = - transactionVolume_kWh * 0;
			v_currentBalanceHydrogenClients_eur += transactionCostClient_eur;
		break;
	default:
		throw new IllegalStateException("Invalid contract type: " + contractType);
}
v_currentBalanceClients_eur += transactionCostClient_eur;
return transactionCostClient_eur;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660746864022</Id>
					<Name><![CDATA[f_getEnergyPrice]]></Name>
					<X>790</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[contractType]]></Name>
						<Type><![CDATA[OL_ContractType]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[feedIn]]></Name>
						<Type><![CDATA[boolean]]></Type>
					</Parameter>
					<Body><![CDATA[double energyPrice_eurpkWh;
if ( !feedIn ){
	switch (contractType) {
		case ELECTRICITY_FIXED:
			energyPrice_eurpkWh = p_fixedElectricityPrice_eurpkWh;
		break;
		case ELECTRICITY_VARIABLE:
			energyPrice_eurpkWh = (p_variableElectricityPriceOverNational_eurpkWh + v_currentVariableElectricityPrice_eurpkWh);
		break;
		case HEAT_FIXED:
			energyPrice_eurpkWh = p_fixedHeatPrice_eurpkWh;
		break;
		case METHANE_FIXED:
			energyPrice_eurpkWh = p_fixedMethanePrice_eurpkWh;
		break;
		case HYDROGEN_FIXED:
			energyPrice_eurpkWh = p_fixedHydrogenPrice_eurpkWh;
		break;
		default:
		throw new IllegalStateException("Invalid energy contract type: " + contractType);
	}
}
else {
	switch (contractType){
		case ELECTRICITY_FIXED:
			energyPrice_eurpkWh = p_fixedFeedinTariff_eurpkWh;
		break;
		case ELECTRICITY_VARIABLE:
			energyPrice_eurpkWh = (p_variableElectricityPriceOverNational_eurpkWh + v_currentVariableElectricityPrice_eurpkWh);
		break;
		default:
		throw new IllegalStateException("Invalid feed-in contract type: " + contractType);
	}
}

return energyPrice_eurpkWh;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660746926252</Id>
					<Name><![CDATA[f_updateEnergyPrice]]></Name>
					<X>790</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_currentVariableElectricityPrice_eurpkWh = main.nationalEnergyMarket.f_getNationalElectricityPrice_eurpMWh()/1000;
v_currentNettElectricityVolume_kWh = 0;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660806140354</Id>
					<Name><![CDATA[f_updateFinances]]></Name>
					<X>790</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_totalElectricityBoughtFromNat_kWh += max(0,v_currentNettElectricityVolume_kWh);
v_totalElectricitySoldToNat_kWh -= min(0,v_currentNettElectricityVolume_kWh);
v_currentBalanceNat_eur -= v_currentNettElectricityVolume_kWh * v_currentVariableElectricityPrice_eurpkWh;]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1660731377979</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736386946</Id>
					<Name><![CDATA[superConnection]]></Name>
					<Description><![CDATA[Link naar bovenliggende actor, bijv. een holon, of energySupplier. Gebruikt om lid te worden van een holon of aangesloten te zijn bij een energieleverancier.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>240</X><Y>-70</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736386948</Id>
					<Name><![CDATA[subConnections]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de holon)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>240</X><Y>-40</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660731790387</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731377983</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Line>
					<Id>1667918539063</Id>
					<Name><![CDATA[line4]]></Name>
					<X>770</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667918539066</Id>
					<Name><![CDATA[text4]]></Name>
					<X>820</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Functions]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667918539068</Id>
					<Name><![CDATA[line5]]></Name>
					<X>760</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>40</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667918539070</Id>
					<Name><![CDATA[text6]]></Name>
					<X>740</X><Y>190</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Occuring]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667918539072</Id>
					<Name><![CDATA[line6]]></Name>
					<X>760</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>80</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667918539074</Id>
					<Name><![CDATA[text5]]></Name>
					<X>740</X><Y>90</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Init]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667919493893</Id>
					<Name><![CDATA[line]]></Name>
					<X>40</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919493896</Id>
					<Name><![CDATA[text]]></Name>
					<X>70</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[ID & connections]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667919510566</Id>
					<Name><![CDATA[line1]]></Name>
					<X>250</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>240</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919510568</Id>
					<Name><![CDATA[text1]]></Name>
					<X>340</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Fixed tariffs]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731380915</Id>
			<Name><![CDATA[GridOperator]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731380913</Id>
				<Name><![CDATA[1660731380913]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731380911</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731380914</CurrentLevel>
			<ConnectionsId>1660731380910</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1665060534142</Id>
					<Name><![CDATA[v_congestionAllowanceLevel_kW]]></Name>
					<X>60</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665060582840</Id>
					<Name><![CDATA[v_congestionPriceConsumption_eurpkWh]]></Name>
					<Description><![CDATA[Euro per kW]]></Description>
					<X>60</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665508504346</Id>
					<Name><![CDATA[v_congestionThreshold_fr]]></Name>
					<X>60</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665508939525</Id>
					<Name><![CDATA[b_congestionPricingConsumption]]></Name>
					<X>60</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665508951785</Id>
					<Name><![CDATA[b_congestionPricingProduction]]></Name>
					<X>60</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666560746828</Id>
					<Name><![CDATA[v_congestionPriceProduction_eurpkWh]]></Name>
					<Description><![CDATA[Euro per kW]]></Description>
					<X>60</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736411315</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Unique identifier of this actor in String format. Designated in Config-excel and used to link actors to netConnections.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736411313</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736411318</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736411316</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736411321</Id>
					<Name><![CDATA[p_parentActorID]]></Name>
					<Description><![CDATA[Unique actor identifier in String format of a designated parent actor. This may be designated in Config-excel and is used to create an agent link with a higher lying agent (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736411319</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736411324</Id>
					<Name><![CDATA[p_parentActor]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a holon or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[ConnectionOwner]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736411322</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1665076694603</Id>
					<Name><![CDATA[c_electricityGridNodes]]></Name>
					<X>60</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666594012871</Id>
					<Name><![CDATA[c_congestedGNProduction]]></Name>
					<X>80</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666594046997</Id>
					<Name><![CDATA[c_congestedGNConsumption]]></Name>
					<X>80</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736411309</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>700</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[GridNode]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[energyType]]></Name>
						<Type><![CDATA[OL_EnergyCarrierType]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo( ConnectingChildNode );
if (energyType == OL_EnergyCarrierType.ELECTRICITY) {
	c_electricityGridNodes.add( ConnectingChildNode );
}
else {
	traceln( "f_connectToChild vanuit GridOperator voegt een type Node toe wat geen ELECTRICITY gridNOde is");
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736411312</Id>
					<Name><![CDATA[f_connectToParentActor]]></Name>
					<Description><![CDATA[Creates an agentLink in superConnection if a parentActorID is designated in the config-excel. Called from f_configureBackBone() in main for profiling reasons, so no parameters are given.

@param: none
@return: none
@since: Sprint 6
@author: HOUJ]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>610</X><Y>-30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( p_parentActorID != null ) {
	ConnectionOwner myParentActor = findFirst(main.pop_connectionOwners, p->p.p_actorID.equals(p_parentActorID)) ;
	if( myParentActor instanceof ConnectionOwner) {
		p_parentActor = myParentActor;
		superConnection.connectTo(myParentActor);
		myParentActor.f_connectToChild(this);
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664465199508</Id>
					<Name><![CDATA[f_updateCongestionTariff]]></Name>
					<X>700</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for( GridNode n : c_electricityGridNodes ){
	double currentLoad_kW = n.v_currentLoadElectricityLowPassed_kW;
	if ( abs(currentLoad_kW) > v_congestionThreshold_fr * n.p_capacity_kW  ){
		n.v_congested = true;
		if (currentLoad_kW > 0) {
			n.v_congestionMode = "Overconsumption";
			double currentCongestionTariff = (abs(currentLoad_kW) / n.p_capacity_kW - v_congestionThreshold_fr ) / ( 1 - v_congestionThreshold_fr) * v_congestionPriceConsumption_eurpkWh;
			if( b_congestionPricingConsumption ) {
				n.f_setConsumptionCongestionTariff(currentCongestionTariff, v_congestionAllowanceLevel_kW);
				n.f_setProductionCongestionTariff(currentCongestionTariff, v_congestionAllowanceLevel_kW); 
			}
		} else {
			n.v_congestionMode = "Overproduction";
			double currentCongestionTariff = (abs(currentLoad_kW) / n.p_capacity_kW - v_congestionThreshold_fr ) / ( 1 - v_congestionThreshold_fr) * v_congestionPriceProduction_eurpkWh;
			if( b_congestionPricingProduction ) {
				n.f_setConsumptionCongestionTariff(currentCongestionTariff, v_congestionAllowanceLevel_kW);
				n.f_setProductionCongestionTariff(currentCongestionTariff, v_congestionAllowanceLevel_kW); 
			}
		}
		if (!c_congestedGNConsumption.contains(n)){ c_congestedGNConsumption.add(n); }
	}
	else {
		if ( n.v_congested ){
			n.f_resetCongestionTariffs();
			n.v_congested = false;
			n.v_congestionMode = "None";
			if (c_congestedGNProduction.contains(n)){ c_congestedGNProduction.remove(c_congestedGNProduction.indexOf(n));}
			if (c_congestedGNConsumption.contains(n)){ c_congestedGNConsumption.remove(c_congestedGNConsumption.indexOf(n));}
		}
	}
}

]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1660731380910</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736398362</Id>
					<Name><![CDATA[superConnection]]></Name>
					<Description><![CDATA[Link naar bovenliggende actor, bijv. een holon, of energySupplier. Gebruikt om lid te worden van een holon of aangesloten te zijn bij een energieleverancier.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>280</X><Y>-80</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736398364</Id>
					<Name><![CDATA[subConnections]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de holon)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>280</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660731855349</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731380914</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Line>
					<Id>1667919467873</Id>
					<Name><![CDATA[line]]></Name>
					<X>20</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919467875</Id>
					<Name><![CDATA[text]]></Name>
					<X>50</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[ID & connections]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731384415</Id>
			<Name><![CDATA[NationalEnergyMarket]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731384413</Id>
				<Name><![CDATA[1660731384413]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731384411</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731384414</CurrentLevel>
			<ConnectionsId>1660731384410</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1660752725660</Id>
					<Name><![CDATA[v_currentVariableElectricityPrice_eurpMWh]]></Name>
					<X>50</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660738813066</Id>
					<Name><![CDATA[f_getNationalElectricityPrice_eurpMWh]]></Name>
					<X>50</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[return v_currentVariableElectricityPrice_eurpMWh;]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660752725657</Id>
					<Name><![CDATA[f_updateEnergyPrice]]></Name>
					<X>50</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if( main.v_timeStepsElapsed % (1 / main.p_timeStep_h) == 0){
	v_currentVariableElectricityPrice_eurpMWh = tf_dayAheadElectricityPricing_eurpMWh( time(HOUR) );
}]]></Body>
				</Function>
			</Functions>
			<TableFunctions>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1660752214584</Id>
					<Name><![CDATA[tf_dayAheadElectricityPricing_eurpMWh]]></Name>
					<X>50</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[base]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[base]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[day_ahead_price_eur_mwh]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
			</TableFunctions>
			<AgentLinks>
				<AgentLink>
					<Id>1660731384410</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660731880833</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731384414</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1663772408667</Id>
			<Name><![CDATA[GCHouse]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_connectToChild(Agent ConnectingParentNode){
	f_connectToChild_overwrite(ConnectingParentNode);
}

/*@Override
public void f_operateFixedConsumptionAssets(){
	f_operateFixedConsumptionAssets_overwrite();
}*/

@Override
public void f_operateFlexAssets(){
	f_operateFlexAssets_overwrite();
}

@Override
public void f_manageHeatingAssets(){
	f_manageHeatingAssets_overwrite();
}]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_agentID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ThermalStorageAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyAssetList]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoStart_HR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoEnd_HR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1663772408665</Id>
				<Name><![CDATA[1663772408665]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1663772408663</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1663772408666</CurrentLevel>
			<ConnectionsId>1663772408662</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1666622647972</Id>
					<Name><![CDATA[v_currentHouseTemp_degC]]></Name>
					<X>920</X><Y>450</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1665487269767</Id>
					<Name><![CDATA[p_isolationLabel]]></Name>
					<X>250</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionIsolationLabel]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1665487269765</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1666626554233</Id>
					<Name><![CDATA[p_DHWAsset]]></Name>
					<X>250</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[EnergyAsset]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1666626554231</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664441944336</Id>
					<Name><![CDATA[f_operateFixedConsumptionAssets_overwrite]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>800</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(EnergyAsset ea : c_consumptionAssets) {
	if( ea.p_energyAssetType == OL_EnergyAssetType.ELECTRICITY_CONSUMPTION_PROFILE ) {
		ea.f_updateElectricityFlows( main.v_currentHouseHoldOtherElectricityDemand_fr );
	} else if( ea.p_energyAssetType == OL_EnergyAssetType.HOT_WATER_CONSUMPTION ){
		ea.f_updateAllFlows( main.v_currentHouseHoldHotWaterDemand_fr );
		//traceln("DHW consumption: " + ea.v_currentConsumptionHeat_kW + "kWt");
		//traceln("DHW production: " + ea.v_currentProductionHeat_kW + "kWt");
	} else {
		traceln("household has other consumption assets than 'other electricity consumption'");
		ea.v_powerFraction_fr = 0; // To disable other asset
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664441996771</Id>
					<Name><![CDATA[f_manageHeatingAssets_overwrite]]></Name>
					<X>800</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double currentDHWdemand_kW = p_DHWAsset.v_currentConsumptionHeat_kW;
if ( p_ThermalStorageAsset != null ) {
	double tempSetpoint_degC = 20; // This line doesn't have to be evaluated every timestep!
	double houseTemp = p_ThermalStorageAsset.p_energyAssetInstance.getCurrentTemperature();
	v_currentHouseTemp_degC = houseTemp;
	p_ThermalStorageAsset.p_energyAssetInstance.updateAmbientTemperature(main.v_currentAmbientTemperature_degC);

	if ( p_secondaryHeatingAsset == null ) { // Just one heating asset
		if ( p_primaryHeatingAsset== null )  {
			traceln("No heating assets for house " + p_agentID);
		} else {
			if ( p_primaryHeatingAsset.p_energyAssetInstance instanceof J_EAConversionGasBurner || p_primaryHeatingAsset.p_energyAssetInstance instanceof J_EAConversionHeatDeliverySet) { // when there is only a gas burner or DH set
			//	traceln("f_manageHeatingAssets houseTemp = " + houseTemp);
				if (houseTemp < tempSetpoint_degC) {
					double powerDemand_kW = currentDHWdemand_kW + (tempSetpoint_degC - houseTemp) * ((J_EAStorageHeat)p_ThermalStorageAsset.p_energyAssetInstance).getHeatCapacity_JpK() / 3.6e6;
			//		traceln("f_manageHeating Assets houseTemp = " + houseTemp + ", powerDemand_kW = "+powerDemand_kW);
					p_primaryHeatingAsset.v_powerFraction_fr = min(1,powerDemand_kW / p_primaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW());
					p_ThermalStorageAsset.v_powerFraction_fr = (p_primaryHeatingAsset.v_powerFraction_fr * p_primaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW() - currentDHWdemand_kW ) / p_ThermalStorageAsset.p_energyAssetInstance.getHeatCapacity_kW();
				}
				else { // Just supply DHW demand with gas burner
					//p_primaryHeatingAsset.v_powerFraction_fr = 0;
					p_primaryHeatingAsset.v_powerFraction_fr = currentDHWdemand_kW / p_primaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW();
					p_ThermalStorageAsset.v_powerFraction_fr = 0;
				}
			} else {
				traceln("House " + p_agentID + " has a single unsupported heating asset!");
			}
		}
	} else { // Two heating assets
		if ( p_primaryHeatingAsset.p_energyAssetInstance instanceof J_EAConversionHeatPump & p_secondaryHeatingAsset.p_energyAssetInstance instanceof J_EAConversionGasBurner) { // Heatpump and gasburner, switch based on heatpump COP)
			if (houseTemp < tempSetpoint_degC) {
				((J_EAConversionHeatPump)p_primaryHeatingAsset.p_energyAssetInstance).updateAmbientTemp(main.v_currentAmbientTemperature_degC); // update heatpump temp levels!
				double HP_COP = ((J_EAConversionHeatPump)p_primaryHeatingAsset.p_energyAssetInstance).getCOP();
				double COP_tres = 3.5; // TODO: Make data agnostic! Also, this line doesn't have to be evaluated every timestep.
				if ( HP_COP < COP_tres ) { // switch to gasburner when HP COP is below treshold
					//traceln("Hybrid HP: Switching to gas burner");
					double powerDemand_kW = currentDHWdemand_kW + (tempSetpoint_degC - houseTemp) * ((J_EAStorageHeat)p_ThermalStorageAsset.p_energyAssetInstance).getHeatCapacity_JpK() / 3.6e6;
			//		traceln("f_manageHeating Assets houseTemp = " + houseTemp + ", powerDemand_kW = "+powerDemand_kW);
					p_primaryHeatingAsset.v_powerFraction_fr = 0;
					p_secondaryHeatingAsset.v_powerFraction_fr = min(1,powerDemand_kW / p_secondaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW());
					p_ThermalStorageAsset.v_powerFraction_fr = (p_secondaryHeatingAsset.v_powerFraction_fr * p_secondaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW() - currentDHWdemand_kW ) / p_ThermalStorageAsset.p_energyAssetInstance.getHeatCapacity_kW();
				} else { // heatpump when COP is above treshold
					//traceln("Hybrid HP: Using heatpump with COP " + HP_COP);
					double powerDemand_kW = (tempSetpoint_degC - houseTemp) * ((J_EAStorageHeat)p_ThermalStorageAsset.p_energyAssetInstance).getHeatCapacity_JpK() / 3.6e6;
					p_primaryHeatingAsset.v_powerFraction_fr = min(1,powerDemand_kW / p_primaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW());
					p_secondaryHeatingAsset.v_powerFraction_fr = min(1,currentDHWdemand_kW / p_secondaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW());
					p_ThermalStorageAsset.v_powerFraction_fr = powerDemand_kW / p_ThermalStorageAsset.p_energyAssetInstance.getHeatCapacity_kW();
				}
		//		traceln("f_manageHeating Assets houseTemp = " + houseTemp + ", powerDemand_kW = "+powerDemand_kW);
			} else { // Just supply DHW demand with gas burner
				p_secondaryHeatingAsset.v_powerFraction_fr = currentDHWdemand_kW / p_secondaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW();
				p_primaryHeatingAsset.v_powerFraction_fr = 0;
				p_ThermalStorageAsset.v_powerFraction_fr = 0;
			}
		} else {
			traceln("**** EXCEPTION ****: Unsupported combination of heatings systems in house " + p_agentID);
			p_primaryHeatingAsset.v_powerFraction_fr = 0;
			p_secondaryHeatingAsset.v_powerFraction_fr = 0;
			p_ThermalStorageAsset.v_powerFraction_fr = 0;
		}
	p_secondaryHeatingAsset.f_updateAllFlows(p_secondaryHeatingAsset.v_powerFraction_fr);
	}
} else { // No house thermal model! Still supply DHW demand...
	p_primaryHeatingAsset.v_powerFraction_fr = currentDHWdemand_kW / p_primaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW();
	traceln("House " + p_agentID + " has no thermal storage asset!");
}

p_primaryHeatingAsset.f_updateAllFlows(p_primaryHeatingAsset.v_powerFraction_fr);
p_ThermalStorageAsset.f_updateAllFlows(p_ThermalStorageAsset.v_powerFraction_fr);
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664963959146</Id>
					<Name><![CDATA[f_operateFlexAssets_overwrite]]></Name>
					<X>800</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Determine EV charging
//f_manageCharging();

// Determine house heating
//f_manageHeatingAssets();
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665498948452</Id>
					<Name><![CDATA[f_connectToChild_overwrite]]></Name>
					<X>781</X><Y>133</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingParentNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingParentNode);
EnergyAsset EA = (EnergyAsset) ConnectingParentNode;
c_energyAssets.add(EA);

if (EA.p_energyAssetInstance instanceof J_EAConsumption) {
	c_consumptionAssets.add(EA);
	if( EA.p_energyAssetType == OL_EnergyAssetType.HOT_WATER_CONSUMPTION ){
	 	p_DHWAsset = EA;
 	}
} else if (EA.p_energyAssetInstance instanceof J_EAProduction ) {
	c_productionAssets.add(EA);
} else if (EA.p_energyAssetInstance instanceof J_EAStorage ) {
	c_storageAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAStorageHeat) {
		p_ThermalStorageAsset = EA;
	} else if (EA.p_energyAssetInstance instanceof J_EAEV) {
		c_vehicleAssets.add( EA );
		c_vehicleAssets.get( v_vehicleIndex ).v_powerFraction_fr = 1;
		MobilityTracker m = main.add_mobilityTrackers();
		c_mobilityTrackers.add( m );
		m.p_vehicleIndex = v_vehicleIndex;
		m.p_gridConnection = this;
		m.p_mobilityPatternType = PRIVATE_VEHICLE;
		((J_EAEV)m.p_vehicleInstance).setMobilityTracker( m );
		m.f_getData();
		v_vehicleIndex ++;
	}
} else if (EA.p_energyAssetInstance instanceof J_EAConversion) {
	c_conversionAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAConversionGasBurner || EA.p_energyAssetInstance instanceof J_EAConversionHeatPump || EA.p_energyAssetInstance instanceof J_EAConversionHeatDeliverySet ) {
		if (p_primaryHeatingAsset == null) {
			p_primaryHeatingAsset = EA;
		} else if (p_secondaryHeatingAsset == null) {
			p_secondaryHeatingAsset = EA;
		} else {
			traceln("House " + p_agentID + " already has two heating systems!");
		}
		//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
	}
} else {
	traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingParentNode.getId() + " is of unknown type or null! ");
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669203453155</Id>
					<Name><![CDATA[f_createPresetStorageHeat]]></Name>
					<X>780</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[switch(p_isolationLabel) {
	case A:
		main.f_addPresetStorageAsset( this, OL_EAPresetStorageAssets.House_heatmodel_A);
	break;
	case B:
		main.f_addPresetStorageAsset( this, OL_EAPresetStorageAssets.House_heatmodel_B);
	break;
	case C:
		main.f_addPresetStorageAsset( this, OL_EAPresetStorageAssets.House_heatmodel_C);
	break;
	case D:
		main.f_addPresetStorageAsset( this, OL_EAPresetStorageAssets.House_heatmodel_D);
	break;
	case E:
		main.f_addPresetStorageAsset( this, OL_EAPresetStorageAssets.House_heatmodel_E);
	break;
	case F:
		main.f_addPresetStorageAsset( this, OL_EAPresetStorageAssets.House_heatmodel_F);
	break;
	case G:
		main.f_addPresetStorageAsset( this, OL_EAPresetStorageAssets.House_heatmodel_G);
	break;
	default:
		traceln("f_addDefaultEnergyAssets: house without valid label");
	break;
}
]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1663772408662</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1663772679600</Id>
					<Name><![CDATA[main]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1663772408666</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1663773690598</Id>
			<Name><![CDATA[GCBuilding]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_operateFlexAssets(){
	f_operateFlexAssets_overwrite();
}

/*@Override
public void f_operateFixedConsumptionAssets(){
	f_operateFixedConsumptionAssets_overwrite();
}*/

/*@Override
public void f_batteryManagementBalance( double batterySOC ){
	f_batteryManagementBalance_overwrite( batterySOC );
}

@Override
public void f_batteryManagementPrice( double batterySOC ){
	f_batteryManagementPrice_overwrite( batterySOC );
}*/]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_agentID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ThermalStorageAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyAssetList]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoStart_HR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoEnd_HR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1663773690596</Id>
				<Name><![CDATA[1663773690596]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1663773690594</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1663773690597</CurrentLevel>
			<ConnectionsId>1663773690593</ConnectionsId>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1663773964560</Id>
					<Name><![CDATA[f_operateFlexAssets_overwrite]]></Name>
					<X>800</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// ICE vehicle tanking
f_manageTanking();
// Determine house heating
f_manageHeatingAssets();

for( EnergyAsset EA : c_conversionAssets ){
	v_currentPowerElectricity_kW += EA.v_currentConsumptionElectricity_kW - EA.v_currentProductionElectricity_kW;
	v_conversionPower_kW += EA.v_currentConsumptionElectricity_kW - EA.v_currentProductionElectricity_kW; // Only for monitoring/plots, not 'functional'
	v_currentPowerMethane_kW += EA.v_currentConsumptionMethane_kW - EA.v_currentProductionMethane_kW;
	v_currentPowerHydrogen_kW += EA.v_currentConsumptionHydrogen_kW - EA.v_currentProductionHydrogen_kW;
	v_currentPowerHeat_kW += EA.v_currentConsumptionHeat_kW - EA.v_currentProductionHeat_kW;
	v_currentPowerDiesel_kW += EA.v_currentConsumptionDiesel_kW; // Because f_updateAllFlows is not called for dieseltrucks, this value always remains zero!
	//traceln("Dieselconsumption in f_operateFlex " + EA.v_currentConsumptionDiesel_kW); // Never 'activates!'
}

// Determine EV charging
f_manageCharging();
v_currentPowerElectricity_kW += v_chargingPower_kW; //vehicles that charge update v_chargingPower_kW in the charging functions

// Operate battery
if (p_batteryAsset != null){
	v_batterySOC_fr = p_batteryAsset.p_energyAssetInstance.getCurrentStateOfCharge();
	if( p_batteryOperationMode == OL_BatteryOperationMode.BALANCE) {
		f_batteryManagementBalance( v_batterySOC_fr );
	}
	else {
		f_batteryManagementPrice( v_batterySOC_fr );
	}
	p_batteryAsset.f_updateElectricityFlows(p_batteryAsset.v_powerFraction_fr);
	v_currentPowerElectricity_kW += p_batteryAsset.v_currentConsumptionElectricity_kW - p_batteryAsset.v_currentProductionElectricity_kW;
	v_batteryPower_kW += p_batteryAsset.v_currentConsumptionElectricity_kW - p_batteryAsset.v_currentProductionElectricity_kW;
}
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668598099461</Id>
					<Name><![CDATA[f_manageCharging]]></Name>
					<X>820</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[switch (p_chargingAttitudeVehicles) {
	case SIMPLE:
		f_simpleCharging();
	break;
	case MAX_SPREAD:
		f_maxSpreadCharging();
	break;
	case MAX_POWER:
		double availableCapacityFromBatteries = p_batteryAsset == null ? 0 : ((J_EAStorageElectric)p_batteryAsset.p_energyAssetInstance).getCapacityAvailable_kW(); 
		double availableChargingCapacity = v_allowedCapacity_kW + availableCapacityFromBatteries - v_currentPowerElectricity_kW;
		f_maxPowerCharging( max(0, availableChargingCapacity));
	break;
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668597702976</Id>
					<Name><![CDATA[f_simpleCharging]]></Name>
					<Description><![CDATA[Charging when arriving home, not taking grid limits into account]]></Description>
					<X>850</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for ( EnergyAsset EA : c_vehiclesAvailableForCharging ){
	J_EAEV vehicle = (J_EAEV)EA.p_energyAssetInstance;

	if( vehicle.getCurrentStateOfCharge() < 1) {
		v_chargingPower_kW += EA.f_updateElectricityFlows( 1 );
	}
	else {
		EA.f_updateElectricityFlows( 0 );
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668597702978</Id>
					<Name><![CDATA[f_maxSpreadCharging]]></Name>
					<X>850</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[ArrayList<EnergyAsset> copiedVehicleList = new ArrayList<EnergyAsset>(c_vehiclesAvailableForCharging);
int countDeletedItems = 0;

for ( int i = 0; i < copiedVehicleList.size(); i++ ){
	EnergyAsset EA = copiedVehicleList.get(i);
	J_EAEV ev = (J_EAEV)EA.p_energyAssetInstance;
	if(!ev.getAvailability() ){
		EA.f_updateElectricityFlows( 0 );
		c_vehiclesAvailableForCharging.remove( i - countDeletedItems );
		countDeletedItems ++;
	}
	if( ev.getCurrentStateOfCharge() < 1 ) {
		v_chargingPower_kW += EA.f_updateElectricityFlows( ev.getMaxSpreadChargingRatio() );
		//traceln( "charging ratio " + ev.getMaxSpreadChargingRatio());
		//traceln( "charging speed " + ev.getElectricCapacity_kW() * ev.getMaxSpreadChargingRatio());
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668597702980</Id>
					<Name><![CDATA[f_maxPowerCharging]]></Name>
					<Description><![CDATA[Charge at max power taking grid constaints into account]]></Description>
					<X>850</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[availableCapacityForCharging]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[double totalElectricVehiclesCharging = sum( c_vehiclesAvailableForCharging, x -> ((J_EAEV)x.p_energyAssetInstance).vehicleScaling);
double maxChargingSpeed = availableCapacityForCharging / totalElectricVehiclesCharging;
ArrayList<EnergyAsset> copiedVehicleList = new ArrayList<EnergyAsset>(c_vehiclesAvailableForCharging);
int countDeletedItems = 0;
for ( int i = 0; i < copiedVehicleList.size(); i++ ){
	EnergyAsset EA = copiedVehicleList.get(i);
	J_EAEV ev = (J_EAEV)EA.p_energyAssetInstance;
	if( !ev.getAvailability() || ev.getCurrentStateOfCharge() == 1 ){
		EA.f_updateElectricityFlows( 0 );
		c_vehiclesAvailableForCharging.remove( i - countDeletedItems );
		countDeletedItems ++;
	}
	else {
		if (ev.vehicleScaling != 0) {
			double chargingSpeed = min (maxChargingSpeed, ev.capacityElectric_kW / ev.vehicleScaling );
			double ratio = chargingSpeed / (ev.capacityElectric_kW / ev.vehicleScaling);
			if ( ev.getChargingTimeToFull_MIN() > ev.getMobilityTracker().nextActivityStartTimer.getRest(MINUTE) - main.p_timeStep_h * 60 ){
				ratio = 1;
			}
			v_chargingPower_kW += EA.f_updateElectricityFlows( ratio );
		}
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668598099477</Id>
					<Name><![CDATA[f_chargeOnPrice]]></Name>
					<X>850</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668773071914</Id>
					<Name><![CDATA[f_operateFixedConsumptionAssets_overwrite]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>800</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(EnergyAsset e : c_consumptionAssets) {
	if( e.p_energyAssetType == OL_EnergyAssetType.ELECTRICITY_CONSUMPTION_PROFILE ) {
		e.f_updateElectricityFlows( main.v_currentBuildingOtherElectricityDemand_fr );
	} else if( e.p_defaultEnergyAssetPresetName.equals("Logistics_fleet_hgv_E") ) {
		e.f_updateElectricityFlows( main.v_currentLogisticsFleetEDemand_fr );
	} else {
		traceln("GC -> f_operateFixedConsumptionasset -> building has unidentified fixed consumption asset");
		e.v_powerFraction_fr = 0;
	}
}]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1663773690593</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1663773721466</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1663773690597</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1663773810345</Id>
			<Name><![CDATA[GCDistrictHeating]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_operateFlexAssets(){
	f_operateAssetsDistrictHeating();
}

@Override
public void f_connectToChild(Agent ConnectingChildNode){
	f_connectToChildDistrictHeating(ConnectingChildNode);
}]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_agentID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ThermalStorageAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyAssetList]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoStart_HR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoEnd_HR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1663773810343</Id>
				<Name><![CDATA[1663773810343]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1663773810341</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1663773810344</CurrentLevel>
			<ConnectionsId>1663773810340</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1664534447977</Id>
					<Name><![CDATA[b_incentiveNationalPrice]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>660</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664534582189</Id>
					<Name><![CDATA[b_incentiveGridNodePrice]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>660</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664534594839</Id>
					<Name><![CDATA[b_incentiveHolonPrice]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>660</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666196152392</Id>
					<Name><![CDATA[v_bufferTemp_degC]]></Name>
					<X>660</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1663773953770</Id>
					<Name><![CDATA[f_operateAssetsDistrictHeating]]></Name>
					<X>660</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// District heating system, heating power based on temperature of buffer of heating system. (big or small) Heat transfer from DH_GridConnection to heat NetNode is based on temperature difference between heating-buffer and water in heating network

double tempSetpoint_degC = p_ThermalStorageAsset.p_energyAssetInstance.getSetTemperature_degC();
double minBufferTemp_degC = 50;
double maxTempBuffer_degC = 100;
double storageTemp_degC = p_ThermalStorageAsset.p_energyAssetInstance.getCurrentTemperature();
v_bufferTemp_degC = storageTemp_degC;
double heatTransferToNetworkCoefficient_kWpK = 10;
double heatTransferToNetwork_kW = max(min(storageTemp_degC,tempSetpoint_degC)-p_parentNodeHeat.p_transportBuffer.getCurrentTemperature(), 0) * heatTransferToNetworkCoefficient_kWpK;

double electricitySurplussHolon_kW = 0;

if (p_ownerActor instanceof EnergyHolon){
	electricitySurplussHolon_kW = ((EnergyHolon)p_ownerActor).v_electricitySurplus_kW + v_previousPowerElectricity_kW; // From last timestep! So compensate for own electric power
	//traceln("DH function! Electricity surpluss in HOLON: " + electricitySurplussHolon_kW + ", own power " + v_previousPowerElectricity_kW,1 );
}


if ( p_primaryHeatingAsset.p_energyAssetInstance instanceof J_EAConversionGasBurner & p_secondaryHeatingAsset == null) { // Only gas burner, use simple thermostat controller
	if (storageTemp_degC < tempSetpoint_degC) {
		p_primaryHeatingAsset.v_powerFraction_fr = 1;
	} else {
		p_primaryHeatingAsset.v_powerFraction_fr = 0;
	}
	double TotalHeatingPower_kWt = p_primaryHeatingAsset.v_powerFraction_fr * p_primaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW();
	p_ThermalStorageAsset.v_powerFraction_fr = (TotalHeatingPower_kWt - heatTransferToNetwork_kW) / p_ThermalStorageAsset.p_energyAssetInstance.getHeatCapacity_kW();
	p_primaryHeatingAsset.f_updateAllFlows(p_primaryHeatingAsset.v_powerFraction_fr);
	p_ThermalStorageAsset.f_updateAllFlows(p_ThermalStorageAsset.v_powerFraction_fr);
} else if ( p_primaryHeatingAsset.p_energyAssetInstance instanceof J_EAConversionHeatPump & p_secondaryHeatingAsset.p_energyAssetInstance instanceof J_EAConversionBoiler) { // Heatpump and eboiler, use energysurpluss
	//v_bufferTemp_degC = storageTemp_degC;
	double maxHeatPumpPower_kW = p_primaryHeatingAsset.p_energyAssetInstance.getElectricCapacity_kW();
	((J_EAConversionHeatPump)p_primaryHeatingAsset.p_energyAssetInstance).updateParameters(main.p_undergroundTemperature_degC, storageTemp_degC); // update heatpump temp levels!

	// Energy manager logic for heatpump, gas heater and boiler
	if (storageTemp_degC < minBufferTemp_degC) { // If PTES temperature drops below minimum, start heating with HP and gas burner
		//traceln("Peak heating, buffertemp " + storageTemp_degC);
		p_primaryHeatingAsset.v_powerFraction_fr = 1; // Turn on heatpump 100%
		p_secondaryHeatingAsset.v_powerFraction_fr = 1; // Turn on gas burner 100%
		//double boilerPower_kW = max(0,electricitySurplussHolon_kW - maxHeatPumpPower_kW); // If there is surpluss power in holon, use for heating. Probably not in this mode...
		//p_secondaryHeatingAsset.v_powerFraction_fr = boilerPower_kW / p_secondaryHeatingAsset.p_energyAssetInstance.getElectricCapacity_kW();
	} else if (storageTemp_degC < tempSetpoint_degC && storageTemp_degC >= minBufferTemp_degC) { // If PTES temperature drops below heating treshold, gradually start heating with HP
		//traceln("normal heating, buffertemp " + storageTemp_degC);
		//p_backupHeatingAsset.v_powerFraction_fr = 0; // gas heater disabled
		p_primaryHeatingAsset.v_powerFraction_fr = max(0,min(1,(tempSetpoint_degC - storageTemp_degC)/(tempSetpoint_degC-minBufferTemp_degC) ));
		double heatPumpPower_kW = maxHeatPumpPower_kW * p_primaryHeatingAsset.v_powerFraction_fr;
		double boilerPower_kW = max(0,electricitySurplussHolon_kW - heatPumpPower_kW); // If there is surpluss power in holon, use for heating.
		p_secondaryHeatingAsset.v_powerFraction_fr = boilerPower_kW / p_secondaryHeatingAsset.p_energyAssetInstance.getElectricCapacity_kW();
		//traceln("BoilerPower " + boilerPower_kW + ", powerFraction " + p_secondaryHeatingAsset.v_powerFraction_fr );
	} else if ( electricitySurplussHolon_kW > 0 & storageTemp_degC < maxTempBuffer_degC) { // Overvloed aan stroom in de wijk, zet het in om de PTES op te warmen
		//traceln("opportunity heating, buffertemp " + storageTemp_degC);
		p_primaryHeatingAsset.v_powerFraction_fr = min(1,max(0,electricitySurplussHolon_kW)) / maxHeatPumpPower_kW;
		double heatPumpPower_kW = maxHeatPumpPower_kW * p_primaryHeatingAsset.v_powerFraction_fr;
		double boilerPower_kW = max(0,electricitySurplussHolon_kW - heatPumpPower_kW); // If there is surpluss power in holon, use for heating.
		p_secondaryHeatingAsset.v_powerFraction_fr = min(1,boilerPower_kW / p_secondaryHeatingAsset.p_energyAssetInstance.getElectricCapacity_kW());
	} else { // Anders verwarming uit
		//traceln("No heating, buffertemp " + storageTemp_degC);
		p_primaryHeatingAsset.v_powerFraction_fr = 0;
		p_secondaryHeatingAsset.v_powerFraction_fr = 0;
		//p_backupHeatingAsset.v_powerFraction_fr = 0;
	}
	double TotalHeatingPower_kWt = p_primaryHeatingAsset.v_powerFraction_fr * p_primaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW() +
		p_secondaryHeatingAsset.v_powerFraction_fr * p_secondaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW() ;// + p_backupHeatingAsset.v_powerFraction_fr * p_backupHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW();

	//traceln("Heatpump heating power: " + p_primaryHeatingAsset.v_powerFraction_fr * p_primaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW() + " kW, boiler heating power: " + p_secondaryHeatingAsset.v_powerFraction_fr * p_secondaryHeatingAsset.p_energyAssetInstance.getHeatCapacity_kW() + " kW, total heating power: " + TotalHeatingPower_kWt + " kW");
	//traceln("Total thermal heating power " + TotalHeatingPower_kWt + "primary power fraction: " + p_primaryHeatingAsset.v_powerFraction_fr
	//	+ " secondary power fraction: " + p_secondaryHeatingAsset.v_powerFraction_fr
	//	+ " backup power fraction: " + p_backupHeatingAsset.v_powerFraction_fr );
	p_ThermalStorageAsset.v_powerFraction_fr = (TotalHeatingPower_kWt - heatTransferToNetwork_kW) / p_ThermalStorageAsset.p_energyAssetInstance.getHeatCapacity_kW();

	p_primaryHeatingAsset.f_updateAllFlows(p_primaryHeatingAsset.v_powerFraction_fr);
	p_secondaryHeatingAsset.f_updateAllFlows(p_secondaryHeatingAsset.v_powerFraction_fr);
	p_ThermalStorageAsset.f_updateAllFlows(p_ThermalStorageAsset.v_powerFraction_fr);
	//traceln("GCDistrictHeating f_operateAssetsDistrictHeating debug: heatTransferToNetwork_kW = "+heatTransferToNetwork_kW );

}
//traceln("District heating " + p_parentNodeHeatID + " storage temperature " + storageTemp_degC + " degC" + ", district heating network temperature " + p_parentNodeHeat.p_transportBuffer.getCurrentTemperature() + " deg C" );
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666266296956</Id>
					<Name><![CDATA[f_connectToChildDistrictHeating]]></Name>
					<X>250</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingChildNode);
EnergyAsset EA = (EnergyAsset) ConnectingChildNode;
c_energyAssets.add(EA);

if (EA.p_energyAssetInstance instanceof J_EAConsumption) {
	c_consumptionAssets.add(EA);
} else if (EA.p_energyAssetInstance instanceof J_EAProduction ) {
	c_productionAssets.add(EA);
} else if (EA.p_energyAssetInstance instanceof J_EAStorage ) {
	c_storageAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAStorageHeat) {
		p_ThermalStorageAsset = EA;
	}
} else if (EA.p_energyAssetInstance instanceof J_EAConversion) {
	c_conversionAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAConversionGasBurner || EA.p_energyAssetInstance instanceof J_EAConversionHeatPump || EA.p_energyAssetInstance instanceof J_EAConversionHeatDeliverySet || EA.p_energyAssetInstance instanceof J_EAConversionBoiler ) {
		if (p_primaryHeatingAsset == null) {
			p_primaryHeatingAsset = EA;
		} else if (p_secondaryHeatingAsset == null) {
			p_secondaryHeatingAsset = EA;
		} else {
			traceln("District Heating gridconnection already has two heating systems!");
		}
		//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
	}
} else {
	traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingChildNode.getId() + " is of unknown type or null! ");
}


/*
// create a local list of energyAssets connected to its netConnection Agent for easy reference
List<EnergyAsset> connectedEnergyAssets = subConnections.getConnections();

int numberOfEnergyAssets = connectedEnergyAssets.size();
for( int i = 0; i < numberOfEnergyAssets; i++ ) {
	if( connectedEnergyAssets.get(i) instanceof EnergyAsset ) {
		c_connectedEnergyAssets.add(connectedEnergyAssets.get(i));

	}
}

List<EnergyAsset> consumptionAssets = filter(c_connectedEnergyAssets, b -> b.p_energyAssetInstance instanceof J_EAConsumption);
List<EnergyAsset> productionAssets = filter(c_connectedEnergyAssets, b -> b.p_energyAssetInstance instanceof J_EAProduction);
List<EnergyAsset> storageAssets = filter(c_connectedEnergyAssets, b -> b.p_energyAssetInstance instanceof J_EAStorage);
List<EnergyAsset> conversionAssets = filter(c_connectedEnergyAssets, b -> b.p_energyAssetInstance instanceof J_EAConversion);
traceln("NetConnection connecting to " + numberOfEnergyAssets + " EnergyAssets");
*/
]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1663773810340</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1663774444750</Id>
					<Name><![CDATA[main]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1663773810344</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1663773842879</Id>
			<Name><![CDATA[GCWindfarm]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_agentID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ThermalStorageAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyAssetList]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoStart_HR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoEnd_HR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1663773842877</Id>
				<Name><![CDATA[1663773842877]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1663773842875</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1663773842878</CurrentLevel>
			<ConnectionsId>1663773842874</ConnectionsId>
			<AgentLinks>
				<AgentLink>
					<Id>1663773842874</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1663774465365</Id>
					<Name><![CDATA[main]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1663773842878</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1663773857868</Id>
			<Name><![CDATA[GCSolarfarm]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_agentID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ThermalStorageAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyAssetList]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoStart_HR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoEnd_HR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1663773857866</Id>
				<Name><![CDATA[1663773857866]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1663773857864</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1663773857867</CurrentLevel>
			<ConnectionsId>1663773857863</ConnectionsId>
			<AgentLinks>
				<AgentLink>
					<Id>1663773857863</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1663774487514</Id>
					<Name><![CDATA[main]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1663773857867</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1665137072820</Id>
			<Name><![CDATA[ESHeat]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[EnergySupplier]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_actorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentActorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedElectricityPrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedHeatPrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedMethanePrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedHydrogenPrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_variableElectricityPriceOverNational_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedFeedinTariff_eurpkWh]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1665137072818</Id>
				<Name><![CDATA[1665137072818]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1665216000000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1665137072816</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1665137072819</CurrentLevel>
			<ConnectionsId>1665137072815</ConnectionsId>
			<AgentLinks>
				<AgentLink>
					<Id>1665137072815</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>


			<Presentation>
				<Level>
					<Id>1665137072819</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1665137101093</Id>
			<Name><![CDATA[ESElectricity]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_updateEnergyPrice(){
	f_updateElectricityPrice();
}]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[EnergySupplier]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_actorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentActorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedElectricityPrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedHeatPrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedMethanePrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedHydrogenPrice_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_variableElectricityPriceOverNational_eurpkWh]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_fixedFeedinTariff_eurpkWh]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1665137101091</Id>
				<Name><![CDATA[1665137101091]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1665216000000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1665137101089</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1665137101092</CurrentLevel>
			<ConnectionsId>1665137101088</ConnectionsId>
			<Variables>
				<Variable Class="Parameter">
					<Id>1665138682881</Id>
					<Name><![CDATA[p_energyTax_eurpkWh]]></Name>
					<X>520</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0.16]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1665138682879</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1665137113430</Id>
					<Name><![CDATA[c_clientsFixedContract]]></Name>
					<X>770</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridConnection]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1665137113434</Id>
					<Name><![CDATA[c_clientsVariableContract]]></Name>
					<X>770</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridConnection]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666549522139</Id>
					<Name><![CDATA[f_updateElectricityPrice]]></Name>
					<X>520</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_currentVariableElectricityPrice_eurpkWh = main.nationalEnergyMarket.f_getNationalElectricityPrice_eurpMWh()/1000;
v_currentNettElectricityVolume_kWh = 0;

for (GridConnection client : c_clientsVariableContract){
	((ConnectionOwner)client.p_ownerActor).v_electricityBuyPrice_eurpkWh = v_currentVariableElectricityPrice_eurpkWh;
	((ConnectionOwner)client.p_ownerActor).v_electricitySellPrice_eurpkWh = - v_currentVariableElectricityPrice_eurpkWh;
}]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1665137101088</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>


			<Presentation>
				<Level>
					<Id>1665137101092</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1665480522864</Id>
			<Name><![CDATA[GCIndustry]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_connectToChild(Agent ConnectingParentNode){
	f_connectToChild_overwrite(ConnectingParentNode);
}

/*@Override
public void f_operateFixedConsumptionAssets(){
	f_operateFixedConsumptionAssets_overwrite();
}*/
@Override
public void f_operateFlexAssets(){
	f_operateFlexAssets_overwrite();
}]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_agentID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ThermalStorageAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyAssetList]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoStart_HR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoEnd_HR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1665480522862</Id>
				<Name><![CDATA[1665480522862]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1665561600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1665480522860</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1665480522863</CurrentLevel>
			<ConnectionsId>1665480522859</ConnectionsId>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665498760168</Id>
					<Name><![CDATA[f_connectToChild_overwrite]]></Name>
					<X>780</X><Y>132</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingParentNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingParentNode);
EnergyAsset EA = (EnergyAsset) ConnectingParentNode;
c_energyAssets.add(EA);

if (EA.p_energyAssetInstance instanceof J_EAConsumption) {
	c_consumptionAssets.add(EA);
} else if (EA.p_energyAssetInstance instanceof J_EAProduction ) {
	c_productionAssets.add(EA);
} else if (EA.p_energyAssetInstance instanceof J_EAStorage ) {
	c_storageAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAStorageHeat) {
		p_ThermalStorageAsset = EA;
	}
	else if (EA.p_energyAssetInstance instanceof J_EAEV) {
		c_vehicleAssets.add( EA );
		c_vehicleAssets.get( v_vehicleIndex ).v_powerFraction_fr = 1;
		MobilityTracker m = main.add_mobilityTrackers();
		c_mobilityTrackers.add( m );
		m.p_vehicleIndex = v_vehicleIndex;
		m.p_gridConnection = this;
		m.p_vehicleInstance = (J_EAEV)m.p_vehicleInstance;
		m.p_energyAsset = c_vehicleAssets.get( v_vehicleIndex );
		m.p_vehicleInstance = (J_EAEV)m.p_energyAsset.p_energyAssetInstance;
		m.p_mobilityPatternType = OL_MobilityPatternType.TRUCK;
		((J_EAEV)m.p_vehicleInstance).setMobilityTracker( m );
		m.f_getData();
		v_vehicleIndex ++;
	}
} else if (EA.p_energyAssetInstance instanceof J_EAConversion) {
	c_conversionAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAConversionGasBurner || EA.p_energyAssetInstance instanceof J_EAConversionHeatPump || EA.p_energyAssetInstance instanceof J_EAConversionHeatDeliverySet ) {
		p_primaryHeatingAsset = EA;
		//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
	}
} else {
	traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingParentNode.getId() + " is of unknown type or null! ");
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665499506761</Id>
					<Name><![CDATA[f_operateFixedConsumptionAssets_overwrite]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>800</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[switch( p_gridConnectionType ) {
	case STEEL:
		for(EnergyAsset ea : c_consumptionAssets) {
			if( ea.p_energyAssetType == OL_EnergyAssetType.ELECTRICITY_DEMAND ) {
				ea.f_updateElectricityFlows( main.v_currentIndustrySteelElectricityDemand_fr );
			}
			else if( ea.p_energyAssetType == OL_EnergyAssetType.HEAT_DEMAND ) {
				ea.f_updateAllFlows( main.v_currentIndustrySteelHeatDemand_fr );
			}
			else {
				ea.v_powerFraction_fr = 0; // To disable other asset
				traceln("industry has other consumption assets than modeled so far");
			}
		}
	break;
	case INDUSTRY_OTHER:
		for(EnergyAsset ea : c_consumptionAssets) {
			if( ea.p_energyAssetType == OL_EnergyAssetType.ELECTRICITY_CONSUMPTION_PROFILE ) {
				ea.f_updateElectricityFlows( main.v_currentIndustryOtherElectricityDemand_fr );
			}
			else if( ea.p_energyAssetType == OL_EnergyAssetType.HEAT_DEMAND ) {
				ea.f_updateAllFlows( main.v_currentIndustryOtherHeatDemand_fr );
			}
			else {
				ea.v_powerFraction_fr = 0; // To disable other asset
				traceln("industry has other consumption assets than modeled so far");
			}
		}
	break;
	default:
		traceln("industry not modeled so far");

	break;
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665501255400</Id>
					<Name><![CDATA[f_operateFlexAssets_overwrite]]></Name>
					<X>800</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Determine EV charging
//f_manageCharging();

// Determine house heating
f_manageHeatingAssets();

for( EnergyAsset c : c_conversionAssets ) {	
	v_currentPowerElectricity_kW += c.v_currentConsumptionElectricity_kW - c.v_currentProductionElectricity_kW;
	v_currentPowerMethane_kW += c.v_currentConsumptionMethane_kW - c.v_currentProductionMethane_kW;
	v_currentPowerHydrogen_kW += c.v_currentConsumptionHydrogen_kW - c.v_currentProductionHydrogen_kW;
	v_currentPowerHeat_kW += c.v_currentConsumptionHeat_kW - c.v_currentProductionHeat_kW;
	v_currentPowerDiesel_kW += c.v_currentConsumptionDiesel_kW;
}]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1665480522859</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1665480565440</Id>
					<Name><![CDATA[main]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1665480522863</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1666956363819</Id>
			<Name><![CDATA[GCGridBattery]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_connectToChild(Agent ConnectingParentNode){
	f_connectToChild_overwrite(ConnectingParentNode);
}

//@Override
//public void f_operateFixedConsumptionAssets(){
//	f_runFixedConsumptionAssets();
//}
@Override
public void f_operateFlexAssets(){
	f_operateFlexAssets_overwrite();
}

@Override
public void f_batteryManagementBalance( double batterySOC ){
	f_batteryManagementBalanceHolon( batterySOC );
}

@Override
public void f_batteryManagementPrice( double batterySOC ){
	f_batteryManagementPriceHolon( batterySOC );
}]]></AdditionalClassCode>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<ExtendsReference>
				<PackageName><![CDATA[base]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_agentID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ThermalStorageAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectric]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeat]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerActor]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAssetRem]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyAssetList]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoStart_HR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoEnd_HR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1666956363817</Id>
				<Name><![CDATA[1666956363817]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1667030400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1666956363815</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1666956363818</CurrentLevel>
			<ConnectionsId>1666956363814</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1668014284866</Id>
					<Name><![CDATA[v_electricityPriceLowPassed_eurpkWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1170</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0.3]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668014343625</Id>
					<Name><![CDATA[v_lowPassFactor_fr]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1170</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[min(1,.01*1.2*main.p_timeStep_h)]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668443493765</Id>
					<Name><![CDATA[v_batterySOC_fr]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1170</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0.01]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666956397906</Id>
					<Name><![CDATA[f_connectToChild_overwrite]]></Name>
					<X>780</X><Y>132</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingChildNode);
EnergyAsset EA = (EnergyAsset) ConnectingChildNode;
c_energyAssets.add(EA);

if (EA.p_energyAssetInstance instanceof J_EAConsumption) {
	c_consumptionAssets.add(EA);
} else if (EA.p_energyAssetInstance instanceof J_EAProduction ) {
	c_productionAssets.add(EA);
} else if (EA.p_energyAssetInstance instanceof J_EAStorage ) {
	c_storageAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAStorageHeat) {
		p_ThermalStorageAsset = EA;
	}
	else if(EA.p_energyAssetInstance instanceof J_EAStorageElectric && ((J_EAStorageElectric)EA.p_energyAssetInstance).getStorageCapacity_kWh() !=0) {
		p_batteryAsset = EA;
	}
} else if (EA.p_energyAssetInstance instanceof J_EAConversion) {
	c_conversionAssets.add(EA);
	if (EA.p_energyAssetInstance instanceof J_EAConversionGasBurner || EA.p_energyAssetInstance instanceof J_EAConversionHeatPump || EA.p_energyAssetInstance instanceof J_EAConversionHeatDeliverySet || EA.p_energyAssetInstance instanceof J_EAConversionBoiler ) {
		if (p_primaryHeatingAsset == null) {
			p_primaryHeatingAsset = EA;
		} else if (p_secondaryHeatingAsset == null) {
			p_secondaryHeatingAsset = EA;
		} else {
			traceln("District Heating gridconnection already has two heating systems!");
		}
		//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
	}
} else {
	traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingChildNode.getId() + " is of unknown type or null! ");
}


/*
// create a local list of energyAssets connected to its netConnection Agent for easy reference
List<EnergyAsset> connectedEnergyAssets = subConnections.getConnections();

int numberOfEnergyAssets = connectedEnergyAssets.size();
for( int i = 0; i < numberOfEnergyAssets; i++ ) {
	if( connectedEnergyAssets.get(i) instanceof EnergyAsset ) {
		c_connectedEnergyAssets.add(connectedEnergyAssets.get(i));

	}
}

List<EnergyAsset> consumptionAssets = filter(c_connectedEnergyAssets, b -> b.p_energyAssetInstance instanceof J_EAConsumption);
List<EnergyAsset> productionAssets = filter(c_connectedEnergyAssets, b -> b.p_energyAssetInstance instanceof J_EAProduction);
List<EnergyAsset> storageAssets = filter(c_connectedEnergyAssets, b -> b.p_energyAssetInstance instanceof J_EAStorage);
List<EnergyAsset> conversionAssets = filter(c_connectedEnergyAssets, b -> b.p_energyAssetInstance instanceof J_EAConversion);
traceln("NetConnection connecting to " + numberOfEnergyAssets + " EnergyAssets");
*/
]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666956527771</Id>
					<Name><![CDATA[f_operateFlexAssets_overwrite]]></Name>
					<X>800</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( p_batteryAsset != null ) {
	v_batterySOC_fr = p_batteryAsset.p_energyAssetInstance.getCurrentStateOfCharge();
	
	if( p_batteryOperationMode == BALANCE){
		f_batteryManagementBalance(v_batterySOC_fr);
	}
	else if (p_batteryOperationMode == PRICE){
		f_batteryManagementPrice(v_batterySOC_fr);
	}
	
	p_batteryAsset.f_updateElectricityFlows(p_batteryAsset.v_powerFraction_fr);
	
	v_currentPowerElectricity_kW += p_batteryAsset.v_currentConsumptionElectricity_kW - p_batteryAsset.v_currentProductionElectricity_kW;
	v_batteryPower_kW += p_batteryAsset.v_currentConsumptionElectricity_kW - p_batteryAsset.v_currentProductionElectricity_kW;
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666967854749</Id>
					<Name><![CDATA[f_operateFixedConsumptionAssets_overwrite]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>800</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(EnergyAsset e : c_consumptionAssets) {
	if( e.p_energyAssetType == OL_EnergyAssetType.ELECTRICITY_CONSUMPTION_PROFILE ) {
		e.f_updateElectricityFlows( main.v_currentBuildingOtherElectricityDemand_fr );
	}
	else {
		traceln("Grid battery has other consumption assets than 'other electricity consumption'");
		e.v_powerFraction_fr = 0;
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1667632551574</Id>
					<Name><![CDATA[f_balanceHolonLoadV2]]></Name>
					<Description><![CDATA[Simpele regeling voor balancering van holon-load.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1230</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[currentBatteryStateOfCharge]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[if(p_ownerActor instanceof ConnectionOwner) {
	if(((ConnectionOwner)p_ownerActor).p_holonParent instanceof EnergyHolon ) {

		double currentHolonElectricitySurplus_kW = ((ConnectionOwner)p_ownerActor).p_holonParent.v_electricitySurplus_kW + v_previousPowerElectricity_kW;
		double HolonConnectionCapacity_kW = 0.9*((ConnectionOwner)p_ownerActor).p_holonParent.v_connectionCapacity_kW; // Use only 90% of capacity for robustness against delay
		double availableChargePower_kW = currentHolonElectricitySurplus_kW + HolonConnectionCapacity_kW; // Max battery charging power within grid capacity
		double availableDischargePower_kW = currentHolonElectricitySurplus_kW - HolonConnectionCapacity_kW; // Max discharging power within grid capacity
		double SOC_setp_fr = 0.6 + 0.2 * Math.sin(2*Math.PI*(time(HOUR)-12)/24); // Sinusoidal setpoint: aim for low SOC at 6:00h, high SOC at 18:00h.
		//traceln("SOC setpoint at " + getHourOfDay() + " h is " + SOC_setp_fr*100 + "%");
		double FeedbackGain_kWpSOC = 1.5 * p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW(); // How strongly to aim for SOC setpoint
		double FeedforwardGain_kWpKw = 0.8; // Feedforward based on current surpluss in holon
		//double chargeOffset_kW = 100; // Charging 'bias', basically increases SOC setpoint slightly during the whole day.
		double chargeSetpoint_kW = 0;
		chargeSetpoint_kW = FeedforwardGain_kWpKw*currentHolonElectricitySurplus_kW + (SOC_setp_fr - currentBatteryStateOfCharge) * FeedbackGain_kWpSOC;
		chargeSetpoint_kW = min(max(chargeSetpoint_kW, availableDischargePower_kW),availableChargePower_kW); // Don't allow too much (dis)charging!
		if (time(HOUR) == 0){
			chargeSetpoint_kW = -1000;
		}
		p_batteryAsset.v_powerFraction_fr = max(-1,min(1, chargeSetpoint_kW / p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW())); // Convert to powerFraction and limit power
		//traceln("HOLON surpluss " + currentHolonElectricitySurplus_kW + "kW, Battery charging power " + p_batteryAsset.v_powerFraction_fr*p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW() + " kW at " + currentBatteryStateOfCharge*100 + " % SOC");
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668013431944</Id>
					<Name><![CDATA[f_priceBasedBatteryManagement]]></Name>
					<Description><![CDATA[Simpele regeling voor balancering van holon-load.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1170</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[currentBatteryStateOfCharge]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[//double willingnessToPayDefault_eurpkWh = 0.3;
double chargeDischarge_offset_eurpkWh = 0.0;
double WTPfeedbackGain_eurpSOC = 0.1; // When SOC-error is 100%, adjust WTP price by 1 eurpkWh
double priceGain = 3; // How strongly to ramp up power with price-delta's
//double congestionTariffHolon_eurpkWh = -(((ConnectionOwner)p_ownerActor).p_holonParent.v_electricitySurplus_kW + v_previousPowerElectricity_kW)/1200*0.1;

double chargeSetpoint_kW = 0;

if(p_ownerActor instanceof ConnectionOwner) {
		if (time(HOUR) == 0){
			chargeSetpoint_kW = -600;
		} else {
			//traceln("Initial Mappings are: " + ((ConnectionOwner)p_ownerActor).v_currentPriceBands);
			double currentElectricityPriceCharge_eurpkWh = ((ConnectionOwner)p_ownerActor).v_currentPriceBands.ceilingEntry(100.0).getValue(); // query price at 1kW
			double currentElectricityPriceDischarge_eurpkWh = ((ConnectionOwner)p_ownerActor).v_currentPriceBands.floorEntry(-100.0).getValue(); // query price at 1kW
			//double lowPassFraction = min(1,1*1.2*main.p_timeStep_h); // smaller value results in more filtering
			v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( currentElectricityPriceCharge_eurpkWh - v_electricityPriceLowPassed_eurpkWh );
			
			double currentPricePowerBandPos_kW = ((ConnectionOwner)p_ownerActor).v_currentPriceBands.ceilingKey(100.0); // Up to what power does this price hold?
			double currentPricePowerBandNeg_kW = ((ConnectionOwner)p_ownerActor).v_currentPriceBands.floorKey(100.0); // Down to what power does this price hold?
			
			//double currentElectricityPrice_eurpkWh = currentElectricityPriceBand_eurpkWh.getValue();
			//traceln("Current price is " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, between " + currentPricePowerBandNeg_kW + " kW and " + currentPricePowerBandPos_kW + " kW");
			// Keep track of average electricity value over last period using low-pass filter
			
			//v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * (currentElectricityPrice_eurpkWh - v_electricityPriceLowPassed_eurpkWh);
			
			double SOC_setp_fr = 0.6 + 0.3 * Math.sin(2*Math.PI*(time(HOUR)-12)/24); // Sinusoidal setpoint: aim for low SOC at 6:00h, high SOC at 18:00h. 
			double SOC_deficit_fr = SOC_setp_fr - currentBatteryStateOfCharge; // How far away from desired SOC? SOC too LOW is a POSITIVE deficit
			
			// Define WTP price for charging and discharging!
			double WTP_charge_eurpkWh = v_electricityPriceLowPassed_eurpkWh - chargeDischarge_offset_eurpkWh + SOC_deficit_fr * WTPfeedbackGain_eurpSOC;
			double WTP_discharge_eurpkWh = v_electricityPriceLowPassed_eurpkWh + chargeDischarge_offset_eurpkWh + SOC_deficit_fr * WTPfeedbackGain_eurpSOC;
			
			//traceln("WTP charge is " + WTP_charge_eurpkWh + " eurpkWh, discharge is " + WTP_discharge_eurpkWh + " eurpkWh");
			// Choose charging power based on prices and desired SOC level
			if ( WTP_charge_eurpkWh > currentElectricityPriceCharge_eurpkWh ) { // if willingness to pay higher than current electricity price
				chargeSetpoint_kW = min(p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW()*(WTP_charge_eurpkWh - currentElectricityPriceCharge_eurpkWh)*priceGain, currentPricePowerBandPos_kW)  ;
				//traceln("WTP charge " + WTP_charge_eurpkWh + " eurpkWh is high than electricity price " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, so charge!") ;
			} else if (WTP_discharge_eurpkWh < currentElectricityPriceDischarge_eurpkWh) {
				chargeSetpoint_kW = -min(p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW()*(currentElectricityPriceDischarge_eurpkWh - WTP_discharge_eurpkWh)*priceGain, currentPricePowerBandPos_kW);
				//traceln("WTP discharge " + WTP_discharge_eurpkWh + " eurpkWh is lower than electricity price " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, so discharge!") ;
			}
			
			// limit charging power to available connection capacity in HOLON when applicable
			if(((ConnectionOwner)p_ownerActor).p_holonParent instanceof EnergyHolon ) {	
				double currentHolonElectricitySurplus_kW = ((ConnectionOwner)p_ownerActor).p_holonParent.v_electricitySurplus_kW + v_previousPowerElectricity_kW;
				double HolonConnectionCapacity_kW = 0.9*((ConnectionOwner)p_ownerActor).p_holonParent.v_connectionCapacity_kW; // Use only 90% of capacity for robustness against delay
				double availableChargePower_kW = currentHolonElectricitySurplus_kW + HolonConnectionCapacity_kW; // Max battery charging power within grid capacity
				double availableDischargePower_kW = currentHolonElectricitySurplus_kW - HolonConnectionCapacity_kW; // Max discharging power within grid capacity
				//chargeSetpoint_kW = min(max(chargeSetpoint_kW, availableDischargePower_kW),availableChargePower_kW); // Don't allow too much (dis)charging!
			}			
		}
		p_batteryAsset.v_powerFraction_fr = max(-1,min(1, chargeSetpoint_kW / p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW())); // Convert to powerFraction and limit power
		//traceln("SOC setpoint at " + getHourOfDay() + " h is " + SOC_setp_fr*100 + "%");
		/*double FeedbackGain_kWpSOC = 1.5 * p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW(); // How strongly to aim for SOC setpoint
		double FeedforwardGain_kWpKw = 0.8; // Feedforward based on current surpluss in holon
		//double chargeOffset_kW = 100; // Charging 'bias', basically increases SOC setpoint slightly during the whole day.
		double chargeSetpoint_kW = 0;
		chargeSetpoint_kW = FeedforwardGain_kWpKw*currentHolonElectricitySurplus_kW + (SOC_setp_fr - currentBatteryStateOfCharge) * FeedbackGain_kWpSOC;
		chargeSetpoint_kW = min(max(chargeSetpoint_kW, availableDischargePower_kW),availableChargePower_kW); // Don't allow too much (dis)charging!
		if (time(HOUR) == 0){
			chargeSetpoint_kW = -1000;
		}*/
		//p_batteryAsset.v_powerFraction_fr = max(-1,min(1, chargeSetpoint_kW / p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW())); // Convert to powerFraction and limit power
		//traceln("HOLON surpluss " + currentHolonElectricitySurplus_kW + "kW, Battery charging power " + p_batteryAsset.v_powerFraction_fr*p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW() + " kW at " + currentBatteryStateOfCharge*100 + " % SOC");
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669022533961</Id>
					<Name><![CDATA[f_batteryManagementBalanceHolon]]></Name>
					<Description><![CDATA[Simpele regeling voor balancering van holon-load.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>800</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[batterySOC]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[if (((J_EAStorageElectric)p_batteryAsset.p_energyAssetInstance).getStorageCapacity_kWh() != 0){
	if(p_ownerActor instanceof ConnectionOwner) {
		if(((ConnectionOwner)p_ownerActor).p_holonParent instanceof EnergyHolon ) {
	
			double currentHolonElectricitySurplus_kW = ((ConnectionOwner)p_ownerActor).p_holonParent.v_electricitySurplus_kW + v_previousPowerElectricity_kW;
			v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( currentHolonElectricitySurplus_kW - v_electricityPriceLowPassed_eurpkWh );
			
			double HolonConnectionCapacity_kW = 0.9*((ConnectionOwner)p_ownerActor).p_holonParent.v_allowedCapacity_kW; // Use only 90% of capacity for robustness against delay
			double availableChargePower_kW = HolonConnectionCapacity_kW + currentHolonElectricitySurplus_kW; // Max battery charging power within grid capacity
			double availableDischargePower_kW = currentHolonElectricitySurplus_kW - HolonConnectionCapacity_kW; // Max discharging power within grid capacity
			double SOC_setp_fr = 0.6 + 0.2 * Math.sin(2*Math.PI*(time(HOUR)-12)/24); // Sinusoidal setpoint: aim for low SOC at 6:00h, high SOC at 18:00h.
			//traceln("SOC setpoint at " + getHourOfDay() + " h is " + SOC_setp_fr*100 + "%");
			double FeedbackGain_kWpSOC = 1.5 * p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW(); // How strongly to aim for SOC setpoint
			double FeedforwardGain_kWpKw = 0.8; // Feedforward based on current surpluss in holon
			//double chargeOffset_kW = 100; // Charging 'bias', basically increases SOC setpoint slightly during the whole day.
			double chargeSetpoint_kW = 0;
			chargeSetpoint_kW = FeedforwardGain_kWpKw * (currentHolonElectricitySurplus_kW - v_electricityPriceLowPassed_eurpkWh) + (SOC_setp_fr - batterySOC) * FeedbackGain_kWpSOC;
			chargeSetpoint_kW = min(max(chargeSetpoint_kW, availableDischargePower_kW),availableChargePower_kW); // Don't allow too much (dis)charging!
			p_batteryAsset.v_powerFraction_fr = max(-1,min(1, chargeSetpoint_kW / p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW())); // Convert to powerFraction and limit power
			//traceln("HOLON surpluss " + currentHolonElectricitySurplus_kW + "kW, Battery charging power " + p_batteryAsset.v_powerFraction_fr*p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW() + " kW at " + currentBatteryStateOfCharge*100 + " % SOC");
		}
	}
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669022533963</Id>
					<Name><![CDATA[f_batteryManagementPriceHolon]]></Name>
					<Description><![CDATA[Simpele regeling voor balancering van holon-load.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>800</X><Y>299</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[currentBatteryStateOfCharge]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[if (((J_EAStorageElectric)p_batteryAsset.p_energyAssetInstance).getStorageCapacity_kWh() != 0){
	//double willingnessToPayDefault_eurpkWh = 0.3;
	double chargeDischarge_offset_eurpkWh = 0.0;
	double WTPfeedbackGain_eurpSOC = 0.1; // When SOC-error is 100%, adjust WTP price by 1 eurpkWh
	double priceGain = 3; // How strongly to ramp up power with price-delta's
	//double congestionTariffHolon_eurpkWh = -(((ConnectionOwner)p_ownerActor).p_holonParent.v_electricitySurplus_kW + v_previousPowerElectricity_kW)/1200*0.1;
	
	double chargeSetpoint_kW = 0;
	
	if(p_ownerActor instanceof ConnectionOwner) {
		double currentElectricityPriceCharge_eurpkWh = ((ConnectionOwner)p_ownerActor).v_currentPriceBands.ceilingEntry(100.0).getValue(); // query price at 1kW
		double currentElectricityPriceDischarge_eurpkWh = ((ConnectionOwner)p_ownerActor).v_currentPriceBands.floorEntry(-100.0).getValue(); // query price at 1kW
		v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( currentElectricityPriceCharge_eurpkWh - v_electricityPriceLowPassed_eurpkWh );
		
		double currentPricePowerBandPos_kW = ((ConnectionOwner)p_ownerActor).v_currentPriceBands.ceilingKey(100.0); // Up to what power does this price hold?
		double currentPricePowerBandNeg_kW = ((ConnectionOwner)p_ownerActor).v_currentPriceBands.floorKey(100.0); // Down to what power does this price hold?
		
	
		double SOC_setp_fr = 0.6 + 0.3 * Math.sin(2*Math.PI*(time(HOUR)-12)/24); // Sinusoidal setpoint: aim for low SOC at 6:00h, high SOC at 18:00h. 
		double SOC_deficit_fr = SOC_setp_fr - currentBatteryStateOfCharge; // How far away from desired SOC? SOC too LOW is a POSITIVE deficit
		
		// Define WTP price for charging and discharging!
		double WTP_charge_eurpkWh = v_electricityPriceLowPassed_eurpkWh - chargeDischarge_offset_eurpkWh + SOC_deficit_fr * WTPfeedbackGain_eurpSOC;
		double WTP_discharge_eurpkWh = v_electricityPriceLowPassed_eurpkWh + chargeDischarge_offset_eurpkWh + SOC_deficit_fr * WTPfeedbackGain_eurpSOC;
		
		//traceln("WTP charge is " + WTP_charge_eurpkWh + " eurpkWh, discharge is " + WTP_discharge_eurpkWh + " eurpkWh");
		// Choose charging power based on prices and desired SOC level
		if ( WTP_charge_eurpkWh > currentElectricityPriceCharge_eurpkWh ) { // if willingness to pay higher than current electricity price
			chargeSetpoint_kW = min(p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW()*(WTP_charge_eurpkWh - currentElectricityPriceCharge_eurpkWh)*priceGain, currentPricePowerBandPos_kW)  ;
			//traceln("WTP charge " + WTP_charge_eurpkWh + " eurpkWh is high than electricity price " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, so charge!") ;
		} else if (WTP_discharge_eurpkWh < currentElectricityPriceDischarge_eurpkWh) {
			chargeSetpoint_kW = -min(p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW()*(currentElectricityPriceDischarge_eurpkWh - WTP_discharge_eurpkWh)*priceGain, currentPricePowerBandPos_kW);
			//traceln("WTP discharge " + WTP_discharge_eurpkWh + " eurpkWh is lower than electricity price " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, so discharge!") ;
		}
		
		// limit charging power to available connection capacity in HOLON when applicable
		if(((ConnectionOwner)p_ownerActor).p_holonParent instanceof EnergyHolon ) {	
			double currentHolonElectricitySurplus_kW = ((ConnectionOwner)p_ownerActor).p_holonParent.v_electricitySurplus_kW + v_previousPowerElectricity_kW;
			double HolonConnectionCapacity_kW = 0.9*((ConnectionOwner)p_ownerActor).p_holonParent.p_connectionCapacity_kW; // Use only 90% of capacity for robustness against delay
			double availableChargePower_kW = currentHolonElectricitySurplus_kW + HolonConnectionCapacity_kW; // Max battery charging power within grid capacity
			double availableDischargePower_kW = currentHolonElectricitySurplus_kW - HolonConnectionCapacity_kW; // Max discharging power within grid capacity
			//chargeSetpoint_kW = min(max(chargeSetpoint_kW, availableDischargePower_kW),availableChargePower_kW); // Don't allow too much (dis)charging!
		}			
	
		p_batteryAsset.v_powerFraction_fr = max(-1,min(1, chargeSetpoint_kW / p_batteryAsset.p_energyAssetInstance.getElectricCapacity_kW())); // Convert to powerFraction and limit power
	}
}]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1666956363814</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1666957377035</Id>
					<Name><![CDATA[main]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1666956363818</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1667726338857</Id>
			<Name><![CDATA[MobilityTracker]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1667726338855</Id>
				<Name><![CDATA[1667726338855]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
	 			<SpaceType>CONTINUOUS</SpaceType>			
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1667808000000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1667726338853</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1667726338856</CurrentLevel>
			<ConnectionsId>1667726338852</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1667726387946</Id>
					<Name><![CDATA[v_tripDist_km]]></Name>
					<Description><![CDATA[[km]]]></Description>
					<X>60</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667726387948</Id>
					<Name><![CDATA[v_tripIndex]]></Name>
					<X>60</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667743922290</Id>
					<Name><![CDATA[v_away]]></Name>
					<X>60</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668366773319</Id>
					<Name><![CDATA[v_idleTimeToNextTrip]]></Name>
					<Description><![CDATA[[Minutes]]]></Description>
					<X>60</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668423440867</Id>
					<Name><![CDATA[v_tripPatternName]]></Name>
					<X>60</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[String]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1667742419409</Id>
					<Name><![CDATA[p_mobilityPatternType]]></Name>
					<X>60</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_MobilityPatternType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1667742419407</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1667743331974</Id>
					<Name><![CDATA[p_gridConnection]]></Name>
					<X>60</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[GridConnection]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1667743331972</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1667746868470</Id>
					<Name><![CDATA[p_vehicleIndex]]></Name>
					<X>60</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[int]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1667746868468</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668359685412</Id>
					<Name><![CDATA[p_energyAsset]]></Name>
					<X>60</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[EnergyAsset]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1668359685410</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668359695374</Id>
					<Name><![CDATA[p_vehicleInstance]]></Name>
					<X>60</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EA]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1668359695372</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1667726387933</Id>
					<Name><![CDATA[starttimes]]></Name>
					<X>60</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Double]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1667726387940</Id>
					<Name><![CDATA[distances]]></Name>
					<X>60</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Double]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1667726387942</Id>
					<Name><![CDATA[endtimes]]></Name>
					<X>60</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Double]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Events>
				<Event>
					<Id>1667726387951</Id>
					<Name><![CDATA[nextActivityStartTimer]]></Name>
					<X>60</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="userControls">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1d / 0d]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_MINUTE]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1643270400000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[0]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[v_away = true;
if(p_vehicleInstance instanceof J_EAEV){
	((J_EAEV)p_vehicleInstance).startTrip();
} else if (p_vehicleInstance instanceof J_EAConversionDieselVehicle){
	((J_EAConversionDieselVehicle)p_vehicleInstance).startTrip();
}
//traceln("Truck vertrekt, met SOC: " + p_vehicleInstance.getCurrentStateOfCharge());
v_idleTimeToNextTrip = 0;

]]></Action>
				</Event>
				<Event>
					<Id>1667726387954</Id>
					<Name><![CDATA[nextActivityEndTimer]]></Name>
					<X>60</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="userControls">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1d / 0d]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_MINUTE]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1643270400000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[0]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[//set current trip as a planned trip for the next week.
starttimes.set( v_tripIndex, starttimes.get(v_tripIndex) + 10080 );
endtimes.set( v_tripIndex, endtimes.get(v_tripIndex) + 10080 );

v_tripIndex++;
if ( v_tripIndex > starttimes.size() - 1 ) {
	v_tripIndex = 0;
}

v_idleTimeToNextTrip = starttimes.get(v_tripIndex) - time( MINUTE );
nextActivityStartTimer.restart( v_idleTimeToNextTrip, MINUTE);
nextActivityEndTimer.restart( endtimes.get(v_tripIndex) - time( MINUTE ), MINUTE);

if(p_vehicleInstance instanceof J_EAEV){
	((J_EAEV)p_vehicleInstance).endTrip( v_tripDist_km, v_idleTimeToNextTrip);
	p_gridConnection.c_vehiclesAvailableForCharging.add( p_energyAsset );
	if (p_gridConnection.p_chargingAttitudeVehicles == MAX_SPREAD){
		((J_EAEV)p_vehicleInstance).setMaxSpreadChargingRatio(p_gridConnection.v_additionalTimeSpreadCharging_MIN);
		//traceln( "vehicle komt aan van " + v_tripDist_km + " km, charging ratio set at: " + p_vehicleInstance.getMaxSpreadChargingRatio());
	}
} else if(p_vehicleInstance instanceof J_EAConversionDieselVehicle){
	((J_EAConversionDieselVehicle)p_vehicleInstance).endTrip( v_tripDist_km, v_idleTimeToNextTrip);
	p_gridConnection.c_vehiclesAvailableForTanking.add( p_energyAsset );
}

v_away = false;
v_tripDist_km = distances.get( v_tripIndex );

//traceln( date() +  " truck komt terug, km: " + v_tripDist_km);]]></Action>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1667726387944</Id>
					<Name><![CDATA[f_getTruckTrips]]></Name>
					<X>820</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[int rowIndex = uniform_discr(2, 9); //nu hardcoded maar kunnen we zo met input files doen.
v_tripPatternName = main.inputTruckTrips.getCellStringValue("sheet1", rowIndex, 1);
int nbTrips = roundToInt(main.inputTruckTrips.getCellNumericValue("sheet1", rowIndex, 2));

for (int i = 0; i < nbTrips; i++){
	starttimes.add(main.inputTruckTrips.getCellNumericValue("sheet1", rowIndex, 3 + i * 3));
	endtimes.add(main.inputTruckTrips.getCellNumericValue("sheet1", rowIndex, 4 + i * 3));
	distances.add(main.inputTruckTrips.getCellNumericValue("sheet1", rowIndex, 5 + i * 3));
}

v_tripDist_km = distances.get(0);
nextActivityStartTimer.restart( starttimes.get(0) - time( MINUTE ), MINUTE);
nextActivityEndTimer.restart( endtimes.get(0) - time( MINUTE ), MINUTE);

]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1667742541169</Id>
					<Name><![CDATA[f_getData]]></Name>
					<X>790</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[switch (p_mobilityPatternType){
	case TRUCK:
		f_getTruckTrips();
	break;
	case PRIVATE_VEHICLE:
		f_getHouseholdTrips();
	break;
	case BUS:

	break;
	default:
		traceln("Mobility tracker -> f_getData(): incorrect mobility pattern type");
	break;
}]]></Body>
				</Function>
				<Function AccessType="default" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1667742554956</Id>
					<Name><![CDATA[f_getHouseholdTrips]]></Name>
					<X>820</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[int rowIndex =  getIndex() % 581;

int nbTrips = roundToInt(p_gridConnection.main.inputHouseholdTrips.getCellNumericValue("sheet1", rowIndex + 2, 2));

for (int i = 0; i < nbTrips; i++){
	starttimes.add(p_gridConnection.main.inputHouseholdTrips.getCellNumericValue("sheet1", rowIndex + 2, 3 + i * 3));
	endtimes.add(p_gridConnection.main.inputHouseholdTrips.getCellNumericValue("sheet1", rowIndex + 2, 4 + i * 3));
	distances.add(p_gridConnection.main.inputHouseholdTrips.getCellNumericValue("sheet1", rowIndex + 2, 5 + i * 3));
}

v_tripDist_km = distances.get(0);
nextActivityStartTimer.restart( starttimes.get(0) - time( MINUTE ), MINUTE);
nextActivityEndTimer.restart( endtimes.get(0) - starttimes.get(0) - time( MINUTE ), MINUTE);
// IS DE - starttimes.get(0) in deze initialisatie correct?? ! Bij trukcs niet, Later nog checken.
]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1667726338852</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1667745003902</Id>
					<Name><![CDATA[main]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[base]]></PackageName>
						<ClassName><![CDATA[Main]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1667726338856</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
	</ActiveObjectClasses>	
	<DifferentialEquationsMethod>EULER</DifferentialEquationsMethod>
	<MixedEquationsMethod>RK45_NEWTON</MixedEquationsMethod>
	<AlgebraicEquationsMethod>MODIFIED_NEWTON</AlgebraicEquationsMethod>
	<AbsoluteAccuracy>1.0</AbsoluteAccuracy>
	<FixedTimeStep>1.0</FixedTimeStep>
	<RelativeAccuracy>1.0</RelativeAccuracy>
	<TimeAccuracy>0.1</TimeAccuracy>
	<Frame>
		<Width>1000</Width>
		<Height>600</Height>
	</Frame>
	<Database>
		<Logging>false</Logging>
		<AutoExport>false</AutoExport>
		<ShutdownCompact>false</ShutdownCompact>
		<ImportSettings>
			<ExternalConnection>
				<Id>1659535432855</Id>
				<Name><![CDATA[database]]></Name>
				<X>0</X><Y>0</Y>
				<Label><X>10</X><Y>0</Y></Label>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>true</ShowLabel>
				<DatabaseType>EXCEL_ACCESS</DatabaseType>
				<ConnectionURL><![CDATA[]]></ConnectionURL>
				<ConnectOnStartup>true</ConnectOnStartup>
				<DatabaseName><![CDATA[]]></DatabaseName>
				<ResourceReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[db_defaultEnergyAssets.xlsx]]></ClassName>
				</ResourceReference>
				<Host><![CDATA[localhost]]></Host>
				<JdbcDriverClassName><![CDATA[net.sourceforge.jtds.jdbc.Driver]]></JdbcDriverClassName>
				<Login><![CDATA[]]></Login>
				<Password><![CDATA[]]></Password>
			</ExternalConnection>
			<ExternalConnection>
				<Id>1659337777421</Id>
				<Name><![CDATA[database]]></Name>
				<X>0</X><Y>0</Y>
				<Label><X>10</X><Y>0</Y></Label>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>true</ShowLabel>
				<DatabaseType>EXCEL_ACCESS</DatabaseType>
				<ConnectionURL><![CDATA[]]></ConnectionURL>
				<ConnectOnStartup>true</ConnectOnStartup>
				<DatabaseName><![CDATA[]]></DatabaseName>
				<ResourceReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[db_profiles.xlsx]]></ClassName>
				</ResourceReference>
				<Host><![CDATA[localhost]]></Host>
				<JdbcDriverClassName><![CDATA[net.sourceforge.jtds.jdbc.Driver]]></JdbcDriverClassName>
				<Login><![CDATA[]]></Login>
				<Password><![CDATA[]]></Password>
			</ExternalConnection>
			<ExternalConnection>
				<Id>1658496976208</Id>
				<Name><![CDATA[database]]></Name>
				<X>0</X><Y>0</Y>
				<Label><X>10</X><Y>0</Y></Label>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>true</ShowLabel>
				<DatabaseType>EXCEL_ACCESS</DatabaseType>
				<ConnectionURL><![CDATA[]]></ConnectionURL>
				<ConnectOnStartup>true</ConnectOnStartup>
				<DatabaseName><![CDATA[]]></DatabaseName>
				<ResourceReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[db_backboneParams.xlsx]]></ClassName>
				</ResourceReference>
				<Host><![CDATA[localhost]]></Host>
				<JdbcDriverClassName><![CDATA[net.sourceforge.jtds.jdbc.Driver]]></JdbcDriverClassName>
				<Login><![CDATA[]]></Login>
				<Password><![CDATA[]]></Password>
			</ExternalConnection>
			<TableImportSettings>
				<TableReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[storage_assets]]></ClassName>
				</TableReference>
				<ConnectionIndex>0</ConnectionIndex>
				<ExternalTableName><![CDATA["storageAssets"]]></ExternalTableName>
				<AutoImport>true</AutoImport>
			</TableImportSettings>
			<TableImportSettings>
				<TableReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[consumption_assets]]></ClassName>
				</TableReference>
				<ConnectionIndex>0</ConnectionIndex>
				<ExternalTableName><![CDATA["consumptionAssets"]]></ExternalTableName>
				<AutoImport>true</AutoImport>
			</TableImportSettings>
			<TableImportSettings>
				<TableReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[production_assets]]></ClassName>
				</TableReference>
				<ConnectionIndex>0</ConnectionIndex>
				<ExternalTableName><![CDATA["productionAssets"]]></ExternalTableName>
				<AutoImport>true</AutoImport>
			</TableImportSettings>
			<TableImportSettings>
				<TableReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[conversion_assets]]></ClassName>
				</TableReference>
				<ConnectionIndex>0</ConnectionIndex>
				<ExternalTableName><![CDATA["conversionAssets"]]></ExternalTableName>
				<AutoImport>true</AutoImport>
			</TableImportSettings>
			<TableImportSettings>
				<TableReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[profiles]]></ClassName>
				</TableReference>
				<ConnectionIndex>1</ConnectionIndex>
				<ExternalTableName><![CDATA["profiles"]]></ExternalTableName>
				<AutoImport>true</AutoImport>
			</TableImportSettings>
			<TableImportSettings>
				<TableReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[params]]></ClassName>
				</TableReference>
				<ConnectionIndex>2</ConnectionIndex>
				<ExternalTableName><![CDATA["params"]]></ExternalTableName>
				<AutoImport>true</AutoImport>
			</TableImportSettings>
		</ImportSettings>
		<ExportSettings>
		</ExportSettings>
	</Database>
	
	<RunConfiguration ActiveObjectClassId="1658477103140">
		<Id>1658477103163</Id>
		<Name><![CDATA[RunConfiguration]]></Name>
		<MaximumMemory>4096</MaximumMemory>
		<ModelTimeProperties>
			<StopOption><![CDATA[Stop at specified date]]></StopOption>
			<InitialDate><![CDATA[1640995200000]]></InitialDate>	
			<InitialTime><![CDATA[0.0]]></InitialTime>	
			<FinalDate><![CDATA[1672531200000]]></FinalDate>	
			<FinalTime><![CDATA[8760.0]]></FinalTime>	
		</ModelTimeProperties>
		<AnimationProperties>
			<StopNever>true</StopNever>
			<ExecutionMode>realTimeScaled</ExecutionMode>
			<RealTimeScale>0.002</RealTimeScale>
			<EnableZoomAndPanning>true</EnableZoomAndPanning>
			<EnableDeveloperPanel>false</EnableDeveloperPanel>
			<ShowDeveloperPanelOnStart>false</ShowDeveloperPanelOnStart>
		</AnimationProperties>
		<Inputs>
    		<RunConfigurationInput>
				<Id>1661517220706</Id>
				<Name><![CDATA[P time step h]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_timeStep_h]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1661517213660</Id>
				<Name><![CDATA[B add kpi visuals]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[b_addKpiVisuals]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1661517224234</Id>
				<Name><![CDATA[P grid node config JSON]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_gridNodeConfigJSON]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1667300243073</Id>
				<Name><![CDATA[P grid connection config JSON]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_gridConnectionConfigJSON]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1661517226959</Id>
				<Name><![CDATA[P actors config JSON]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_actorsConfigJSON]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1661517228035</Id>
				<Name><![CDATA[P energy assets config JSON]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_energyAssetsConfigJSON]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1663579418347</Id>
				<Name><![CDATA[P import local config jsons]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_importLocalConfigJsons]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1663597142902</Id>
				<Name><![CDATA[P force uncached]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_forceUncached]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1663577689860</Id>
				<Name><![CDATA[P parallelize]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_parallelize]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1667300244750</Id>
				<Name><![CDATA[P policies config JSON]]></Name>
				<InputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[p_policiesConfigJSON]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>		
		</Inputs>
		<Outputs>
    		<RunConfigurationOutput>
				<Id>1663255524588</Id>
				<Name><![CDATA[O output runSettings]]></Name>
				<OutputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[o_outputSettings]]></ItemName>
				</OutputReference>
    		</RunConfigurationOutput>
    		<RunConfigurationOutput>
				<Id>1661517229694</Id>
				<Name><![CDATA[O output actorData]]></Name>
				<OutputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[o_outputConnectionOwnerJSON]]></ItemName>
				</OutputReference>
    		</RunConfigurationOutput>
    		<RunConfigurationOutput>
				<Id>1661529672978</Id>
				<Name><![CDATA[O output exceptions]]></Name>
				<OutputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[o_outputExceptions]]></ItemName>
				</OutputReference>
    		</RunConfigurationOutput>
    		<RunConfigurationOutput>
				<Id>1663340413770</Id>
				<Name><![CDATA[O output trigger]]></Name>
				<OutputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[o_outputTrigger]]></ItemName>
				</OutputReference>
    		</RunConfigurationOutput>
    		<RunConfigurationOutput>
				<Id>1668011807231</Id>
				<Name><![CDATA[O total cost data]]></Name>
				<OutputReference>
					<PackageName><![CDATA[base]]></PackageName>
					<ClassName><![CDATA[Main]]></ClassName>
					<ItemName><![CDATA[o_totalCostData]]></ItemName>
				</OutputReference>
    		</RunConfigurationOutput>
		</Outputs>
	</RunConfiguration>
	<Experiments>	
		<!--   =========   Simulation Experiment   ========  -->
		<SimulationExperiment ActiveObjectClassId="1658477103140">
			<Id>1658477103156</Id>
			<Name><![CDATA[Simulation]]></Name>
			<ClientAreaTopLeft><X>0</X><Y>0</Y></ClientAreaTopLeft>
			<CommandLineArguments><![CDATA[]]></CommandLineArguments>
			<MaximumMemory>1024</MaximumMemory>
			<RandomNumberGenerationType>fixedSeed</RandomNumberGenerationType>
			<CustomGeneratorCode>new Random()</CustomGeneratorCode>
			<SeedValue>1</SeedValue>
			<SelectionModeForSimultaneousEvents>LIFO</SelectionModeForSimultaneousEvents>
			<VmArgs><![CDATA[]]></VmArgs>
			<LoadRootFromSnapshot>false</LoadRootFromSnapshot>

			<Presentation>
				<Text>
					<Id>1658477103161</Id>
					<Name><![CDATA[text]]></Name>
					<X>50</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-12490271</Color>
					<Text><![CDATA[MainModel]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>24</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

			<Parameters>			
				<Parameter>
					<ParameterName><![CDATA[p_timeStep_h]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[b_addKpiVisuals]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_undergroundTemperature_degC]]></ParameterName>
					<ParameterValue Class="CodeValue">
						<Code><![CDATA[10]]></Code>
					</ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_gridNodeConfigJSON]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_gridConnectionConfigJSON]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_actorsConfigJSON]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_energyAssetsConfigJSON]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[j_dataOut]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[j_experimentSettingsData]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_importLocalConfigJsons]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_forceUncached]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_parallelize]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_policiesConfigJSON]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[j_totalCostData]]></ParameterName>
				</Parameter>
			</Parameters>			
			<PresentationProperties>
				<EnableZoomAndPanning>true</EnableZoomAndPanning>
				<ExecutionMode><![CDATA[realTimeScaled]]></ExecutionMode>
				<Title><![CDATA[MainModel : Simulation]]></Title>	
				<EnableDeveloperPanel>true</EnableDeveloperPanel>
				<ShowDeveloperPanelOnStart>false</ShowDeveloperPanelOnStart>
				<RealTimeScale>5.0</RealTimeScale>
			</PresentationProperties>
			<ModelTimeProperties>
				<StopOption><![CDATA[Stop at specified time]]></StopOption>
				<InitialDate><![CDATA[1640995200000]]></InitialDate>	
				<InitialTime><![CDATA[0.0]]></InitialTime>	
				<FinalDate><![CDATA[1672531200000]]></FinalDate>	
				<FinalTime><![CDATA[8760.0]]></FinalTime>	
			</ModelTimeProperties>
			<BypassInitialScreen>true</BypassInitialScreen>
		</SimulationExperiment>	
	</Experiments>
	<JavaClasses>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659091451342</Id>
			<Name><![CDATA[J_EAProduction]]></Name>
			<Text><![CDATA[/**
 * J_EAProduction
 */
public class J_EAProduction extends base.J_EA implements Serializable {

    /**
     * Default constructor
     */
	public J_EAProduction() {
    }

	/**
     * Constructor initializing the fields
     */
	public J_EAProduction(EnergyAsset ownerAsset, double capacityElectric_kW_,double capacityHeat_kW, double timestep_h) {
	    this.ownerAsset = ownerAsset;
	    this.capacityElectric_kW = capacityElectric_kW_;
	    this.capacityHeat_kW = capacityHeat_kW;
	    this.timestep_h = timestep_h;
//	    traceln("I am instantiated! "+this+" owned by "+ownerAsset);
	}

	@Override
    public double[] operate(double ratioOfCapacity) {
    	this.electricityProduction_kW = ratioOfCapacity * capacityElectric_kW;
    	this.heatProduction_kW = ratioOfCapacity * capacityHeat_kW;
    	energyUsed_kWh -= (electricityProduction_kW + heatProduction_kW) * timestep_h;
    	//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
    	return returnEnergyFlows();
	}

	@Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectricity_kW = " + capacityElectric_kW +" "+
			"capacityHeat_kW = " + capacityHeat_kW +" ";
	}

	public String getOwnerAgent() {
		return ownerAsset.agentInfo();
	}


	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659091479591</Id>
			<Name><![CDATA[J_EAStorage]]></Name>
			<Text><![CDATA[/**
 * J_EAStorage
 */
public class J_EAStorage extends J_EA implements Serializable {

	protected OL_EnergyCarrierType storageMedium;
	protected double storageCapacity_kWh;
	protected double stateOfCharge_r;
	protected double lossFactor_r;
	protected double timestep_h;
	protected double ambientTemperature_degC;
	protected String ambientTempType;

    /**
     * Default constructor
     */
    public J_EAStorage() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAStorage(EnergyAsset ownerAsset, double chargeCapacityElectric_kW, double chargeCapacityHeat_kW, OL_EnergyCarrierType storageMedium, double storageCapacity_kWh, double stateOfCharge, double lossFactor, double timestep_h, String ambientTempType) {
		this.ownerAsset = ownerAsset;
		this.capacityElectric_kW = chargeCapacityElectric_kW;  // capacity for charging/discharging in kW
		this.capacityHeat_kW = chargeCapacityHeat_kW;				// capacity for charging/discharging in kW
		this.storageMedium = storageMedium;
		this.storageCapacity_kWh = storageCapacity_kWh;
		this.stateOfCharge_r = stateOfCharge;
		this.lossFactor_r = lossFactor;
		this.timestep_h = timestep_h;
		this.ambientTempType = ambientTempType;
    }

    public void calculateLoss() {
    	//
    }

    public double[] operate(double ratioOfChargeCapacity_r) {
    	// traceln("storage operate! ");
    	//double[] arr = {0,0,0,0,0,0,0,0};
    	//return arr;
    	return returnEnergyFlows();
    }

    public void updateStateOfCharge( double flow_kW ) {
		stateOfCharge_r = ( (stateOfCharge_r * storageCapacity_kWh) - flow_kW * timestep_h ) / storageCapacity_kWh;
	}

	// acces current state of charge
	@Override
	public double getCurrentStateOfCharge() {
    	return stateOfCharge_r;
	}

	@Override
	public double getCurrentTemperature() {
		return 0;
	}

	@Override
	public void updateAmbientTemperature(double currentAmbientTemperature_degC) {
		//
	}

    @Override
	public String toString() {
		return super.toString();
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659091488030</Id>
			<Name><![CDATA[J_EAConversion]]></Name>
			<Text><![CDATA[/**
 * J_EAConversion
 */
public class J_EAConversion extends base.J_EA implements Serializable {

	protected double eta_r;
	protected OL_EnergyCarrierType energyCarrierProduced;
	protected OL_EnergyCarrierType energyCarrierConsumed;
	protected String ambientTempType;
	/**
     * Default constructor
     */
    public J_EAConversion() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversion(EnergyAsset ownerAssetAgent, double capacityElectric_kW, double capacityHeat_kW, double efficiency_r, OL_EnergyCarrierType energyCarrierProduced, OL_EnergyCarrierType energyCarrierConsumed, double timestep_h, String ambientTempType) {
	    this.ownerAsset = ownerAssetAgent;
	    this.capacityElectric_kW = capacityElectric_kW;
	    this.capacityHeat_kW = capacityHeat_kW;
	    this.eta_r = efficiency_r;
	    this.energyCarrierProduced = energyCarrierProduced;
	    this.energyCarrierConsumed = energyCarrierConsumed;
	    this.timestep_h = timestep_h;
	    this.ambientTempType = ambientTempType;
	}

	@Override
	public double[] operate(double ratioOfCapacity) {
		//
		double[] arr = {0,0,0,0,0,0,0,0,0 };
    	return arr;
	}

    @Override
	public String toString() {
		return super.toString();
	}

	public String getOwnerAgent() {
		return ownerAsset.agentInfo();
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}                         ]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659104834899</Id>
			<Name><![CDATA[J_EAConsumption]]></Name>
			<Text><![CDATA[/**
 * J_EAConsumption
 */
public class J_EAConsumption extends base.J_EA implements Serializable {
	public double yearlyDemandElectricity_kWh;
	public double yearlyDemandHeat_kWh;
	/**
     * Default constructor
     */
    public J_EAConsumption() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConsumption(EnergyAsset ownerAsset, double yearlyDemandElectricity_kWh, double yearlyDemandHeat_kWh, double timestep_h) {
		this.ownerAsset = ownerAsset;
		this.yearlyDemandElectricity_kWh = yearlyDemandElectricity_kWh;
		this.yearlyDemandHeat_kWh = yearlyDemandHeat_kWh;
		this.timestep_h = timestep_h;
    }

	@Override
    public double[] operate(double ratioOfCapacity) {
    	this.electricityConsumption_kW = ratioOfCapacity * yearlyDemandElectricity_kWh;
    	this.heatConsumption_kW = ratioOfCapacity * yearlyDemandHeat_kWh;

    	//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
    	energyUsed_kWh += (electricityConsumption_kW + heatConsumption_kW) * timestep_h;
    	return returnEnergyFlows();
   	}

	@Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"ownerAsset = " + ownerAsset +" " +
			"yearlyDemandElectricity_kWh = " + yearlyDemandElectricity_kWh +" "+
			"yearlyDemandHeat_kWh = " + yearlyDemandHeat_kWh +" ";
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659108919926</Id>
			<Name><![CDATA[J_EA]]></Name>
			<Text><![CDATA[/**
 * J_EA
 */
public class J_EA {

	 protected EnergyAsset ownerAsset;
	 protected double capacityElectric_kW;
	 protected double capacityHeat_kW;
	 protected double energyUsed_kWh=0.0;
  	 protected double timestep_h;

	 protected double electricityProduction_kW = 0.0;
	 protected double heatProduction_kW = 0.0;
	 protected double methaneProduction_kW = 0.0;
	 protected double hydrogenProduction_kW = 0.0;
	 protected double electricityConsumption_kW = 0.0;
	 protected double methaneConsumption_kW = 0.0;
	 protected double hydrogenConsumption_kW = 0.0;
	 protected double heatConsumption_kW = 0.0;
	 protected double dieselConsumption_kW = 0.0;

    /**
     * Default constructor
     */
    public J_EA() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EA(EnergyAsset ownerAsset, double capacityElectric_kW, double capacityHeat_kW) {
		this.ownerAsset = ownerAsset;
		this.capacityElectric_kW = capacityElectric_kW;
		this.capacityHeat_kW = capacityHeat_kW;
    }

    public void resetFlows() {
    	//traceln("parent energyAsset reset ");
    	double electricityProduction_kW = 0;
    	heatProduction_kW = 0;
    	methaneProduction_kW = 0;
    	hydrogenProduction_kW = 0;
    	double electricityConsumption_kW = 0;
    	methaneConsumption_kW = 0;
    	hydrogenConsumption_kW = 0;
    	heatConsumption_kW = 0;
    	dieselConsumption_kW = 0;
    }

    public double[] operateBounded(double ratioOfCapacity) {
    	double limitedRatioOfCapacity = min(1,max(-1, ratioOfCapacity));
    	double[] arr = operate(limitedRatioOfCapacity);
    	return arr;
    }

    public double[] operate(double ratioOfCapacity) {
    	traceln("parent energyAsset operate! ");
    	double[] arr = returnEnergyFlows(); //{electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	return arr;
    }

    public double[] returnEnergyFlows() {
    	//traceln("returning energy flows from superclass");
    	double[] arr = {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW, dieselConsumption_kW };
    	resetFlows();
    	return arr;
    }
    public double getCurrentStateOfCharge() {
    	return 0;
    }

    public double getCurrentTemperature() {
    	return 0;
    }

    public void updateAmbientTemperature(double currentAmbientTemperature_degC) {
    	// only for storage agents. Does it belong in this superclass?
    }

    public double getHeatCapacity_kW() {
    	return capacityHeat_kW;
    }

    public double getElectricCapacity_kW() {
    	return capacityElectric_kW;
    }

    public double getEnergyUsed_kWh() {
    	return energyUsed_kWh;
    }

    public double getSetTemperature_degC() {
    	return 0;
    }

	@Override
	public String toString() {
		return
			"ownerAsset = " + ownerAsset.getIndex() +" ";
	}
}
]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659117174456</Id>
			<Name><![CDATA[J_EAConversionGasBurner]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionGasBurner
 */
public class J_EAConversionGasBurner extends base.J_EAConversion implements Serializable {

	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.METHANE;
    /**
     * Default constructor
     */
    public J_EAConversionGasBurner() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionGasBurner(EnergyAsset ownerAssetAgent, double capacityThermal_kW, double efficiency, double timestep_h) {
	    this.ownerAsset = ownerAssetAgent;
	    this.capacityHeat_kW = capacityThermal_kW;
	    this.eta_r = efficiency;
	    this.timestep_h = timestep_h;
	}

    @Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
		this.heatProduction_kW = capacityHeat_kW * ratioOfCapacity;
		this.methaneConsumption_kW = heatProduction_kW / eta_r;

		this.energyUsed_kWh += timestep_h * (methaneConsumption_kW - heatProduction_kW); // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
    }

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	@Override
	public String toString() {
		return
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"eta_r = " + this.eta_r+" ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659446215929</Id>
			<Name><![CDATA[J_EAStorageElectric]]></Name>
			<Text><![CDATA[/**
 * J_EAStorageElectric
 */
public class J_EAStorageElectric extends base.J_EAStorage implements Serializable {

	private OL_EnergyCarrierType storageMedium = OL_EnergyCarrierType.ELECTRICITY;
	private double lossFactor_r = 0;
	protected double discharged_kWh = 0;
	protected double charged_kWh = 0;

    /**
     * Default constructor
     */
    public J_EAStorageElectric() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAStorageElectric(EnergyAsset ownerAsset, double capacityElectric_kW, double storageCapacity_kWh, double stateOfCharge_r, double timestep_h ) {
		this.ownerAsset = ownerAsset;
		this.capacityElectric_kW = capacityElectric_kW;
		this.storageCapacity_kWh = storageCapacity_kWh;
		this.stateOfCharge_r = stateOfCharge_r;
		this.timestep_h = timestep_h;
    }

	@Override
	public void calculateLoss() {
		//no loss for electric batteries modeled.
	}

	@Override
	public double[] operate(double ratioOfChargeCapacity_r) {
    	double discharge_kW = 0;
    	double deltaEnergy_kWh;   // to check the request with the energy currently in storage
    	//double sign = ratioOfChargeCapacity_r / abs( ratioOfChargeCapacity_r ); // charge or discharge

    	deltaEnergy_kWh = ( ratioOfChargeCapacity_r * capacityElectric_kW * timestep_h ) ;
    	deltaEnergy_kWh = - min( -deltaEnergy_kWh, (stateOfCharge_r * storageCapacity_kWh) ); // Prevent negative charge
    	deltaEnergy_kWh = min(deltaEnergy_kWh, (1 - stateOfCharge_r) * storageCapacity_kWh ); // Prevent overcharge

		discharge_kW = -deltaEnergy_kWh / timestep_h;

		electricityProduction_kW = max(discharge_kW, 0);
		electricityConsumption_kW = max(-discharge_kW, 0);
		discharged_kWh += electricityProduction_kW * timestep_h;
		charged_kWh += electricityConsumption_kW * timestep_h;
		
		updateStateOfCharge( discharge_kW );
		//double[] arr = {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
	}

	@Override
	public String toString() {
		return 
			"type = " + this.getClass().toString() + " " +
			"ownerAsset = " + ownerAsset +" " +
			"stateOfCharge_r = " + this.stateOfCharge_r+" "+
			"storageCapacity_kWh = " + this.storageCapacity_kWh +" "+
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"discharged_kWh " + this.discharged_kWh+" "+
			"charged_kWh " + this.charged_kWh+" ";
	}

	@Override
	public void updateStateOfCharge( double discharge_kW ) {
		stateOfCharge_r -= ( discharge_kW * timestep_h ) / storageCapacity_kWh;
	}

	@Override
	public double getCurrentStateOfCharge() {
    	return stateOfCharge_r;
	}

	public double getCapacityAvailable_kW() {
		double availableCapacity_kW;
		if ( stateOfCharge_r * storageCapacity_kWh  > capacityElectric_kW * timestep_h) {
			availableCapacity_kW = capacityElectric_kW;
		}
		else {
			availableCapacity_kW =  stateOfCharge_r * storageCapacity_kWh / timestep_h; // Allow to drain completely
		}
		return availableCapacity_kW;
	}
	
	public double getStorageCapacity_kWh() {
		return storageCapacity_kWh;
	}

	public double getTotalChargeAmount_kWh() {
		return charged_kWh;
	}
	public double getTotalDischargeAmount_kWh() {
		return discharged_kWh;
	}


	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659447107390</Id>
			<Name><![CDATA[J_EAStorageHeat]]></Name>
			<Text><![CDATA[/**
 * J_EAStorageHeat
 */
public class J_EAStorageHeat extends base.J_EAStorage implements Serializable {

	EnergyAsset ownerAsset;
	private double capacityElectric_kW = 0;
	public OL_EnergyCarrierType storageMedium = OL_EnergyCarrierType.HEAT;
	private double storageCapacity_kWh;
	private double stateOfCharge_r;
	private double lossFactor_WpK;
	private double timestep_h;
	private double temperature_degC;
	private double minTemperature_degC;
	private double maxTemperature_degC;
	private double setTemperature_degC;
	private double heatCapacity_JpK;
	private double ambientTemperature_degC;
	//private double energyUsed_kWh=0;

    /**
     * Default constructor
     */
    public J_EAStorageHeat() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAStorageHeat(EnergyAsset ownerAsset, double capacityHeat_kW, double lossFactor_WpK, double timestep_h, double initialTemperature_degC, double minTemperature_degC, double maxTemperature_degC, double setTemperature_degC, double heatCapacity_JpK, String ambientTempType ) {
		this.ownerAsset = ownerAsset;
		this.capacityHeat_kW = capacityHeat_kW;
		this.lossFactor_WpK = lossFactor_WpK;
		this.timestep_h = timestep_h;
		this.temperature_degC = initialTemperature_degC;
		this.minTemperature_degC = minTemperature_degC;
		this.maxTemperature_degC = maxTemperature_degC;
		this.setTemperature_degC = setTemperature_degC;
		this.heatCapacity_JpK = heatCapacity_JpK;
		this.ambientTempType = ambientTempType;

		this.storageCapacity_kWh = ( maxTemperature_degC - minTemperature_degC ) * heatCapacity_JpK / 3.6e+6;
		this.stateOfCharge_r = (( initialTemperature_degC - minTemperature_degC ) / (maxTemperature_degC - minTemperature_degC ) );
    }

	@Override
	public void calculateLoss() {
		double heatLoss_W = lossFactor_WpK * ( temperature_degC - ambientTemperature_degC );
		double energyLoss_kWh = ( heatLoss_W / 1000 ) * timestep_h;
		double tempDelta = - energyLoss_kWh / (heatCapacity_JpK / 3.6E6 );
		energyUsed_kWh += energyLoss_kWh;
		//traceln("Ambient temperature " + ambientTemperature_degC);
		//traceln("heatCapacity JpK " + heatCapacity_JpK );
		//traceln("tempdelta loss"+tempDelta);
		updateStateOfCharge( tempDelta );
	}

	@Override
	public double[] operate(double ratioOfChargeCapacity_r) {
		//traceln("StorageAsset Heat Operatefunctie: ambienttemperature = "+ambientTemperature_degC);
		calculateLoss(); // Updates

		double discharge_kW = 0;
    	double energyDelta_kWh = 0;   // to check the request with the energy currently in storage
    	double deltaTemp_degC;
    	//double sign = ratioOfChargeCapacity_r / abs( ratioOfChargeCapacity_r ); // charge or discharge

    	energyDelta_kWh = ( ratioOfChargeCapacity_r * capacityHeat_kW * timestep_h );
    	//traceln("capacityHeat_kW " + capacityHeat_kW);
    	deltaTemp_degC = energyDelta_kWh / (heatCapacity_JpK / 3.6E6 );
    	//traceln("tempdelta charge uncapped: "+deltaTemp_degC);
    	//deltaTemp_degC = max( deltaTemp_degC, minTemperature_degC - temperature_degC ); // Is deze functionaliteit nodig in de heatbuffer? Kan op zich geen kwaad... zal als het goed is niet aangesproken worden
    	//deltaTemp_degC = min( deltaTemp_degC, (maxTemperature_degC - temperature_degC ) ); // Is deze functionaliteit nodig in de heatbuffer?

		//double tempDelta = - energy;   // positieve energielevering verlaagt buffertemperatuur!
		//energy = energy * (heatCapacity_JpK / 3.6E6 );
		discharge_kW = - deltaTemp_degC *  (heatCapacity_JpK / 3.6E6) / timestep_h; // positieve energielevering verlaagt buffertemperatuur!

		heatProduction_kW = max(discharge_kW, 0);
		heatConsumption_kW = max(-discharge_kW, 0);
		//traceln("tempdelta charge: "+deltaTemp_degC);
		updateStateOfCharge( deltaTemp_degC );

		//double[] arr = {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
	}

	@Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"temp = " + this.temperature_degC + " " +
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"stateOfCharge_r = " + this.stateOfCharge_r+" "+
			"ambientTemperature_degC = "+this.ambientTemperature_degC+" ";
	}

	@Override
	public void updateStateOfCharge( double tempDelta_degC ) {
		temperature_degC += tempDelta_degC;
		stateOfCharge_r = ( temperature_degC - minTemperature_degC) / (maxTemperature_degC - minTemperature_degC);
	}

	@Override
	public double getCurrentStateOfCharge() {
    	return stateOfCharge_r;
	}

	@Override
	public double getCurrentTemperature() {
		return temperature_degC;
	}

	@Override
	public double getSetTemperature_degC() {
		return setTemperature_degC;
	}

	public double getStorageCapacity() {
		return storageCapacity_kWh;
	}

	public double getHeatCapacity_JpK() {
		return heatCapacity_JpK;
	}

	/*
	@Override
	public double getHeatCapacity_kW() {
    	return capacityHeat_kW;
    }
	*/

	@Override
	public void updateAmbientTemperature(double currentAmbientTemperature_degC) { // TODO: Hoe zorgen we dat we deze niet vergeten aan te roepen??
		ambientTemperature_degC = currentAmbientTemperature_degC;
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659513814164</Id>
			<Name><![CDATA[J_EAConversionHeatPump]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionHeatPump
 */
public class J_EAConversionHeatPump extends base.J_EAConversion implements Serializable {
	private double capacityHeat_kW = 0;
	private double efficiency_r;
	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.ELECTRICITY;
	private double outputTemperature_degC;
	private double baseTemperature_degC;

    /**
     * Default constructor
     */
    public J_EAConversionHeatPump() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionHeatPump(EnergyAsset ownerAssetAgent, double capacityElectric_kW, double eta_r, double baseTemperature_degC, double outputTemperature_degC, String ambientTempType) {
	    this.ownerAsset = ownerAssetAgent;
	    this.capacityElectric_kW = capacityElectric_kW;
	    this.eta_r = eta_r;
	    this.baseTemperature_degC = baseTemperature_degC;
	    this.outputTemperature_degC = outputTemperature_degC;
	    this.efficiency_r = eta_r * ( 273.15 + outputTemperature_degC ) / ( outputTemperature_degC - baseTemperature_degC );
	    this.capacityHeat_kW = capacityElectric_kW * efficiency_r;
	    this.ambientTempType = ambientTempType;
	}

	public void updateParameters(double baseTemperature_degC, double outputTemperature_degC) {
		this.baseTemperature_degC = baseTemperature_degC;
		this.outputTemperature_degC = outputTemperature_degC;
		if ( this.baseTemperature_degC > this.outputTemperature_degC) {
			traceln("**** EXCEPTION **** Heatpump baseTemperature is higher than outputTemperature!");
		}
		efficiency_r = eta_r * ( 273.15 + outputTemperature_degC ) / ( outputTemperature_degC - baseTemperature_degC );
	    this.capacityHeat_kW = capacityElectric_kW * efficiency_r;
	}

	public void updateAmbientTemp(double baseTemperature_degC) {
		this.baseTemperature_degC = baseTemperature_degC;
		if ( this.baseTemperature_degC > this.outputTemperature_degC) {
			traceln("**** EXCEPTION **** Heatpump baseTemperature is higher than outputTemperature!");
		}
		efficiency_r = eta_r * ( 273.15 + outputTemperature_degC ) / ( outputTemperature_degC - this.baseTemperature_degC );
	    this.capacityHeat_kW = capacityElectric_kW * efficiency_r;
	}

	public double getCOP() {
		return this.efficiency_r;
	}

	@Override
	public double[] operate(double ratioOfCapacity) {
    	this.electricityConsumption_kW = ratioOfCapacity * capacityElectric_kW;
    	this.heatProduction_kW = electricityConsumption_kW * efficiency_r;

    	this.energyUsed_kWh += timestep_h * (electricityConsumption_kW - heatProduction_kW); // This represents 'losses'! For a heat-pump, this is actually energy production, due to the greater-than-one efficiency!
    	//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
    	//traceln("J_EAConversionHeatPump operate function debug | operating @ "+ratioOfCapacity*100+" % capacity ** capacityElectric_kW = "+capacityElectric_kW+", eta_r = "+eta_r+", baseTemperature_degC = "+baseTemperature_degC+", deliveryTemp_degC = "+outputTemperature_degC+", efficiency_r = "+efficiency_r+", capacityHeat_kW = "+capacityHeat_kW+". ");
    	return returnEnergyFlows();
	}

	@Override
    public double getHeatCapacity_kW() {
    	return efficiency_r * capacityElectric_kW;
    }

	@Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectricity_kW = " + capacityElectric_kW +" "+
			"capacityHeat_kW = " + capacityHeat_kW +" "+
			"baseTemperature_degC = " + baseTemperature_degC + " ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659534704067</Id>
			<Name><![CDATA[J_EAEV]]></Name>
			<Text><![CDATA[/**
 * J_EAEV
 */
public class J_EAEV extends base.J_EAStorageElectric implements Serializable {

	//EnergyAsset ownerAsset;
	// protected EnergyAsset ownerAsset;
	// protected double capacityElectric_kW;
	// protected double capacityHeat_kW;
	// protected double energyUsed_kWh=0.0;
 	// protected double timestep_h;

	//private double capacityElectricity_kW;
	//private double capacityHeat_kW = 0;
	public OL_EnergyCarrierType storageMedium = OL_EnergyCarrierType.ELECTRICITY;
	//private double storageCapacity_kWh;
	private double stateOfCharge_r;
	private double lossFactor_r = 0;
//	private double timestep_h;
	private double energyConsumption_kWhpkm = 0.2;
	private boolean availability = true;
	private MobilityTracker mobilityTracker = null;
	public double vehicleScaling;
	public double idleTimeToNextTrip_MIN = 0;
	public double maxSpreadChargingRatio = 0; // the charging ratio of a session if the vehicle needs to be full before departure
	//private double energyUsed_kWh=0;

    /**
     * Default constructor
     */
    public J_EAEV() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAEV(EnergyAsset ownerAsset, double capacityElectricity_kW, double storageCapacity_kWh, double stateOfCharge_r, double timestep_h, double energyConsumption_kWhpkm, double vehicleScaling ) {
		this.ownerAsset = ownerAsset;
		this.capacityElectric_kW = capacityElectricity_kW * vehicleScaling; // for EV, this is max charging power.
		this.storageCapacity_kWh = storageCapacity_kWh * vehicleScaling;
		this.stateOfCharge_r = stateOfCharge_r;
		this.timestep_h = timestep_h;
		this.energyConsumption_kWhpkm = energyConsumption_kWhpkm;
		this.vehicleScaling = vehicleScaling;
    }

	@Override
	public void calculateLoss() {
		//no loss for electric batteries modeled.
	}

	@Override // momenteel verwijzen we door naar de charge funcite ipv deze operate. Die doen eigenlijk ehtzelfde maar neemt kW als input. De ratio input in deze functie wordt door de laadmodule als vermogen meegegeven
	public double[] operate(double ratioOfChargeCapacity_r) {
		//traceln( "ratio: " + ratioOfChargeCapacity_r);
		if (true) {
	    	double discharge_kW = 0;
	    	double deltaEnergy_kWh;   // to check the request with the energy currently in storage
	    	//double sign = ratioOfChargeCapacity_r / abs( ratioOfChargeCapacity_r ); // charge or discharge

	    	deltaEnergy_kWh = ( ratioOfChargeCapacity_r * capacityElectric_kW * timestep_h ) ;
	    	deltaEnergy_kWh = - min( -deltaEnergy_kWh, (stateOfCharge_r * storageCapacity_kWh) ); // Prevent negative charge
	    	deltaEnergy_kWh = min(deltaEnergy_kWh, ratioOfChargeCapacity_r * capacityElectric_kW * timestep_h ); // prevent charging faster than allowed
	    	deltaEnergy_kWh = min(deltaEnergy_kWh, (1 - stateOfCharge_r) * storageCapacity_kWh ); // Prevent overcharge
	    
			discharge_kW = -deltaEnergy_kWh / timestep_h;
			//traceln("state of charge: " + stateOfCharge_r * storageCapacity_kWh + ", charged: " + discharge_kW / 4+ " kWh, charging power kW: " + discharge_kW);
			electricityProduction_kW = max(discharge_kW, 0);
			electricityConsumption_kW = max(-discharge_kW, 0);
			updateStateOfCharge( discharge_kW );
			//traceln("new state of charge: " + stateOfCharge_r * storageCapacity_kWh);
			updateChargingHistory( electricityProduction_kW, electricityConsumption_kW );
		}
		//double[] arr = {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
	}

	@Override
	public void updateStateOfCharge( double power_kW ) {
		stateOfCharge_r -= ( power_kW * timestep_h ) / storageCapacity_kWh;
	}

	@Override
	public double getCurrentStateOfCharge() {
    	return stateOfCharge_r;
	}

	public boolean startTrip() {
		if (availability) {
			availability = false;
			return true;
		} else {
			traceln("Trip not started because EV not available!");
			return false; // Trip not started because EV not available!
		}
	}

	public boolean endTrip(double tripDist_km, double idleTime) {
		if(availability) {
			traceln("Trip not ended because EV never left!");
			return false;
		} else {
			//traceln( "J_EAEV comes back, trip distance: " + tripDist_km + ", energy consumption: " + tripDist_km * energyConsumption_kWhpkm);
			stateOfCharge_r -= (tripDist_km * vehicleScaling * energyConsumption_kWhpkm) / storageCapacity_kWh;
			//traceln("storage capacity: " + storageCapacity_kWh + ", state of charge: " + stateOfCharge_r);
			energyUsed_kWh += tripDist_km * vehicleScaling * energyConsumption_kWhpkm;
			if (stateOfCharge_r < 0) {
//				traceln("EV in " + this.toString() + " arrived home with negative SOC ! Negative charge " + -stateOfCharge_r * storageCapacity_kWh + " kWh");
			}
			idleTimeToNextTrip_MIN = idleTime;
			availability = true;
			return true;
		}
	}

	public void updateChargingHistory(double electricityProduced_kW, double electricityConsumed_kW) {
		discharged_kWh += electricityProduced_kW * timestep_h;
		charged_kWh += electricityConsumed_kW * timestep_h;
	}

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	public double getStorageCapacity_kWh() {
		return storageCapacity_kWh;
	}

	public double getEnergyConsumption_kWhpkm() {
		return energyConsumption_kWhpkm;
	}

	public boolean getAvailability() {
		return availability;
	}

	public double getChargingTimeToFull_MIN() {
		double chargingTime = roundToInt( 60 * (storageCapacity_kWh - storageCapacity_kWh * stateOfCharge_r) / capacityElectric_kW ) ;
		return chargingTime;
	}

	public double getIdleTime() {
		return idleTimeToNextTrip_MIN;
	}

	public double getMaxSpreadChargingRatio() {
		return maxSpreadChargingRatio;
	}

	public void setMaxSpreadChargingRatio(int extraTime_MIN) {
		maxSpreadChargingRatio = (storageCapacity_kWh - stateOfCharge_r * storageCapacity_kWh) /  ((idleTimeToNextTrip_MIN - extraTime_MIN ) / 60); // determine required charging speed
		//traceln("");
		//traceln( "kWh in battery = " + stateOfCharge_r * storageCapacity_kWh);
		//traceln("Idle time " + ((idleTimeToNextTrip_MIN - extraTime_MIN ) / 60));
		//traceln( "Resulting max spread kW = " + maxSpreadChargingRatio);
		if( stateOfCharge_r < 0 ) {
			maxSpreadChargingRatio = - maxSpreadChargingRatio +  storageCapacity_kWh /  (idleTimeToNextTrip_MIN / 60); // make sure negative SOCs are corrected for
			traceln( "State of charge from vehicle < 0, max spread charging power fixed to " + maxSpreadChargingRatio);
		}
		maxSpreadChargingRatio = maxSpreadChargingRatio / capacityElectric_kW; //turn kW into ratio
		if ( maxSpreadChargingRatio >  1) {
			traceln("J_EAEV will charge faster than max to get full for next trip. charging speed: " + maxSpreadChargingRatio * capacityElectric_kW);
		}
	}

	public void setMobilityTracker(MobilityTracker tracker) {
		mobilityTracker = tracker;
	}

	public MobilityTracker getMobilityTracker() {
		return mobilityTracker;
	}

	@Override
	public String toString() {
		return
			"stateOfCharge_r = " + roundToDecimal( stateOfCharge_r, 2 ) + " " +
			"storageCapacity_kWh = " + storageCapacity_kWh + " " +
			"charged_kWh = " + charged_kWh + " " +
			"discharged_kWh = " + discharged_kWh + " ";
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1660131551684</Id>
			<Name><![CDATA[J_EAConversionHeatDeliverySet]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionHeatDeliverySet
 */
public class J_EAConversionHeatDeliverySet extends base.J_EAConversion implements Serializable {

	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.HEAT;
    /**
     * Default constructor
     */
    public J_EAConversionHeatDeliverySet() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionHeatDeliverySet(EnergyAsset ownerAssetAgent, double capacityThermal_kW, double efficiency) {
	    this.ownerAsset = ownerAssetAgent;
	    this.capacityHeat_kW = capacityThermal_kW;
	    this.eta_r = efficiency;
	}

    @Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
		this.heatProduction_kW = capacityHeat_kW * ratioOfCapacity;
		this.heatConsumption_kW = heatProduction_kW / eta_r;

		this.energyUsed_kWh += timestep_h * (heatConsumption_kW - heatProduction_kW); // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
    }

	@Override
	public String toString() {
		return
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"eta_r = " + this.eta_r+" ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1661266990567</Id>
			<Name><![CDATA[J_ExperimentSettingsData]]></Name>
			<Text><![CDATA[/**
 * J_ExperimentSettingsData
 */
public class J_ExperimentSettingsData implements Serializable {

	public String timeStep_h;
	public String timeStepsElapsed;
	public String modelHoursElapsed_h;
	public String modelStartUpDuration_s;
	public String modelRunDuration_s;
	public String nGridNodes;
	public String nGridConnections;
	public String nEnergyAssets;
	public String nConnectionOwners;
	public String nEnergySuppliers;
	public String nEnergyHolons;
	public String nAdministrativeHolons;
	public String nGridOperators;
	public String nNationalEnergyMarket;

	 /**
     * Default constructor
     */
    public J_ExperimentSettingsData() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_ExperimentSettingsData(String timeStep_h) {
		this.timeStep_h = timeStep_h;
		this.timeStepsElapsed = "";
		this.modelHoursElapsed_h = "";
		this.modelStartUpDuration_s = "";
		this.modelRunDuration_s = "";
		this.nGridNodes = "";
		this.nGridConnections = "";
		this.nEnergyAssets = "";
		this.nConnectionOwners = "";
		this.nEnergySuppliers = "";
		this.nEnergyHolons = "";
		this.nAdministrativeHolons = "";
		this.nGridOperators = "";
		this.nNationalEnergyMarket = "";

    }

	@Override
	public String toString() {
		return
			"timeStep_h = " + timeStep_h +" " +
			"timeStepsElapsed = " + timeStepsElapsed +" " +
			"modelHoursElapsed_h = " + modelHoursElapsed_h + " " +
			"modelStartUpDuration_s = " + modelStartUpDuration_s + " " +
			"modelRunDuration_s = " + modelRunDuration_s + " " +
			"nGridNodes = " + nGridNodes + " " +
			"nGridConnections = " + nGridConnections + " " +
			"nEnergyAssets = " +	nEnergyAssets + " " +
			"nConnectionOwners = " + nConnectionOwners + " " +
			"nEnergySuppliers = "+ nEnergySuppliers + " " +
			"nEnergyHolons = " + nEnergyHolons + " " +
			"nAdministrativeHolons = " + nAdministrativeHolons + " " +
			"nGridOperators = " + nGridOperators + " " +
			"nNationalEnergyMarket = " + nNationalEnergyMarket;
	}

	public void updateData(String timeStep_h, String timeStepsElapsed, String modelHoursElapsed_h, String modelStartUpDuration_s, String modelRunDuration_s, String nGridNodes,	String nGridConnections, String nEnergyAssets, String nConnectionOwners, String nEnergySuppliers, String nEnergyHolons, String nAdministrativeHolons, String nGridOperators, String nNationalEnergyMarket) {
		this.timeStep_h = timeStep_h;
		this.timeStepsElapsed = timeStepsElapsed;
		this.modelHoursElapsed_h = modelHoursElapsed_h;
		this.modelStartUpDuration_s = modelStartUpDuration_s;
		this.modelRunDuration_s = modelRunDuration_s;
		this.nGridNodes = nGridNodes;
		this.nGridConnections = nGridConnections;
		this.nEnergyAssets = nEnergyAssets;
		this.nConnectionOwners = nConnectionOwners;
		this.nEnergySuppliers = nEnergySuppliers;
		this.nEnergyHolons = nEnergyHolons;
		this.nAdministrativeHolons = nAdministrativeHolons;
		this.nGridOperators = nGridOperators;
		this.nNationalEnergyMarket = nNationalEnergyMarket;
	}


	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1661349111073</Id>
			<Name><![CDATA[DataOut]]></Name>
			<Text><![CDATA[/**
 * DataOut
 */
public class DataOut implements Serializable {

	public ArrayList connectionOwnerData = new ArrayList();
	public ArrayList runSettingsData = new ArrayList(1);
	public ArrayList totalCostData = new ArrayList(2);

	public void clearData() {
		connectionOwnerData.clear();
		runSettingsData.clear();
		totalCostData.clear();
	}
}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1663238817163</Id>
			<Name><![CDATA[J_ConnectionOwnerData]]></Name>
			<Text><![CDATA[/**
 * J_ConnectionOwnerData
 */
public class J_ConnectionOwnerData implements Serializable {

	public String actorID;
	public String actorType;
	public String parentActorID;
	public String energySupplier;
	public String ownedGridConnection;
	public String energySupplierDistrictHeat;
	public String electricityVolume_kWh;
	public String heatVolume_kWh;
	public String methaneVolume_kWh;
	public String hydrogenVolume_kWh;
	public String electricityContractType;
	public String heatContractType;
	public String methaneContractType;
	public String hydrogenContractType;
	public String balanceElectricity_eur;
	public String balanceHeat_eur;
	public String balanceMethane_eur;
	public String balanceHydrogen_eur;

	 /**
     * Default constructor
     */
    public J_ConnectionOwnerData() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_ConnectionOwnerData(String actorID, String actorType, String parentActorID) {
		this.actorID = actorID;
		this.actorType = actorType;
		this.parentActorID = parentActorID;
		this.energySupplier = "";
		this.ownedGridConnection = "";
		this.energySupplierDistrictHeat = "";
		this.electricityVolume_kWh = "";
		this.heatVolume_kWh = "";
		this.methaneVolume_kWh = "";
		this.hydrogenVolume_kWh = "";
		this.electricityContractType = "";
		this.heatContractType = "";
		this.methaneContractType = "";
		this.hydrogenContractType = "";
		this.balanceElectricity_eur = "";
		this.balanceHeat_eur = "";
		this.balanceMethane_eur = "";
		this.balanceHydrogen_eur = "";
    }

	@Override
	public String toString() {
		return
			"actorID = " + actorID +" " +
			"actorType = " + actorType +" " +
			"parentActorID = " + parentActorID +" " +
			"energySupplier = " + energySupplier +" " +
			"ownedGridConnection = " + ownedGridConnection +" " +
			"energySupplierDistrictHeat = " + energySupplierDistrictHeat +" " +
			"electricityVolume_kWh = " + electricityVolume_kWh +" " +
			"heatVolume_kWh = " + heatVolume_kWh +" " +
			"methaneVolume_kWh = " + methaneVolume_kWh +" " +
			"hydrogenVolume_kWh = " + hydrogenVolume_kWh +" " +
			"electricityContractType = " + electricityContractType +" " +
			"heatContractType = " + heatContractType +" " +
			"methaneContractType = " + methaneContractType +" " +
			"hydrogenContractType = " + hydrogenContractType +" " +
			"balanceElectricity_eur = " + balanceElectricity_eur +" " +
			"balanceHeat_eur = " + balanceHeat_eur +" " +
			"balanceMethane_eur = " + balanceMethane_eur +" " +
			"balanceHydrogen_eur = " + balanceHydrogen_eur +" ";
	}

	public void updateData(String actorID, String actorType, String parentActorID, Agent energySupplier, GridConnection ownedGridConnection, Agent energySupplierDistrictHeat,double electricityVolume_kWh, double heatVolume_kWh, double methaneVolume_kWh, double hydrogenVolume_kWh, String electricityContractType, String heatContractType, String methaneContractType, String hydrogenContractType, double balanceElectricity_eur, double balanceHeat_eur, double balanceMethane_eur, double balanceHydrogen_eur) {
		this.actorID = actorID;
		this.actorType = actorType;
		this.parentActorID = parentActorID;
		this.energySupplier = energySupplier.toString();
		this.ownedGridConnection = ownedGridConnection.toString();
		this.energySupplierDistrictHeat = energySupplierDistrictHeat +"";
		this.electricityVolume_kWh = electricityVolume_kWh + "";
		this.heatVolume_kWh = heatVolume_kWh  + "";
		this.methaneVolume_kWh = methaneVolume_kWh + "";
		this.hydrogenVolume_kWh = hydrogenVolume_kWh + "";
		this.electricityContractType = electricityContractType + "";
		this.heatContractType = heatContractType + "";
		this.methaneContractType = methaneContractType + "";
		this.hydrogenContractType = hydrogenContractType + "";
		this.balanceElectricity_eur = balanceElectricity_eur + "";
		this.balanceHeat_eur = balanceHeat_eur + "";
		this.balanceMethane_eur = balanceMethane_eur + "";
		this.balanceHydrogen_eur = balanceHydrogen_eur + "";
	}
	/*
	public ArrayList returnData() {
		ArrayList data = new ArrayList({actorID, actorType, parentActorID, energySupplier, ownedGridConnection.toString(), energySupplierDistrictHeat.toString(), electricityVolume_kWh, heatVolume_kWh, methaneVolume_kWh, hydrogenVolume_kWh, balanceElectricity_eur, balanceHeat_eur, balanceMethane_eur, balanceHydrogen_eur});
		return data;

	}*/
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1665502017804</Id>
			<Name><![CDATA[J_EAConversionHydrogenBurner]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionGasBurner
 */
public class J_EAConversionHydrogenBurner extends base.J_EAConversion implements Serializable {

	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.HYDROGEN;
    /**
     * Default constructor
     */
    public J_EAConversionHydrogenBurner() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionHydrogenBurner(EnergyAsset ownerAssetAgent, double capacityThermal_kW, double efficiency, double timestep_h) {
	    this.ownerAsset = ownerAssetAgent;
	    this.capacityHeat_kW = capacityThermal_kW;
	    this.eta_r = efficiency;
	    this.timestep_h = timestep_h;
	}

    @Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
		this.heatProduction_kW = capacityHeat_kW * ratioOfCapacity;
		this.hydrogenConsumption_kW = heatProduction_kW / eta_r;

		this.energyUsed_kWh += timestep_h * (hydrogenConsumption_kW - heatProduction_kW); // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
    }

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	@Override
	public String toString() {
		return
			"ownerAsset = " + ownerAsset +" " +
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"eta_r = " + this.eta_r+" ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1666189454452</Id>
			<Name><![CDATA[J_EAConversionBoiler]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionBoiler
 */
public class J_EAConversionBoiler extends J_EAConversion implements Serializable {

	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.ELECTRICITY;
    /**
     * Default constructor
     */
    public J_EAConversionBoiler(EnergyAsset ownerAssetAgent, double capacityElectric_kW, double efficiency, double timestep_h) {
	    this.ownerAsset = ownerAssetAgent;
	    this.capacityElectric_kW = capacityElectric_kW;
	    this.eta_r = efficiency;
	    this.capacityHeat_kW = this.capacityElectric_kW * this.eta_r;
	    this.timestep_h = timestep_h;
    }

    @Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
		this.heatProduction_kW = capacityElectric_kW * ratioOfCapacity * eta_r;
		this.electricityConsumption_kW = capacityElectric_kW * ratioOfCapacity;

		this.energyUsed_kWh += timestep_h * (electricityConsumption_kW - heatProduction_kW); // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
    }

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	@Override
	public String toString() {
		return super.toString();
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1666879973864</Id>
			<Name><![CDATA[J_TotalCostData]]></Name>
			<Text><![CDATA[/**
 * J_TotalCostData
 */
public class J_TotalCostData implements Serializable {

	public double HSMSPeakLoadElectricity_kW;
	public double MSLSPeakLoadElectricity_kW;
	public Map<String,Double> timesOfNodePeakLoads_h = new LinkedHashMap<String,Double>();
	public Map<String,Double> gridConnectionMaxLoad_fr = new LinkedHashMap<String,Double>();
	public double checkSumHourlyElectricityImport_MWh;
	public double checkSumHourlyElectricityExport_MWh;
	public double totalElectricityImport_MWh;
	public double totalElectricityExport_MWh;
	public double totalMethaneImport_MWh;
	public double totalMethaneExport_MWh;
	public double totalHydrogenImport_MWh;
	public double totalHydrogenExport_MWh;
	public double totalDieselImport_MWh;
	public Map<String,Double> totalBatteryUnitsInstalled = new LinkedHashMap<String,Double>();
	public Map<String,Double> totalBatteryChargeAmount_MWh = new LinkedHashMap<String,Double>();
	public Map<String,Double> totalBatteryDischargeAmount_MWh = new LinkedHashMap<String,Double>();
	public Map<String,Double> totalBatteryInstalledCapacity_MWh = new LinkedHashMap<String,Double>();
	public Map<Integer,Double> SystemHourlyElectricityImport_MWh = new LinkedHashMap<Integer,Double>();
	public Map<Integer,Double> SystemHourlyElectricityExport_MWh = new LinkedHashMap<Integer,Double>();
	public Map<Integer,Double> totalEVHourlyChargingProfile_kWh = new LinkedHashMap<Integer,Double>();
	public Map<Integer,Double> totalEHGVHourlyChargingProfile_kWh = new LinkedHashMap<Integer,Double>();
	public Map<Integer,Double> totalBatteryHourlyChargingProfile_kWh = new LinkedHashMap<Integer, Double>();
	public double totalSelfConsumption_fr;
	public double totalSelfSufficiency_fr;
	public double TotalEnergyUsed_MWh;
	public double TotalEnergyProduced_MWh;

	 /**
     * Default constructor
     */
    public J_TotalCostData() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_TotalCostData( double v_gridNodeLoadElectricityHSMS_kW, double v_gridNodeLoadElectricityMSLS_kW, LinkedHashMap<String,Double> c_timesOfNodePeakLoads_h, LinkedHashMap<String,Double> gridConnectionMaxLoad_fr, double totalElectricityImport_MWh, double totalElectricityExport_MWh, double totalMethaneImport_MWh, double totalMethaneExport_MWh, double totalHydrogenImport_MWh, double totalHydrogenExport_MWh, double totalDieselImport_MWh, LinkedHashMap<String,Double> totalBatteryUnitsInstalled, LinkedHashMap<String,Double> totalBatteryChargeAmount_MWh, LinkedHashMap<String,Double> totalBatteryDischargeAmount_MWh, LinkedHashMap<String,Double> totalBatteryInstalledCapacity_MWh, LinkedHashMap<Integer,Double> c_globalElectricityImportProfile_MWhph, LinkedHashMap<Integer,Double> c_globalElectricityExportProfile_MWhph, LinkedHashMap<Integer,Double> totalEVHourlyChargingProfile_kWh, LinkedHashMap<Integer,Double> totalEHGVHourlyChargingProfile_kWh, LinkedHashMap<Integer,Double> totalBatteryHourlyChargingProfile_kWh, double totalSelfConsumption_fr, double totalSelfSufficiency_fr, double TotalEnergyUsed_MWh, double TotalEnergyProduced_MWh) {
		this.HSMSPeakLoadElectricity_kW = v_gridNodeLoadElectricityHSMS_kW;
		this.MSLSPeakLoadElectricity_kW = v_gridNodeLoadElectricityMSLS_kW;
		this.timesOfNodePeakLoads_h = c_timesOfNodePeakLoads_h;
		this.gridConnectionMaxLoad_fr = gridConnectionMaxLoad_fr;
		this.checkSumHourlyElectricityImport_MWh = 0;
		this.checkSumHourlyElectricityExport_MWh = 0;
		this.totalElectricityImport_MWh = totalElectricityImport_MWh;
		this.totalElectricityExport_MWh = totalElectricityExport_MWh;
		this.totalMethaneImport_MWh = totalMethaneImport_MWh;
		this.totalMethaneExport_MWh = totalMethaneExport_MWh;
		this.totalHydrogenImport_MWh = totalHydrogenImport_MWh;
		this.totalHydrogenExport_MWh = totalHydrogenExport_MWh;
		this.totalDieselImport_MWh = totalDieselImport_MWh;
		this.totalBatteryUnitsInstalled = totalBatteryUnitsInstalled;
		this.totalBatteryChargeAmount_MWh = totalBatteryChargeAmount_MWh;
		this.totalBatteryDischargeAmount_MWh = totalBatteryDischargeAmount_MWh;
		this.totalBatteryInstalledCapacity_MWh = totalBatteryInstalledCapacity_MWh;
		this.SystemHourlyElectricityImport_MWh = c_globalElectricityImportProfile_MWhph;
		this.SystemHourlyElectricityExport_MWh = c_globalElectricityExportProfile_MWhph;
		this.totalEVHourlyChargingProfile_kWh = totalEVHourlyChargingProfile_kWh;
		this.totalEHGVHourlyChargingProfile_kWh = totalEHGVHourlyChargingProfile_kWh;
		this.totalBatteryHourlyChargingProfile_kWh = totalBatteryHourlyChargingProfile_kWh;
		this.totalSelfConsumption_fr = totalSelfConsumption_fr;
		this.totalSelfSufficiency_fr = totalSelfSufficiency_fr;
		this.TotalEnergyUsed_MWh = TotalEnergyUsed_MWh;
		this.TotalEnergyProduced_MWh = TotalEnergyProduced_MWh;
    }

	@Override
	public String toString() {
		return
			"HSMSPeakLoadElectricity_kW = " + HSMSPeakLoadElectricity_kW + " " +
			"MSLSPeakLoadElectricity_kW = " + MSLSPeakLoadElectricity_kW + " " +
			"checkSumHourlyElectricityImport_MWh = " + checkSumHourlyElectricityImport_MWh + " " +
			"checkSumHourlyElectricityExport_MWh = " + checkSumHourlyElectricityExport_MWh + " " +
			"totalElectricityImport_MWh = " + totalElectricityImport_MWh + " " +
			"totalElectricityExport_MWh = " + totalElectricityExport_MWh + " " +
			"totalMethaneImport_MWh = " + totalMethaneImport_MWh + " " +
			"totalMethaneExport_MWh = " + totalMethaneExport_MWh + " " +
			"totalHydrogenImport_MWh = " + totalHydrogenImport_MWh + " " +
			"totalHydrogenExport_MWh = " + totalHydrogenExport_MWh + " "+
			"totalDieselImport_MWh = " + totalDieselImport_MWh + " " +
			"totalBatteryUnitsInstalled = " + totalBatteryUnitsInstalled + " "+
			"totalBatteryChargeAmount_MWh = " + totalBatteryChargeAmount_MWh + " "+
			"totalBatteryDischargeAmount_MWh = " + totalBatteryDischargeAmount_MWh + " "+
			"totalBatteryInstalledCapacity_MWh = " + totalBatteryInstalledCapacity_MWh + " "+
			"SystemHourlyElectricityImport_MWh = " + SystemHourlyElectricityImport_MWh.toString() + " " +
			"SystemHourlyElectricityExport_MWh = " + SystemHourlyElectricityExport_MWh.toString() + " " +
			"totalEVHourlyChargingProfile_kWh = " + totalEVHourlyChargingProfile_kWh + " "+
			"totalEHGVHourlyChargingProfile_kWh = " + totalEHGVHourlyChargingProfile_kWh + " "+
			"totalBatteryHourlyChargingProfile_kWh = " + totalBatteryHourlyChargingProfile_kWh + " " +
			"totalSelfConsumption_fr = " + totalSelfConsumption_fr*100 + " %" +
			"totalSelfSufficiency_fr = " + totalSelfSufficiency_fr*100 + " %" +
			"totalEnergyUsed_MWh = " + TotalEnergyUsed_MWh + " MWh" +
			"TotalEnergyProduced_MWh = " + TotalEnergyProduced_MWh + " MWh";
	}

	public void updateData( double v_gridNodePeakLoadElectricityHSMS_kW, double v_gridNodePeakLoadElectricityMSLS_kW, LinkedHashMap<String,Double> c_timesOfNodePeakLoads_h, LinkedHashMap<String,Double> gridConnectionMaxLoad_fr, double totalElectricityImport_MWh, double totalElectricityExport_MWh, double totalMethaneImport_MWh, double totalMethaneExport_MWh, double totalHydrogenImport_MWh, double totalHydrogenExport_MWh, double totalDieselImport_MWh, LinkedHashMap<String,Double> totalBatteryUnitsInstalled, LinkedHashMap<String,Double> totalBatteryChargeAmount_MWh, LinkedHashMap<String,Double> totalBatteryDischargeAmount_MWh, LinkedHashMap<String,Double> totalBatteryInstalledCapacity_MWh, LinkedHashMap<Integer,Double> c_globalElectricityImportProfile_MWhph, LinkedHashMap<Integer,Double> c_globalElectricityExportProfile_MWhph, LinkedHashMap<Integer,Double> totalEVHourlyChargingProfile_kWh, LinkedHashMap<Integer,Double> totalEHGVHourlyChargingProfile_kWh, LinkedHashMap<Integer,Double> totalBatteryHourlyChargingProfile_kWh, double totalSelfConsumption_fr, double totalSelfSufficiency_fr, double TotalEnergyUsed_MWh, double TotalEnergyProduced_MWh ) {
		this.HSMSPeakLoadElectricity_kW = v_gridNodePeakLoadElectricityHSMS_kW;
		this.MSLSPeakLoadElectricity_kW = v_gridNodePeakLoadElectricityMSLS_kW;
		this.timesOfNodePeakLoads_h = c_timesOfNodePeakLoads_h;
		this.gridConnectionMaxLoad_fr = gridConnectionMaxLoad_fr;
		this.totalElectricityImport_MWh = roundToDecimal( totalElectricityImport_MWh , 2 );
		this.totalElectricityExport_MWh = roundToDecimal( totalElectricityExport_MWh, 2 );
		this.totalMethaneImport_MWh = roundToDecimal( totalMethaneImport_MWh, 2 );
		this.totalMethaneExport_MWh = roundToDecimal( totalMethaneExport_MWh, 2 );
		this.totalHydrogenImport_MWh = roundToDecimal( totalHydrogenImport_MWh, 2 );
		this.totalHydrogenExport_MWh = roundToDecimal( totalHydrogenExport_MWh, 2 );
		this.totalDieselImport_MWh = roundToDecimal( totalDieselImport_MWh, 2 );
		this.totalBatteryUnitsInstalled = totalBatteryUnitsInstalled;
		this.totalBatteryChargeAmount_MWh = totalBatteryChargeAmount_MWh;
		this.totalBatteryDischargeAmount_MWh = totalBatteryDischargeAmount_MWh;
		this.totalBatteryInstalledCapacity_MWh = totalBatteryInstalledCapacity_MWh;
		this.SystemHourlyElectricityImport_MWh = c_globalElectricityImportProfile_MWhph;
		this.SystemHourlyElectricityExport_MWh = c_globalElectricityExportProfile_MWhph;
		this.checkSumHourlyElectricityImport_MWh = SystemHourlyElectricityImport_MWh.values().stream().mapToDouble(d -> d).sum();
		this.checkSumHourlyElectricityExport_MWh = SystemHourlyElectricityExport_MWh.values().stream().mapToDouble(d -> d).sum();
		this.totalEVHourlyChargingProfile_kWh = totalEVHourlyChargingProfile_kWh;
		this.totalEHGVHourlyChargingProfile_kWh = totalEHGVHourlyChargingProfile_kWh;
		this.totalBatteryHourlyChargingProfile_kWh = totalBatteryHourlyChargingProfile_kWh;
		this.totalSelfConsumption_fr = totalSelfConsumption_fr;
		this.totalSelfSufficiency_fr = totalSelfSufficiency_fr;
		this.TotalEnergyUsed_MWh = TotalEnergyUsed_MWh;
		this.TotalEnergyProduced_MWh = TotalEnergyProduced_MWh;
	}


	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1668600448637</Id>
			<Name><![CDATA[J_EAConversionDieselVehicle]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionDieselVehicle
 */
public class J_EAConversionDieselVehicle extends base.J_EAConversion implements Serializable {

	private OL_EnergyCarrierType energyCarrierProduced = null;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.DIESEL;
	private double energyConsumption_kWhpkm;
	private MobilityTracker mobilityTracker = null;
	private boolean availability = false;
	private double vehicleScaling;

    /**
     * Default constructor
     */
    public J_EAConversionDieselVehicle() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionDieselVehicle(EnergyAsset ownerAssetAgent, double efficiency, double energyConsumption_kWhpkm, double timestep_h, double vehicleScaling) {
	    this.ownerAsset = ownerAssetAgent;
	    this.eta_r = efficiency;
	    this.energyConsumption_kWhpkm = energyConsumption_kWhpkm;
	    this.timestep_h = timestep_h;
	    this.vehicleScaling = vehicleScaling;
	}

 //   @Override
  //  public double[] operate(double ratioOfCapacity) {
//		//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
//		this.heatProduction_kW = capacityHeat_kW * ratioOfCapacity;
//		this.hydrogenConsumption_kW = heatProduction_kW / eta_r;
//
//		this.energyUsed_kWh += timestep_h * (hydrogenConsumption_kW - heatProduction_kW); // This represents losses!
//		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
 //   	//return arr;
//		return returnEnergyFlows();
 //   }


    public void endTrip(double tripDist_km, double idleTime) {
		//traceln( "J_EAEV comes back, trip distance: " + tripDist_km + ", energy consumption: " + tripDist_km * energyConsumption_kWhpkm);
    	double energyUsedForTrip_kWh = tripDist_km * vehicleScaling * energyConsumption_kWhpkm * eta_r;
    	energyUsed_kWh += energyUsedForTrip_kWh;
    	dieselConsumption_kW = energyUsedForTrip_kWh / timestep_h;
    }

    public double[] operate(double ratioOfChargeCapacity_r) {
    	return returnEnergyFlows();
    }

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	public boolean startTrip() {
		return true;
	}

	public void setMobilityTracker(MobilityTracker tracker) {
		mobilityTracker = tracker;
	}

	public boolean getAvailability() {
		return availability;
	}

	@Override
	public String toString() {
		return
			"ownerAsset = " + ownerAsset +" " +
			"energyConsumption_kWhpkm =" + energyConsumption_kWhpkm +" " +
			"vehicleScaling = " + vehicleScaling + " " +
			"eta_r = " + eta_r +" ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
	</JavaClasses>
	<ModelResources>
		<Resource>
			<Path><![CDATA[db_backboneParams.xlsx]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[windmill-svgrepo-com.png]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[solarfarm.png]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[db_profiles.xlsx]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[db_defaultEnergyAssets.xlsx]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[AlbatrossProcessedVehicleTrips.xlsx]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[inputTruckTripPatterns.xlsx]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[cases/industry_case/industry_case_gridconnections.txt]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[cases/industry_case/industry_case_gridnodes.txt]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[cases/industry_case/industry_case_policies.txt]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
		<Resource>
			<Path><![CDATA[cases/industry_case/dayahead_gopacs_collective_actors.txt]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
		</Resource>
	</ModelResources>
    <RequiredLibraryReference>
		<LibraryName><![CDATA[com.anylogic.libraries.modules.markup_descriptors]]></LibraryName>
		<VersionMajor>1</VersionMajor>
		<VersionMinor>0</VersionMinor>
		<VersionBuild>0</VersionBuild>
    </RequiredLibraryReference>
    <RequiredLibraryReference>
		<LibraryName><![CDATA[com.anylogic.libraries.processmodeling]]></LibraryName>
		<VersionMajor>8</VersionMajor>
		<VersionMinor>0</VersionMinor>
		<VersionBuild>5</VersionBuild>
    </RequiredLibraryReference>
	<CloudModelUuid><![CDATA[ccbb2666-148e-4cd3-a9d3-2c089791a1ae]]></CloudModelUuid>
</Model>
</AnyLogicWorkspace>